{
  "@id": "/courses/bf573045-49c8-44c3-b2e5-8eec7b8eaab3",
  "@type": "Course",
  "uuid": "bf573045-49c8-44c3-b2e5-8eec7b8eaab3",
  "type": "cks_simulator",
  "name": "CKS Simulator",
  "version": "1.31",
  "questions": {
    "1.31": {
      "1": "\n\n\u003E Each question needs to be solved on a specific instance other than your main `candidate@terminal`. You\u0027ll need to connect to the correct instance via ssh, the command is provided before each question. To connect to a different instance you always need to return first to your main terminal by running the `exit` command, from there you can connect to a different one.\n\n\u003E In the real exam each question will be solved on a different instance whereas in the simulator multiple questions will be solved on same instances.\n\n\u003E Use `sudo -i` to become root on any node in case necessary.\n\n\n\nSolve this question on: `ssh cks3477`\n\n\n\n\nYou have access to multiple clusters from your main terminal through `kubectl` contexts. Write all context names into `/opt/course/1/contexts` on `cks3477`, one per line.\n\nFrom the kubeconfig extract the certificate of user `restricted@infra-prod` and write it decoded to `/opt/course/1/cert`.\n",
      "2": "\n\n\nSolve this question on: `ssh cks7262`\n\n\n\nFalco is installed on worker node `cks7262-node1`. Connect using `ssh cks7262-node1` from `cks7262`. There is file `/etc/falco/rules.d/falco_custom.yaml` with rules that help you to:\n\n1. Find a *Pod* running image `httpd` which modifies `/etc/passwd`.\n\n   Scale the *Deployment* that controls that *Pod* down to 0.\n\n2. Find a *Pod* running image `nginx` which triggers rule `Package management process launched`.\n\n   Change the rule log text after `Package management process launched` to only include:\n\n   ````\n   time-with-nanosconds,container-id,container-name,user-name\n   ````\n\n   Collect the logs for at least 20 seconds and save them under `/opt/course/2/falco.log` on `cks7262`.\n\n   Scale the *Deployment* that controls that *Pod* down to 0.\n\n\n\n\u003E :information_source: Use `sudo -i` to become root which may be required for this question\n\n",
      "3": "\n\n\nSolve this question on: `ssh cks7262`\n\n\n\nYou received a list from the DevSecOps team which performed a security investigation of the cluster. The list states the following about the apiserver setup:\n\n* Accessible through a NodePort *Service*\n\nChange the apiserver setup so that:\n\n* Only accessible through a ClusterIP *Service*\n\n\n\n\u003E :information_source: Use `sudo -i` to become root which may be required for this question\n",
      "4": "\n\n\nSolve this question on: `ssh cks7262`\n\n\n\nThere is *Deployment* `container-host-hacker` in *Namespace* `team-red` which mounts `/run/containerd` as a hostPath volume on the *Node* where it\u0027s running. This means that the *Pod* can access various data about other containers running on the same *Node*.\n\nTo prevent this configure *Namespace* `team-red` to `enforce` the `baseline` Pod Security Standard. Once completed, delete the *Pod* of the *Deployment* mentioned above.\n\nCheck the *ReplicaSet* events and write the event/log lines containing the reason why the *Pod* isn\u0027t recreated into `/opt/course/4/logs` on `cks7262`.\n",
      "5": "\n\n\nSolve this question on: `ssh cks3477`\n\n\n\nYou\u0027re ask to evaluate specific settings of the cluster against the CIS Benchmark recommendations. Use the tool `kube-bench` which is already installed on the nodes.\n\nConnect to the worker node using `ssh cks3477-node1` from `cks3477`.\n\nOn the controlplane node ensure (correct if necessary) that the CIS recommendations are set for:\n\n1. The `--profiling` argument of the kube-controller-manager\n\n2. The ownership of directory `/var/lib/etcd`\n\nOn the worker node ensure (correct if necessary) that the CIS recommendations are set for:\n\n3. The permissions of the kubelet configuration `/var/lib/kubelet/config.yaml`\n\n4. The `--client-ca-file` argument of the kubelet\n\n\n\n\u003E :information_source: Use `sudo -i` to become root which may be required for this question\n",
      "6": "\n\n\nSolve this question on: `ssh cks3477`\n\n\n\nThere are four Kubernetes server binaries located at `/opt/course/6/binaries` on `cks3477`. You\u0027re provided with the following verified sha512 values for these:\n\n**kube-apiserver**\n`f417c0555bc0167355589dd1afe23be9bf909bf98312b1025f12015d1b58a1c62c9908c0067a7764fa35efdac7016a9efa8711a44425dd6692906a7c283f032c  `\n\n**kube-controller-manager**\n`60100cc725e91fe1a949e1b2d0474237844b5862556e25c2c655a33boa8225855ec5ee22fa4927e6c46a60d43a7c4403a27268f96fbb726307d1608b44f38a60`\n\n**kube-proxy**\n`52f9d8ad045f8eee1d689619ef8ceef2d86d50c75a6a332653240d7ba5b2a114aca056d9e513984ade24358c9662714973c1960c62a5cb37dd375631c8a614c6`\n\n**kubelet**\n`4be40f2440619e990897cf956c32800dc96c2c983bf64519854a3309fa5aa21827991559f9c44595098e27e6f2ee4d64a3fdec6baba8a177881f20e3ec61e26c`\n\nDelete those binaries that don\u0027t match with the sha512 values above.\n\n",
      "7": "\n\n\nSolve this question on: `ssh cks8930`\n\n\n\nYou\u0027re asked to update the cluster\u0027s `KubeletConfiguration`. Implement the following changes in the Kubeadm way that ensures new Nodes added to the cluster will receive the changes too:\n\n1. Set `containerLogMaxSize` to `5Mi`\n\n   Set `containerLogMaxFiles` to `3`\n\n2. Apply the changes for the Kubelet on `cks8930`\n\n3. Apply the changes for the Kubelet on `cks8930-node1`. Connect with `ssh cks8930-node1` from `cks8930`\n\n\n\n\u003E :information_source: Use `sudo -i` to become root which may be required for this question\n",
      "8": "\n\n\nSolve this question on: `ssh cks7262`\n\n\n\nIn *Namespace* `team-orange` a Default-Allow strategy for all *Namespace*-internal traffic was chosen. There is an existing *CiliumNetworkPolicy* `default-allow` which assures this and which should not be altered. That policy also allows cluster internal DNS resolution.\n\nNow it\u0027s time to deny and authenticate certain traffic. Create 3 *CiliumNetworkPolicies* in *Namespace* `team-orange` to implement the following requirements:\n\n1. Create a `Layer 3` policy named `p1` to:\n\n   Deny outgoing traffic from *Pods* with label `type=messenger` to *Pods* behind *Service* `database`\n\n2. Create a `Layer 4` policy named `p2` to:\n\n   Deny outgoing `ICMP` traffic from *Deployment* `transmitter` to *Pods* behind *Service* `database`\n\n3. Create a `Layer 3` policy named `p3` to:\n\n   Enable Mutual Authentication for outgoing traffic from *Pods* with label `type=database` to *Pods* with label `type=messenger`\n\n\n\n\u003E :information_source: All *Pods* in the *Namespace* run plain Nginx images with open port 80. This allows simple connectivity tests like: `k -n team-orange exec POD_NAME -- curl database`\n",
      "9": "\n\n\nSolve this question on: `ssh cks7262`\n\n\n\nSome containers need to run more secure and restricted. There is an existing AppArmor profile located at `/opt/course/9/profile` on `cks7262` for this.\n\n1. Install the AppArmor profile on *Node* `cks7262-node1`.\n\n   Connect using `ssh cks7262-node1` from `cks7262`\n\n2. Add label `security=apparmor` to the *Node*\n\n3. Create a *Deployment* named `apparmor` in *Namespace* `default` with:\n\n   * One replica of image `nginx:1.27.1`\n   * NodeSelector for `security=apparmor`\n   * Single container named `c1` with the AppArmor profile enabled only for this container\n\n   The *Pod* might not run properly with the profile enabled. Write the logs of the *Pod* into `/opt/course/9/logs` on `cks7262` so another team can work on getting the application running.\n\n\n\n\u003E :information_source: Use `sudo -i` to become root which may be required for this question\n",
      "10": "\n\n\nSolve this question on: `ssh cks7262`\n\n\n\nTeam purple wants to run some of their workloads more secure. Worker node `cks7262-node2` has containerd already configured to support the runsc/gvisor runtime.\n\nConnect to the worker node using `ssh cks7262-node2` from `cks7262`.\n\n1. Create a *RuntimeClass* named `gvisor` with handler `runsc`\n\n2. Create a *Pod* that uses the *RuntimeClass*. The *Pod* should be in *Namespace* `team-purple`, named `gvisor-test` and of image `nginx:1.27.1`. Ensure the *Pod* runs on `cks7262-node2`\n\n3. Write the output of the `dmesg` command of the successfully started *Pod* into `/opt/course/10/gvisor-test-dmesg` on `cks7262`\n",
      "11": "\n\n\nSolve this question on: `ssh cks7262`\n\n\n\nThere is an existing *Secret* called `database-access` in *Namespace* `team-green`.\n\n1. Read the complete *Secret* content directly from ETCD (using `etcdctl`) and store it into `/opt/course/11/etcd-secret-content` on `cks7262`\n\n2. Write the plain and decoded *Secret\u0027s* value of key \u0022pass\u0022 into `/opt/course/11/database-password` on `cks7262`\n\n\n\n\u003E :information_source: Use `sudo -i` to become root which may be required for this question\n\n",
      "12": "\n\n\nSolve this question on: `ssh cks3477`\n\n\n\nYou\u0027re asked to investigate a possible permission escape using the pre-defined context. The context authenticates as user `restricted` which has only limited permissions and shouldn\u0027t be able to read *Secret* values.\n\n1. Switch to the restricted context with:\n\n   ```\n   k config use-context restricted@infra-prod\n   ```\n\n2. Try to find the password-key values of the *Secrets* `secret1`, `secret2` and `secret3` in *Namespace* `restricted` using context `restricted@infra-prod`\n\n3. Write the decoded plaintext values into files `/opt/course/12/secret1`, `/opt/course/12/secret2` and `/opt/course/12/secret3` on `cks3477`\n\n4. Switch back to the default context with:\n\n   ```\n   k config use-context kubernetes-admin@kubernetes\n   ```\n",
      "13": "\n\n\nSolve this question on: `ssh cks3477`\n\n\n\nThere is a metadata service available at `http://192.168.100.21:32000` on which *Nodes* can reach sensitive data, like cloud credentials for initialisation. By default, all *Pods* in the cluster also have access to this endpoint. The DevSecOps team has asked you to restrict access to this metadata server.\n\nIn *Namespace* `metadata-access`:\n\n1. Create a *NetworkPolicy* named `metadata-deny` which prevents egress to `192.168.100.21` for all *Pods* but still allows access to everything else\n\n2. Create a *NetworkPolicy* named `metadata-allow` which allows *Pods* having label `role: metadata-accessor` to access endpoint `192.168.100.21`\n\nThere are existing *Pods* in the target *Namespace* with which you can test your policies, but don\u0027t change their labels.\n",
      "14": "\n\n\nSolve this question on: `ssh cks7262`\n\n\n\nThere are *Pods* in *Namespace* `team-yellow`. A security investigation noticed that some processes running in these *Pods* are using the Syscall `kill`, which is forbidden by an internal policy of Team Yellow.\n\nFind the offending *Pod(s)* and remove these by reducing the replicas of the parent *Deployment* to 0.\n\nYou can connect to the worker nodes using `ssh cks7262-node1` and `ssh cks7262-node2` from `cks7262`.\n",
      "15": "\n\n\nSolve this question on: `ssh cks7262`\n\n\n\nIn *Namespace* `team-pink` there is an existing Nginx *Ingress* resources named `secure` which accepts two paths `/app` and `/api` which point to different ClusterIP *Services*.\n\nFrom your main terminal you can connect to it using for example:\n\n* HTTP:   `curl -v http://secure-ingress.test:31080/app`\n\n* HTTPS: `curl -kv https://secure-ingress.test:31443/app`\n\nRight now it uses a default generated TLS certificate by the Nginx Ingress Controller.\n\nYou\u0027re asked to instead use the key and certificate provided at `/opt/course/15/tls.key` and `/opt/course/15/tls.crt`. As it\u0027s a self-signed certificate you need to use `curl -k` when connecting to it.\n",
      "16": "\n\n\nSolve this question on: `ssh cks7262`\n\n\n\nThere is a *Deployment* `image-verify` in *Namespace* `team-blue` which runs image `registry.killer.sh:5000/image-verify:v1`. DevSecOps has asked you to improve this image by:\n\n1. Changing the base image to `alpine:3.12`\n2. Not installing `curl`\n3. Updating `nginx` to use the version constraint  `\u003E=1.18.0`\n4. Running the main process as user `myuser`\n\n**Do not** add any new lines to the Dockerfile, just edit existing ones. The file is located at `/opt/course/16/image/Dockerfile`.\n\nTag your version as `v2`. You can build, tag and push using:\n\n```shell\ncd /opt/course/16/image\npodman build -t registry.killer.sh:5000/image-verify:v2 .\npodman run registry.killer.sh:5000/image-verify:v2 # to test your changes\npodman push registry.killer.sh:5000/image-verify:v2\n```\n\nMake the *Deployment* use your updated image tag `v2`.\n",
      "17": "\n\n\nSolve this question on: `ssh cks3477`\n\n\n\nAudit Logging has been enabled in the cluster with an Audit *Policy* located at `/etc/kubernetes/audit/policy.yaml` on `cks3477`.\n\n1. Change the configuration so that only one backup of the logs is stored.\n\n2. Alter the *Policy* in a way that it only stores logs:\n\n   * From *Secret* resources, level Metadata\n   * From \u0022system:nodes\u0022 userGroups, level RequestResponse\n\n   After you altered the *Policy* make sure to empty the log file so it only contains entries according to your changes, like using `echo \u003E /etc/kubernetes/audit/logs/audit.log`.\n\n\n\n\n\n\u003E :information_source: You can use `jq` to render json more readable, like `cat data.json | jq`\n\n\n\n\u003E :information_source: Use `sudo -i` to become root which may be required for this question\n",
      "18": "\n\n\nSolve this question on: `ssh cks8930`\n\n\n\nYour team received Software Bill Of Materials (SBOM) requests and you have been selected to generate some documents and scans:\n\n1. Using `bom`:\n\n   Generate a SPDX-Json SBOM of image `registry.k8s.io/kube-apiserver:v1.31.0`\n\n   Store it at `/opt/course/18/sbom1.json` on `cks8930`\n\n2. Using `trivy`:\n\n   Generate a CycloneDX SBOM of image `registry.k8s.io/kube-controller-manager:v1.31.0`\n\n   Store it at  `/opt/course/18/sbom2.json` on `cks8930`\n\n3. Using `trivy`:\n\n   Scan the existing SPDX-Json SBOM at `/opt/course/18/sbom_check.json` on `cks8930` for known vulnerabilities. Save the result in Json format at `/opt/course/18/sbom_check_result.json` on `cks8930`\n",
      "19": "\n\n\nSolve this question on: `ssh cks7262`\n\n\n\nThe *Deployment* `immutable-deployment` in *Namespace* `team-purple` should run immutable, it\u0027s created from file `/opt/course/19/immutable-deployment.yaml` on `cks7262`. Even after a successful break-in, it shouldn\u0027t be possible for an attacker to modify the filesystem of the running container.\n\n1. Modify the *Deployment* in a way that no processes inside the container can modify the local filesystem, only `/tmp` directory should be writeable. Don\u0027t modify the Docker image.\n\n2. Save the updated YAML under `/opt/course/19/immutable-deployment-new.yaml` on `cks7262` and update the running *Deployment*.\n",
      "20": "\n\n\nSolve this question on: `ssh cks8930`\n\n\n\nThe cluster is running Kubernetes `1.30.5`, update it to `1.31.1`.\n\nUse `apt` package manager and `kubeadm` for this.\n\nUse `ssh cks8930-node1` from `cks8930` to connect to the worker node.\n\n\n\n\u003E :information_source: Use `sudo -i` to become root which may be required for this question\n",
      "21": "\n\n\nSolve this question on: `ssh cks8930`\n\n\n\nThe Vulnerability Scanner `trivy` is installed on your main terminal. Use it to scan the following images for known CVEs:\n\n* `nginx:1.16.1-alpine`\n\n* `k8s.gcr.io/kube-apiserver:v1.18.0`\n* `k8s.gcr.io/kube-controller-manager:v1.18.0`\n* `docker.io/weaveworks/weave-kube:2.7.0`\n\nWrite all images that don\u0027t contain the vulnerabilities `CVE-2020-10878` or `CVE-2020-1967` into `/opt/course/21/good-images` on `cks8930`.\n",
      "22": "\n\n\nSolve this question on: `ssh cks8930`\n\n\n\nThe Release Engineering Team has shared some YAML manifests and Dockerfiles with you to review. The files are located under `/opt/course/22/files`.\n\nAs a container security expert, you are asked to perform a manual static analysis and find out possible security issues with respect to unwanted credential exposure. Running processes as root is of no concern in this task.\n\nWrite the filenames which have issues into `/opt/course/22/security-issues` on `cks8930`.\n\n\n\n\u003E :information_source: In the Dockerfiles and YAML manifests, assume that the referred files, folders, secrets and volume mounts are present. Disregard syntax or logic errors.\n",
      "23": "\n\n\nSolve this question on: `ssh cks4024`\n\n\n\nTeam White created an *ImagePolicyWebhook* solution at `/opt/course/23/webhook` on `cks4024` which needs to be enabled for the cluster. There is an existing and working `webhook-backend` *Service* in *Namespace* `team-white` which will be the *ImagePolicyWebhook* backend.\n\n\n\n1. Create an *AdmissionConfiguration* at `/opt/course/23/webhook/admission-config.yaml` which contains the following *ImagePolicyWebhook* configuration in the same file:\n\n   ```\n   imagePolicy:\n     kubeConfigFile: /etc/kubernetes/webhook/webhook.yaml\n     allowTTL: 10\n     denyTTL: 10\n     retryBackoff: 20\n     defaultAllow: true\n   ```\n\n2. Configure the apiserver to:\n\n   * Mount `/opt/course/23/webhook` at `/etc/kubernetes/webhook`\n\n   * Use the *AdmissionConfiguration* at path `/etc/kubernetes/webhook/admission-config.yaml`\n\n   * Enable the *ImagePolicyWebhook* admission plugin\n\nAs result the *ImagePolicyWebhook* backend should prevent container images containing `danger-danger` from being used, any other image should still work.\n\n\n\n\u003E :information_source: Create a backup of `/etc/kubernetes/manifests/kube-apiserver.yaml` outside of `/etc/kubernetes/manifests` so you can revert back in case of issues\n\n\n\n\u003E :information_source: Use `sudo -i` to become root which may be required for this question\n",
      "24": "### Preview Question 1\n\nSolve this question on: `ssh cks3477`\n\n\n\nYou\u0027re asked to implement some RBAC for user `gianna`:\n\n1. There are existing cluster-level RBAC resource in place to, among other things, ensure that user `gianna` can never read *Secret* contents cluster-wide. Confirm this is correct or restrict the existing RBAC resources to ensure this.\n\n2. I addition, create more RBAC resources to allow user `gianna` to create *Pods* and *Deployments* in *Namespaces* `security`, `restricted` and `internal`. It\u0027s likely the user will receive these exact permissions as well for other *Namespaces* in the future.\n\nTo test your RBAC your can:\n\n* Switch to the other context with:\n\n  ```\n  k config use-context gianna@infra-prod\n  ```\n\n* And afterwards switch back to the default context with:\n\n  ```\n  k config use-context kubernetes-admin@kubernetes\n  ```\n",
      "25": "### Preview Question 2\n\nSolve this question on: `ssh cks3477`\n\n\n\n*Namespace* `security` contains five *Secrets* of type Opaque which can be considered highly confidential. The latest Incident-Prevention-Investigation revealed that *ServiceAccount* `p.auster` had too broad access to the cluster for some time. This *SA* should\u0027ve never had access to any *Secrets* in that *Namespace*.\n\nFind out which *Secrets* in *Namespace* `security` this *SA* did access by looking at the Audit Logs under `/opt/course/p2/audit.log`.\n\nChange the password to any new string of only those *Secrets* that were accessed by this *SA*.\n\n\n\n\u003E :information_source: You can use `jq` to render json more readable, like `cat data.json | jq`\n",
      "26": "### Preview Question 3\n\nSolve this question on: `ssh cks8930`\n\n\n\nA security scan result shows that there is an unknown miner process running on one of the *Nodes* in this cluster.\n\nThe report states that the process is listening on port 6666.\n\nKill the process and delete the binary.\n"
    }
  },
  "answersHtml": {
    "1.31": "\u003C!doctype html\u003E\n\u003Chtml\u003E\n\u003Chead\u003E\u003Cstyle\u003E.input-command {display:block; background-color:#36454b;} blockquote { border-left: none !important; background-color: rgba(236, 236, 255, 0.62); padding: 10px 15px !important; margin: 10px 10px !important; border-radius: 5px; }\u003C/style\u003E\n\u003Cmeta charset=\u0027UTF-8\u0027\u003E\u003Cmeta name=\u0027viewport\u0027 content=\u0027width=device-width initial-scale=1\u0027\u003E\n\n\u003Clink href=\u0027https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400\u0026subset=latin,latin-ext\u0027 rel=\u0027stylesheet\u0027 type=\u0027text/css\u0027 /\u003E\u003Cstyle type=\u0027text/css\u0027\u003Ehtml {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: \u0022Lucida Console\u0022,Consolas,\u0022Courier\u0022,monospace; --title-bar-height: 20px; }\n.mac-os-11 { --title-bar-height: 28px; }\nhtml { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: \u0022Helvetica Neue\u0022, Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }\nh1, h2, h3, h4, h5 { white-space: pre-wrap; }\nbody { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.428571; overflow-x: hidden; background: inherit; }\niframe { margin: auto; }\na.url { word-break: break-all; }\na:active, a:hover { outline: 0px; }\n.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }\n#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }\n#write.first-line-indent p { text-indent: 2em; }\n#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }\n#write.first-line-indent li { margin-left: 2em; }\n.for-image #write { padding-left: 8px; padding-right: 8px; }\nbody.typora-export { padding-left: 30px; padding-right: 30px; }\n.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }\n.typora-export .task-list-item input { pointer-events: none; }\n@media screen and (max-width: 500px) {\n  body.typora-export { padding-left: 0px; padding-right: 0px; }\n  #write { padding-left: 20px; padding-right: 20px; }\n}\n#write li \u003E figure:last-child { margin-bottom: 0.5rem; }\n#write ol, #write ul { position: relative; }\nimg { max-width: 100%; vertical-align: middle; image-orientation: from-image; }\nbutton, input, select, textarea { color: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; font-size-adjust: inherit; font-kerning: inherit; font-variant-alternates: inherit; font-variant-ligatures: inherit; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-variant-position: inherit; font-variant-emoji: inherit; font-feature-settings: inherit; font-optical-sizing: inherit; font-variation-settings: inherit; }\ninput[type=\u0022checkbox\u0022], input[type=\u0022radio\u0022] { line-height: normal; padding: 0px; }\n*, ::after, ::before { box-sizing: border-box; }\n#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }\n#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }\np { line-height: inherit; }\nh1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }\np { orphans: 4; }\nh1 { font-size: 2rem; }\nh2 { font-size: 1.8rem; }\nh3 { font-size: 1.6rem; }\nh4 { font-size: 1.4rem; }\nh5 { font-size: 1.2rem; }\nh6 { font-size: 1rem; }\n.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }\n.hidden { display: none; }\n.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }\na { cursor: pointer; }\nsup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }\nsup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }\n#write input[type=\u0022checkbox\u0022] { cursor: pointer; width: inherit; height: inherit; }\nfigure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }\nfigure \u003E table { margin: 0px; }\nthead, tr { break-inside: avoid; break-after: auto; }\nthead { display: table-header-group; }\ntable { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }\ntable.md-table td { min-width: 32px; }\n.CodeMirror-gutters { border-right-width: 0px; border-right-style: none; border-right-color: currentcolor; background-color: inherit; }\n.CodeMirror-linenumber { -webkit-user-select: none; }\n.CodeMirror { text-align: left; }\n.CodeMirror-placeholder { opacity: 0.3; }\n.CodeMirror pre { padding: 0px 4px; }\n.CodeMirror-lines { padding: 0px; }\ndiv.hr:focus { cursor: none; }\n#write pre { white-space: pre-wrap; }\n#write.fences-no-line-wrapping pre { white-space: pre; }\n#write pre.ty-contain-cm { white-space: normal; }\n.CodeMirror-gutters { margin-right: 4px; }\n.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }\n.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }\n#write .md-fences.mock-cm { white-space: pre-wrap; }\n.md-fences.md-fences-with-lineno { padding-left: 0px; }\n#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }\n.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }\n.CodeMirror-line, twitterwidget { break-inside: avoid; }\nsvg { break-inside: avoid; }\n.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }\n.footnotes + .footnotes { margin-top: 0px; }\n.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }\nli div { padding-top: 0px; }\nblockquote { margin: 1rem 0px; }\nli .mathjax-block, li p { margin: 0.5rem 0px; }\nli blockquote { margin: 1rem 0px; }\nli { margin: 0px; position: relative; }\nblockquote \u003E :last-child { margin-bottom: 0px; }\nblockquote \u003E :first-child, li \u003E :first-child { margin-top: 0px; }\n.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }\n#write .footnote-line { white-space: pre-wrap; }\n@media print {\n  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }\n  #write { margin-top: 0px; border-color: transparent !important; padding-top: 0px !important; padding-bottom: 0px !important; }\n  .typora-export * { print-color-adjust: exact; }\n  .typora-export #write { break-after: avoid; }\n  .typora-export #write::after { height: 0px; }\n  .is-mac table { break-inside: avoid; }\n  #write \u003E p:nth-child(1) { margin-top: 0px; }\n  .typora-export-show-outline .typora-export-sidebar { display: none; }\n  figure { overflow-x: visible; }\n}\n.footnote-line { margin-top: 0.714em; font-size: 0.7em; }\na img, img a { cursor: pointer; }\npre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }\np \u003E .md-image:only-child:not(.md-img-error) img, p \u003E img:only-child { display: block; margin: auto; }\n#write.first-line-indent p \u003E .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }\np \u003E .md-image:only-child { display: inline-block; width: 100%; }\n#write .MathJax_Display { margin: 0.8em 0px 0px; }\n.md-math-block { width: 100%; }\n.md-math-block:not(:empty)::after { display: none; }\n.MathJax_ref { fill: currentcolor; }\n[contenteditable=\u0022true\u0022]:active, [contenteditable=\u0022true\u0022]:focus, [contenteditable=\u0022false\u0022]:active, [contenteditable=\u0022false\u0022]:focus { outline: 0px; box-shadow: none; }\n.md-task-list-item { position: relative; list-style-type: none; }\n.task-list-item.md-task-list-item { padding-left: 0px; }\n.md-task-list-item \u003E input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: medium; }\n.math { font-size: 1rem; }\n.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }\n.md-toc-content { position: relative; margin-left: 0px; }\n.md-toc-content::after, .md-toc::after { display: none; }\n.md-toc-item { display: block; color: rgb(65, 131, 196); }\n.md-toc-item a { text-decoration: none; }\n.md-toc-inner:hover { text-decoration: underline; }\n.md-toc-inner { display: inline-block; cursor: pointer; }\n.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }\n.md-toc-h2 .md-toc-inner { margin-left: 2em; }\n.md-toc-h3 .md-toc-inner { margin-left: 4em; }\n.md-toc-h4 .md-toc-inner { margin-left: 6em; }\n.md-toc-h5 .md-toc-inner { margin-left: 8em; }\n.md-toc-h6 .md-toc-inner { margin-left: 10em; }\n@media screen and (max-width: 48em) {\n  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }\n  .md-toc-h4 .md-toc-inner { margin-left: 5em; }\n  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }\n  .md-toc-h6 .md-toc-inner { margin-left: 8em; }\n}\na.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }\n.footnote-line a:not(.reversefootnote) { color: inherit; }\n.reversefootnote { font-family: ui-monospace, sans-serif; }\n.md-attr { display: none; }\n.md-fn-count::after { content: \u0022.\u0022; }\ncode, pre, samp, tt { font-family: var(--monospace); }\nkbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }\n.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }\ncode { text-align: left; vertical-align: initial; }\na.md-print-anchor { white-space: pre !important; border-width: medium !important; border-style: none !important; border-color: currentcolor !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }\n.os-windows.monocolor-emoji .md-emoji { font-family: \u0022Segoe UI Symbol\u0022, sans-serif; }\n.md-diagram-panel \u003E svg { max-width: 100%; }\n[lang=\u0022flow\u0022] svg, [lang=\u0022mermaid\u0022] svg { max-width: 100%; height: auto; }\n[lang=\u0022mermaid\u0022] .node text { font-size: 1rem; }\ntable tr th { border-bottom-width: 0px; border-bottom-style: none; border-bottom-color: currentcolor; }\nvideo { max-width: 100%; display: block; margin: 0px auto; }\niframe { max-width: 100%; width: 100%; border: medium; }\n.highlight td, .highlight tr { border: 0px; }\nmark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }\n.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }\n.md-expand mark .md-meta { opacity: 0.3 !important; }\nmark .md-meta { color: rgb(0, 0, 0); }\n@media print {\n  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }\n}\n.md-diagram-panel .messageText { stroke: none !important; }\n.md-diagram-panel .start-state { fill: var(--node-fill); }\n.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }\n.md-fences.md-fences-math { font-size: 1em; }\n.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }\n.md-fences-advanced:not(.md-focus) { background: inherit; }\n.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }\n.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }\n.typora-export-show-outline #write { --webkit-flex: 2; flex: 2 1 0%; }\n.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }\n@media screen and (max-width: 1024px) {\n  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }\n}\n@media screen and (max-width: 800px) {\n  .typora-export-sidebar { display: none; }\n}\n.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; overflow-wrap: anywhere; }\n.outline-content ul { margin-top: 0px; margin-bottom: 0px; }\n.outline-content strong { font-weight: 400; }\n.outline-expander { width: 1rem; height: 1.428571rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }\n.outline-expander::before { content: \u0022\u0022; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }\n.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }\n.outline-expander:hover::before { content: \u0022\u0022; }\n.outline-h1 \u003E .outline-item { padding-left: 0px; }\n.outline-h2 \u003E .outline-item { padding-left: 1em; }\n.outline-h3 \u003E .outline-item { padding-left: 2em; }\n.outline-h4 \u003E .outline-item { padding-left: 3em; }\n.outline-h5 \u003E .outline-item { padding-left: 4em; }\n.outline-h6 \u003E .outline-item { padding-left: 5em; }\n.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }\n.outline-label:hover { text-decoration: underline; }\n.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }\n.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left-width: 28px; border-left-style: solid; border-left-color: transparent; border-right-width: 28px; border-right-style: solid; border-right-color: transparent; }\n.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }\n.outline-item-open \u003E .outline-item \u003E .outline-expander::before { content: \u0022\u0022; }\n.outline-children { display: none; }\n.info-panel-tab-wrapper { display: none; }\n.outline-item-open \u003E .outline-children { display: block; }\n.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }\n.typora-export .outline-item:hover { margin-right: -8px; border-right-width: 8px; border-right-style: solid; border-right-color: transparent; }\n.typora-export .outline-expander::before { content: \u0022+\u0022; font-family: inherit; top: -1px; }\n.typora-export .outline-expander:hover::before, .typora-export .outline-item-open \u003E .outline-item \u003E .outline-expander::before { content: \u0022−\u0022; }\n.typora-export-collapse-outline .outline-children { display: none; }\n.typora-export-collapse-outline .outline-item-open \u003E .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }\n.typora-export-no-collapse-outline .outline-expander::before { content: \u0022\u0022 !important; }\n.typora-export-show-outline .outline-item-active \u003E .outline-item .outline-label { font-weight: 700; }\n.md-inline-math-container mjx-container { zoom: 0.95; }\nmjx-container { break-inside: avoid; }\n.md-alert.md-alert-note { border-left-color: rgb(9, 105, 218); }\n.md-alert.md-alert-important { border-left-color: rgb(130, 80, 223); }\n.md-alert.md-alert-warning { border-left-color: rgb(154, 103, 0); }\n.md-alert.md-alert-tip { border-left-color: rgb(31, 136, 61); }\n.md-alert.md-alert-caution { border-left-color: rgb(207, 34, 46); }\n.md-alert { padding: 0px 1em; margin-bottom: 16px; color: inherit; border-left-width: 0.25em; border-left-style: solid; border-left-color: rgb(0, 0, 0); }\n.md-alert-text-note { color: rgb(9, 105, 218); }\n.md-alert-text-important { color: rgb(130, 80, 223); }\n.md-alert-text-warning { color: rgb(154, 103, 0); }\n.md-alert-text-tip { color: rgb(31, 136, 61); }\n.md-alert-text-caution { color: rgb(207, 34, 46); }\n.md-alert-text { font-size: 0.9rem; font-weight: 700; }\n.md-alert-text svg { fill: currentcolor; position: relative; top: 0.125em; margin-right: 1ch; overflow: visible; }\n.md-alert-text-container::after { content: attr(data-text); text-transform: capitalize; pointer-events: none; margin-right: 1ch; }\n\n\n.CodeMirror { height: auto; }\n.CodeMirror.cm-s-inner { background: inherit; }\n.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }\n.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }\n.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background: inherit; white-space: nowrap; }\n.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }\n.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }\n.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }\n.cm-s-inner .cm-number { color: rgb(17, 102, 68); }\n.cm-s-inner .cm-def { color: rgb(0, 0, 255); }\n.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }\n.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }\n.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }\n.cm-s-inner .cm-string { color: rgb(170, 17, 17); }\n.cm-s-inner .cm-property { color: rgb(0, 0, 0); }\n.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }\n.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }\n.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }\n.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }\n.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }\n.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }\n.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }\n.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }\n.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }\n.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }\n.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }\n.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }\n.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }\n.cm-negative { color: rgb(221, 68, 68); }\n.cm-positive { color: rgb(34, 153, 34); }\n.cm-header, .cm-strong { font-weight: 700; }\n.cm-del { text-decoration: line-through; }\n.cm-em { font-style: italic; }\n.cm-link { text-decoration: underline; }\n.cm-error { color: red; }\n.cm-invalidchar { color: red; }\n.cm-constant { color: rgb(38, 139, 210); }\n.cm-defined { color: rgb(181, 137, 0); }\ndiv.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }\n.cm-s-inner .CodeMirror-activeline-background { background: inherit; }\n.CodeMirror { position: relative; overflow: hidden; }\n.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }\n.CodeMirror-sizer { position: relative; }\n.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }\n.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }\n.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }\n.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }\n.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }\n.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }\n.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }\n.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: medium !important; }\n.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }\n.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }\n.CodeMirror-lines { cursor: text; }\n.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }\n.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }\n.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }\n.CodeMirror-wrap .CodeMirror-code pre { border-right-width: medium; border-right-style: none; border-right-color: currentcolor; width: auto; }\n.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }\n.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }\n.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }\n.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }\n.CodeMirror-measure pre { position: static; }\n.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-width: medium; border-right-style: none; border-right-color: currentcolor; width: 0px; }\n.CodeMirror div.CodeMirror-cursor { visibility: hidden; }\n.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }\n.cm-searching { background: rgba(255, 255, 0, 0.4); }\nspan.cm-underlined { text-decoration: underline; }\nspan.cm-strikethrough { text-decoration: line-through; }\n.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }\n.cm-tw-deleted { text-decoration: line-through; }\n.cm-tw-header5 { font-weight: 700; }\n.cm-tw-listitem:first-child { padding-left: 10px; }\n.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }\n.cm-tw-underline { text-decoration: underline; }\n@media print {\n  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }\n}\n\n\n:root {\n    --side-bar-bg-color: #fafafa;\n    --control-text-color: #777;\n}\n\n@include-when-export url(https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400\u0026subset=latin,latin-ext);\n\n/* open-sans-regular - latin-ext_latin */\n  /* open-sans-italic - latin-ext_latin */\n    /* open-sans-700 - latin-ext_latin */\n    /* open-sans-700italic - latin-ext_latin */\n  html {\n    font-size: 16px;\n    -webkit-font-smoothing: antialiased;\n}\n\nbody {\n    font-family: \u0022Open Sans\u0022,\u0022Clear Sans\u0022, \u0022Helvetica Neue\u0022, Helvetica, Arial, \u0027Segoe UI Emoji\u0027, sans-serif;\n    color: rgb(51, 51, 51);\n    line-height: 1.6;\n}\n\n#write {\n    max-width: 860px;\n  \tmargin: 0 auto;\n  \tpadding: 30px;\n    padding-bottom: 100px;\n}\n\n@media only screen and (min-width: 1400px) {\n\t#write {\n\t\tmax-width: 1024px;\n\t}\n}\n\n@media only screen and (min-width: 1800px) {\n\t#write {\n\t\tmax-width: 1200px;\n\t}\n}\n\n#write \u003E ul:first-child,\n#write \u003E ol:first-child{\n    margin-top: 30px;\n}\n\na {\n    color: #4183C4;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    position: relative;\n    margin-top: 1rem;\n    margin-bottom: 1rem;\n    font-weight: bold;\n    line-height: 1.4;\n    cursor: text;\n}\nh1:hover a.anchor,\nh2:hover a.anchor,\nh3:hover a.anchor,\nh4:hover a.anchor,\nh5:hover a.anchor,\nh6:hover a.anchor {\n    text-decoration: none;\n}\nh1 tt,\nh1 code {\n    font-size: inherit;\n}\nh2 tt,\nh2 code {\n    font-size: inherit;\n}\nh3 tt,\nh3 code {\n    font-size: inherit;\n}\nh4 tt,\nh4 code {\n    font-size: inherit;\n}\nh5 tt,\nh5 code {\n    font-size: inherit;\n}\nh6 tt,\nh6 code {\n    font-size: inherit;\n}\nh1 {\n    font-size: 2.25em;\n    line-height: 1.2;\n    border-bottom: 1px solid #eee;\n}\nh2 {\n    font-size: 1.75em;\n    line-height: 1.225;\n    border-bottom: 1px solid #eee;\n}\n\n/*@media print {\n    .typora-export h1,\n    .typora-export h2 {\n        border-bottom: none;\n        padding-bottom: initial;\n    }\n\n    .typora-export h1::after,\n    .typora-export h2::after {\n        content: \u0022\u0022;\n        display: block;\n        height: 100px;\n        margin-top: -96px;\n        border-top: 1px solid #eee;\n    }\n}*/\n\nh3 {\n    font-size: 1.5em;\n    line-height: 1.43;\n}\nh4 {\n    font-size: 1.25em;\n}\nh5 {\n    font-size: 1em;\n}\nh6 {\n   font-size: 1em;\n    color: #777;\n}\np,\nblockquote,\nul,\nol,\ndl,\ntable{\n    margin: 0.8em 0;\n}\nli\u003Eol,\nli\u003Eul {\n    margin: 0 0;\n}\nhr {\n    height: 2px;\n    padding: 0;\n    margin: 16px 0;\n    background-color: #e7e7e7;\n    border: 0 none;\n    overflow: hidden;\n    box-sizing: content-box;\n}\n\nli p.first {\n    display: inline-block;\n}\nul,\nol {\n    padding-left: 30px;\n}\nul:first-child,\nol:first-child {\n    margin-top: 0;\n}\nul:last-child,\nol:last-child {\n    margin-bottom: 0;\n}\nblockquote {\n    border-left: 4px solid #dfe2e5;\n    padding: 0 15px;\n    color: #777777;\n}\nblockquote blockquote {\n    padding-right: 0;\n}\ntable {\n    padding: 0;\n    word-break: initial;\n}\ntable tr {\n    border: 1px solid #dfe2e5;\n    margin: 0;\n    padding: 0;\n}\ntable tr:nth-child(2n),\nthead {\n    background-color: #f8f8f8;\n}\ntable th {\n    font-weight: bold;\n    border: 1px solid #dfe2e5;\n    border-bottom: 0;\n    margin: 0;\n    padding: 6px 13px;\n}\ntable td {\n    border: 1px solid #dfe2e5;\n    margin: 0;\n    padding: 6px 13px;\n}\ntable th:first-child,\ntable td:first-child {\n    margin-top: 0;\n}\ntable th:last-child,\ntable td:last-child {\n    margin-bottom: 0;\n}\n\n.CodeMirror-lines {\n    padding-left: 4px;\n}\n\n.code-tooltip {\n    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);\n    border-top: 1px solid #eef2f2;\n}\n\n.md-fences,\ncode,\ntt {\n    border: 1px solid #e7eaed;\n    background-color: #f8f8f8;\n    border-radius: 3px;\n    padding: 0;\n    padding: 2px 4px 0px 4px;\n    font-size: 0.9em;\n}\n\ncode {\n    background-color: #f3f4f4;\n    padding: 0 2px 0 2px;\n}\n\n.md-fences {\n    margin-bottom: 15px;\n    margin-top: 15px;\n    padding-top: 8px;\n    padding-bottom: 6px;\n}\n\n\n.md-task-list-item \u003E input {\n  margin-left: -1.3em;\n}\n\n@media print {\n    html {\n        font-size: 13px;\n    }\n    pre {\n        page-break-inside: avoid;\n        word-wrap: break-word;\n    }\n}\n\n.md-fences {\n\tbackground-color: #f8f8f8;\n}\n#write pre.md-meta-block {\n\tpadding: 1rem;\n    font-size: 85%;\n    line-height: 1.45;\n    background-color: #f7f7f7;\n    border: 0;\n    border-radius: 3px;\n    color: #777777;\n    margin-top: 0 !important;\n}\n\n.mathjax-block\u003E.code-tooltip {\n\tbottom: .375rem;\n}\n\n.md-mathjax-midline {\n    background: #fafafa;\n}\n\n#write\u003Eh3.md-focus:before{\n\tleft: -1.5625rem;\n\ttop: .375rem;\n}\n#write\u003Eh4.md-focus:before{\n\tleft: -1.5625rem;\n\ttop: .285714286rem;\n}\n#write\u003Eh5.md-focus:before{\n\tleft: -1.5625rem;\n\ttop: .285714286rem;\n}\n#write\u003Eh6.md-focus:before{\n\tleft: -1.5625rem;\n\ttop: .285714286rem;\n}\n.md-image\u003E.md-meta {\n    /*border: 1px solid #ddd;*/\n    border-radius: 3px;\n    padding: 2px 0px 0px 4px;\n    font-size: 0.9em;\n    color: inherit;\n}\n\n.md-tag {\n    color: #a7a7a7;\n    opacity: 1;\n}\n\n.md-toc { \n    margin-top:20px;\n    padding-bottom:20px;\n}\n\n.sidebar-tabs {\n    border-bottom: none;\n}\n\n#typora-quick-open {\n    border: 1px solid #ddd;\n    background-color: #f8f8f8;\n}\n\n#typora-quick-open-item {\n    background-color: #FAFAFA;\n    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;\n    border-style: solid;\n    border-width: 1px;\n}\n\n/** focus mode */\n.on-focus-mode blockquote {\n    border-left-color: rgba(85, 85, 85, 0.12);\n}\n\nheader, .context-menu, .megamenu-content, footer{\n    font-family: \u0022Segoe UI\u0022, \u0022Arial\u0022, sans-serif;\n}\n\n.file-node-content:hover .file-node-icon,\n.file-node-content:hover .file-node-open-state{\n    visibility: visible;\n}\n\n.mac-seamless-mode #typora-sidebar {\n    background-color: #fafafa;\n    background-color: var(--side-bar-bg-color);\n}\n\n.mac-os #write{\n    caret-color: AccentColor;\n}\n\n.md-lang {\n    color: #b4654d;\n}\n\n/*.html-for-mac {\n    --item-hover-bg-color: #E6F0FE;\n}*/\n\n#md-notification .btn {\n    border: 0;\n}\n\n.dropdown-menu .divider {\n    border-color: #e5e5e5;\n    opacity: 0.4;\n}\n\n.ty-preferences .window-content {\n    background-color: #fafafa;\n}\n\n.ty-preferences .nav-group-item.active {\n    color: white;\n    background: #999;\n}\n\n.menu-item-container a.menu-style-btn {\n    background-color: #f5f8fa;\n    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); \n}\n\n\npre[lang=\u0022bash\u0022] {\n    background-color: #36454b;\n}\n\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror {\n    background-color: #36454b;\n    color: #EEFFFF;\n}\n\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-attribute,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-operator,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-string,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-atom,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-number,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-keyword,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-def,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-builtin {\n    color: #EEFFFF;\n}\n\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-comment {\n    color: #F78C6C;\n}\n\n\n\n\n\npre[lang=\u0022term\u0022] {\n    background-color: #1c252b;\n}\n\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror {\n    background-color: #1c252b;\n    color: #EEFFFF;\n}\n\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-attribute,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-operator,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-string,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-atom,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-number,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-keyword,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-def,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-builtin {\n    color: #EEFFFF;\n}\n\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-comment {\n    color: #F78C6C;\n}\n\n\n\n\n\n\n\n\n/* neo theme for codemirror */\n\n/* Color scheme */\n\npre[lang=\u0022yaml\u0022] .cm-s-inner.CodeMirror {\n    background-color:#ffffff;\n    color:#2e383c;\n    line-height:1.4375;\n}\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-comment { color:#F78C6C; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-keyword, pre[lang=\u0022yaml\u0022] .cm-s-inner .cm-property { color:#1d75b3; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-atom,pre[lang=\u0022yaml\u0022] .cm-s-inner .cm-number { color:#75438a; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-node,pre[lang=\u0022yaml\u0022] .cm-s-inner .cm-tag { color:#9c3328; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-string { color:#b35e14; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-variable,pre[lang=\u0022yaml\u0022] .cm-s-inner .cm-qualifier { color:#047d65; }\n\n\n/* Editor styling */\n\npre[lang=\u0022yaml\u0022] .cm-s-inner pre {\n    padding:0;\n}\n\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-gutters {\n    border:none;\n    border-right:10px solid transparent;\n    background-color:transparent;\n}\n\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-linenumber {\n    padding:0;\n    color:#e0e2e5;\n}\n\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-guttermarker { color: #1d75b3; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-guttermarker-subtle { color: #e0e2e5; }\n\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-cursor {\n    width: auto;\n    border: 0;\n    background: rgba(155,157,162,0.37);\n    z-index: 1;\n}\n\n @media print { @page {margin: 0 0 0 0;} body.typora-export {padding-left: 0; padding-right: 0;} #write {padding:0;}}\n\u003C/style\u003E\u003Ctitle\u003Eanswers\u003C/title\u003E\n\u003C/head\u003E\n\u003Cbody class=\u0027typora-export\u0027\u003E\u003Cdiv class=\u0027typora-export-content\u0027\u003E\n\u003Cdiv id=\u0027write\u0027  class=\u0027\u0027\u003E\u003Ch1 id=\u0027cks-simulator-kubernetes-131\u0027\u003E\u003Cspan\u003ECKS Simulator Kubernetes 1.31\u003C/span\u003E\u003C/h1\u003E\u003Cp\u003E\u003Ca href=\u0027https://killer.sh\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://killer.sh\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EEach question needs to be solved on a specific instance other than your main \u003C/span\u003E\u003Ccode\u003Ecandidate@terminal\u003C/code\u003E\u003Cspan\u003E. You\u0026#39;ll need to connect to the correct instance via ssh, the command is provided before each question. To connect to a different instance you always need to return first to your main terminal by running the \u003C/span\u003E\u003Ccode\u003Eexit\u003C/code\u003E\u003Cspan\u003E command, from there you can connect to a different one.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EIn the real exam each question will be solved on a different instance whereas in the simulator multiple questions will be solved on same instances.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EUse \u003C/span\u003E\u003Ccode\u003Esudo -i\u003C/code\u003E\u003Cspan\u003E to become root on any node in case necessary.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-1-|-contexts\u0027\u003E\u003Cspan\u003EQuestion 1 | Contexts\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks3477\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EYou have access to multiple clusters from your main terminal through \u003C/span\u003E\u003Ccode\u003Ekubectl\u003C/code\u003E\u003Cspan\u003E contexts. Write all context names into \u003C/span\u003E\u003Ccode\u003E/opt/course/1/contexts\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks3477\u003C/code\u003E\u003Cspan\u003E, one per line.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EFrom the kubeconfig extract the certificate of user \u003C/span\u003E\u003Ccode\u003Erestricted@infra-prod\u003C/code\u003E\u003Cspan\u003E and write it decoded to \u003C/span\u003E\u003Ccode\u003E/opt/course/1/cert\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003EMaybe the fastest way is just to run:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks3477\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~$ k config get-contexts # copy by hand\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~$ k config get-contexts -o name \u0026gt; /opt/course/1/contexts\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EOr using jsonpath:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek config view \u003Cspan class=\u0022cm-attribute\u0022\u003E-o\u003C/span\u003E \u003Cspan class=\u0022cm-def\u0022\u003Ejsonpath\u003C/span\u003E\u003Cspan class=\u0022cm-operator\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022{.contexts[*].name}\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek config view \u003Cspan class=\u0022cm-attribute\u0022\u003E-o\u003C/span\u003E \u003Cspan class=\u0022cm-def\u0022\u003Ejsonpath\u003C/span\u003E\u003Cspan class=\u0022cm-operator\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022{.contexts[*].name}\u0022\u003C/span\u003E | tr \u003Cspan class=\u0022cm-string\u0022\u003E\u0022 \u0022\u003C/span\u003E \u003Cspan class=\u0022cm-string\u0022\u003E\u0022\\n\u0022\u003C/span\u003E \u003Cspan class=\u0022cm-comment\u0022\u003E# new lines\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek config view \u003Cspan class=\u0022cm-attribute\u0022\u003E-o\u003C/span\u003E \u003Cspan class=\u0022cm-def\u0022\u003Ejsonpath\u003C/span\u003E\u003Cspan class=\u0022cm-operator\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022{.contexts[*].name}\u0022\u003C/span\u003E | tr \u003Cspan class=\u0022cm-string\u0022\u003E\u0022 \u0022\u003C/span\u003E \u003Cspan class=\u0022cm-string\u0022\u003E\u0022\\n\u0022\u003C/span\u003E \u0026gt; /opt/course/1/contexts\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThe content could then look like:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E# cks3477:/opt/course/1/contexts\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Egianna@infra-prod\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Einfra-prod\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Erestricted@infra-prod\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EFor the certificate we could just run\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek config view \u003Cspan class=\u0022cm-attribute\u0022\u003E--raw\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAnd copy it manually. Or we do:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek config view \u003Cspan class=\u0022cm-attribute\u0022\u003E--raw\u003C/span\u003E \u003Cspan class=\u0022cm-attribute\u0022\u003E-ojsonpath\u003C/span\u003E\u003Cspan class=\u0022cm-operator\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022{.users[2].user.client-certificate-data}\u0022\u003C/span\u003E | base64 \u003Cspan class=\u0022cm-attribute\u0022\u003E-d\u003C/span\u003E \u0026gt; /opt/course/1/cert\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EOr even:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek config view \u003Cspan class=\u0022cm-attribute\u0022\u003E--raw\u003C/span\u003E \u003Cspan class=\u0022cm-attribute\u0022\u003E-ojsonpath\u003C/span\u003E\u003Cspan class=\u0022cm-operator\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022{.users[?(.name == \u0027restricted@infra-prod\u0027)].user.client-certificate-data}\u0022\u003C/span\u003E | base64 \u003Cspan class=\u0022cm-attribute\u0022\u003E-d\u003C/span\u003E \u0026gt; /opt/course/1/cert\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E# cks3477:/opt/course/1/cert\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-----BEGIN CERTIFICATE-----\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EMIIDHzCCAgegAwIBAgIQN5Qe/Rj/PhaqckEI23LPnjANBgkqhkiG9w0BAQsFADAV\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EMRMwEQYDVQQDEwprdWJlcm5ldGVzMB4XDTIwMDkyNjIwNTUwNFoXDTIxMDkyNjIw\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENTUwNFowKjETMBEGA1UEChMKcmVzdHJpY3RlZDETMBEGA1UEAxMKcmVzdHJpY3Rl\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAL/Jaf/QQdijyJTWIDij\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eqa5p4oAh+xDBX3jR9R0G5DkmPU/FgXjxej3rTwHJbuxg7qjTuqQbf9Fb2AHcVtwH\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EgUjC12ODUDE+nVtap+hCe8OLHZwH7BGFWWscgInZOZW2IATK/YdqyQL5OKpQpFkx\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EiAknVZmPa2DTZ8FoyRESboFSTZj6y+JVA7ot0pM09jnxswstal9GZLeqioqfFGY6\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EYBO/Dg4DDsbKhqfUwJVT6Ur3ELsktZIMTRS5By4Xz18798eBiFAHvgJGq1TTwuPM\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EEhBfwYwgYbalL8DSHeFrelLBKgciwUKjr1lolnnuc1vhkX1peV1J3xrf6o2KkyMc\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ElY0CAwEAAaNWMFQwDgYDVR0PAQH/BAQDAgWgMBMGA1UdJQQMMAoGCCsGAQUFBwMC\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUPrspZIWR7YMN8vT5DF3s/LvpxPQw\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EDQYJKoZIhvcNAQELBQADggEBAIDq0Zt77gXI1s+uW46zBw4mIWgAlBLl2QqCuwmV\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekd86eH5bD0FCtWlb6vGdcKPdFccHh8Z6z2LjjLu6UoiGUdIJaALhbYNJiXXi/7cf\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EM7sqNOxpxQ5X5hyvOBYD1W7d/EzPHV/lcbXPUDYFHNqBYs842LWSTlPQioDpupXp\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EFFUQPxsenNXDa4TbmaRvnK2jka0yXcqdiXuIteZZovp/IgNkfmx2Ld4/Q+Xlnscf\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECFtWbjRa/0W/3EW/ghQ7xtC7bgcOHJesoiTZPCZ+dfKuUfH6d1qxgj6Jwt0HtyEf\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EQTQSc66BdMLnw5DMObs4lXDo2YE6LvMrySdXm/S7img5YzU=\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-----END CERTIFICATE-----\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 460px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 460px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ECompleted.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-2-|-runtime-security-with-falco\u0027\u003E\u003Cspan\u003EQuestion 2 | Runtime Security with Falco\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks7262\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EFalco is installed on worker node \u003C/span\u003E\u003Ccode\u003Ecks7262-node1\u003C/code\u003E\u003Cspan\u003E. Connect using \u003C/span\u003E\u003Ccode\u003Essh cks7262-node1\u003C/code\u003E\u003Cspan\u003E from \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003Cspan\u003E. There is file \u003C/span\u003E\u003Ccode\u003E/etc/falco/rules.d/falco_custom.yaml\u003C/code\u003E\u003Cspan\u003E with rules that help you to:\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EFind a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E running image \u003C/span\u003E\u003Ccode\u003Ehttpd\u003C/code\u003E\u003Cspan\u003E which modifies \u003C/span\u003E\u003Ccode\u003E/etc/passwd\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EScale the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E that controls that \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E down to 0.\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EFind a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E running image \u003C/span\u003E\u003Ccode\u003Enginx\u003C/code\u003E\u003Cspan\u003E which triggers rule \u003C/span\u003E\u003Ccode\u003EPackage management process launched\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EChange the rule log text after \u003C/span\u003E\u003Ccode\u003EPackage management process launched\u003C/code\u003E\u003Cspan\u003E to only include:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etime-with-nanosconds,container-id,container-name,user-name\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ECollect the logs for at least 20 seconds and save them under \u003C/span\u003E\u003Ccode\u003E/opt/course/2/falco.log\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EScale the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E that controls that \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E down to 0.\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Use \u003C/span\u003E\u003Ccode\u003Esudo -i\u003C/code\u003E\u003Cspan\u003E to become root which may be required for this question\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-2\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Other tools you might have to be familar with are \u003C/span\u003E\u003Ca href=\u0027https://github.com/draios/sysdig\u0027\u003E\u003Cspan\u003Esysdig\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E or \u003C/span\u003E\u003Ca href=\u0027https://github.com/aquasecurity/tracee\u0027\u003E\u003Cspan\u003Etracee\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027check-out-falco-files\u0027\u003E\u003Cspan\u003ECheck out Falco files\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EFirst we can investigate Falco config a little:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks7262\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ ssh cks7262-node1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262-node1:~$ sudo -i\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# cd /etc/falco\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:/etc/falco# ls -lh\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etotal 132K\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edrwxr-xr-x 2 root root 4.0K Aug 19 13:18 config.d\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 root root  53K Sep  7 10:04 falco.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 root root \u0026nbsp; 21 Aug 19 12:57 falco_rules.local.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 root root  63K Jan  1  1970 falco_rules.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edrwxr-xr-x 2 root root 4.0K Aug 19 13:18 rules.d\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:/etc/falco# ls -lh rules.d\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etotal 4.0K\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 root root 1.2K Sep  7 12:24 falco_custom.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 437px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 437px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EHere we see the Falco rule file \u003C/span\u003E\u003Ccode\u003Efalco_custom.yaml\u003C/code\u003E\u003Cspan\u003E mentioned in the question text. We can also see the Falco configuration in \u003C/span\u003E\u003Ccode\u003Efalco.yaml\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# /etc/falco/falco.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# With Falco 0.36 and beyond, it\u0027s now possible to apply multiple rules that match \u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# the same event type, eliminating concerns about rule prioritization based on the \u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# \u0022first match wins\u0022 principle. However, enabling the `all` matching option may result\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# in a performance penalty. We recommend carefully testing this alternative setting \u0026nbsp;\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# before deploying it in production. Read more under the `rule_matching` configuration.\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Erules_files\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E/etc/falco/falco_rules.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E/etc/falco/falco_rules.local.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E/etc/falco/rules.d\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 260px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 260px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis means that Falco is checking these directories for rules. There is also \u003C/span\u003E\u003Ccode\u003Efalco_rules.local.yaml\u003C/code\u003E\u003Cspan\u003E in which we can override existing default rules. This is a much cleaner solution for production. Choose the faster way for you in the exam if nothing is specified in the task.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-1\u0027\u003E\u003Cspan\u003EStep 1\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EWe can run Falco and filter for certain output:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# falco -U | grep httpd\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: Falco version: 0.38.2 (x86_64)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: Falco initialized with configuration files:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: \u0026nbsp;  /etc/falco/falco.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: System info: Linux version 6.8.0-41-generic (buildd@lcy02-amd64-100) (x86_64-linux-gnu-gcc-13 (Ubuntu 13.2.0-23ubuntu4) 13.2.0, GNU ld (GNU Binutils for Ubuntu) 2.42) #41-Ubuntu SMP PREEMPT_DYNAMIC Fri Aug  2 20:41:06 UTC 2024\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: Loading rules from file /etc/falco/falco_rules.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: Loading rules from file /etc/falco/falco_rules.local.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: Loading rules from file /etc/falco/rules.d/falco_custom.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: The chosen syscall buffer dimension is: 8388608 bytes (8 MBs)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: you required a buffer every \u00272\u0027 CPUs but there are only \u00271\u0027 online CPUs. Falco changed the config to: one buffer every \u00271\u0027 CPUs\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: Starting health webserver with threadiness 1, listening on 0.0.0.0:8765\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: Loaded event sources: syscall\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: Enabled event sources: syscall\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: Opening \u0027syscall\u0027 source with modern BPF probe.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 12:39:04 2024: One ring buffer every \u00271\u0027 CPUs.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E12:58:32.430165207: Warning Sensitive file opened for reading by non-trusted program (file=/etc/passwd gparent=containerd-shim ggparent=systemd gggparent=\u0026lt;NA\u0026gt; evt_type=open user=root user_uid=0 user_loginuid=-1 process=sed proc_exepath=/bin/busybox parent=sh command=sed -i $d /etc/passwd terminal=0 container_id=f86cd629e71c container_name=httpd)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 552px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 552px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E It can take a bit till Falco displays output, use \u003C/span\u003E\u003Ccode\u003Efalco -U/--unbuffered\u003C/code\u003E\u003Cspan\u003E to speed up\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cspan\u003EWe can see a matching log. Next we can find the belonging \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and scale down the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# crictl ps -id f86cd629e71c\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECONTAINER ID \u0026nbsp;  IMAGE \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  NAME  ... \u0026nbsp; POD ID \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; POD\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ef86cd629e71c4 \u0026nbsp; f6b40f9f8ad71  httpd ... \u0026nbsp; cab6dafd045d5  rating-service-5c8f54bd77-bgkh6\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EUsing the Pod ID we can find out more information like the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# crictl pods -id cab6dafd045d5\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPOD ID \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  CREATED \u0026nbsp; \u0026nbsp; \u0026nbsp; ... \u0026nbsp; NAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  NAMESPACE \u0026nbsp;  ... \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecab6dafd045d5 \u0026nbsp; 3 hours ago \u0026nbsp; ... \u0026nbsp; rating-service-5c8f54bd77-bgkh6 \u0026nbsp; team-purple  ...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENow we can scale down:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# k get pod -A | grep rating-service\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eteam-purple \u0026nbsp; \u0026nbsp; rating-service-5c8f54bd77-bgkh6 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; 1/1 \u0026nbsp; \u0026nbsp; Running \u0026nbsp; \u0026nbsp; 0 \u0026nbsp; ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# k -n team-purple scale deploy rating-service --replicas 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edeployment.apps/rating-service scaled\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-1-rule-investigation\u0027\u003E\u003Cspan\u003EStep 1: Rule Investigation\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EIf we have a look in file \u003C/span\u003E\u003Ccode\u003E/etc/falco/rules.d/falco_custom.yaml\u003C/code\u003E\u003Cspan\u003E then we see:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks7262-node1:/etc/falco/rules.d/falco_custom.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Elist\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Esensitive_file_names\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  items\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: [\u003C/span\u003E/etc/shadow\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E /etc/sudoers\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E /etc/pam.conf\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E /etc/security/pwquality.conf\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E /etc/passwd\u003Cspan class=\u0022cm-meta\u0022\u003E]\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 100px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 100px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis is a list that overwrites the default list in \u003C/span\u003E\u003Ccode\u003Efalco_rules.yaml\u003C/code\u003E\u003Cspan\u003E. It\u0026#39;s used for example by \u003C/span\u003E\u003Ccode\u003Emacro: sensitive_files\u003C/code\u003E\u003Cspan\u003E. To find the rule we could simply search for \u003C/span\u003E\u003Ccode\u003ESensitive file opened for reading by non-trusted program\u003C/code\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Ccode\u003Efalco_rules.yaml\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EIf we would like to trigger the rule with additional files/paths we could simply add these to \u003C/span\u003E\u003Ccode\u003Elist: sensitive_file_names\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-2\u0027\u003E\u003Cspan\u003EStep 2\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EWe run Falco and filter for certain output:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# falco -U | grep \u0027Package management process launched\u0027\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: Falco version: 0.38.2 (x86_64)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: Falco initialized with configuration files:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: \u0026nbsp;  /etc/falco/falco.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: System info: Linux version 6.8.0-41-generic (buildd@lcy02-amd64-100) (x86_64-linux-gnu-gcc-13 (Ubuntu 13.2.0-23ubuntu4) 13.2.0, GNU ld (GNU Binutils for Ubuntu) 2.42) #41-Ubuntu SMP PREEMPT_DYNAMIC Fri Aug  2 20:41:06 UTC 2024\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: Loading rules from file /etc/falco/falco_rules.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: Loading rules from file /etc/falco/falco_rules.local.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: Loading rules from file /etc/falco/rules.d/falco_custom.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: The chosen syscall buffer dimension is: 8388608 bytes (8 MBs)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: you required a buffer every \u00272\u0027 CPUs but there are only \u00271\u0027 online CPUs. Falco changed the config to: one buffer every \u00271\u0027 CPUs\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: Starting health webserver with threadiness 1, listening on 0.0.0.0:8765\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: Loaded event sources: syscall\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: Enabled event sources: syscall\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: Opening \u0027syscall\u0027 source with modern BPF probe.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:10:43 2024: One ring buffer every \u00271\u0027 CPUs.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:10:46.307338039: Error Package management process launched (user=root user_loginuid=-1 command=apk container_id=65338e61dc48 container_name=nginx image=docker.io/library/nginx:1.19.2-alpine)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 529px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 529px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E It can take a bit till Falco displays output, use \u003C/span\u003E\u003Ccode\u003Efalco -U/--unbuffered\u003C/code\u003E\u003Cspan\u003E to speed up\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u003Cspan\u003EWe can see a matching log. Next we can find the belonging \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# crictl ps -id 65338e61dc48\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECONTAINER ID \u0026nbsp;  IMAGE \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  NAME  ... \u0026nbsp; POD ID \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; POD\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E65338e61dc485 \u0026nbsp; 6f715d38cfe0e  nginx ... \u0026nbsp; 1e3d3ea3e06ee  webapi-5499fdc5db-k4c7c\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EUsing the Pod ID we can find out more information like the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# crictl pods -id 1e3d3ea3e06ee\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPOD ID \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  CREATED \u0026nbsp; \u0026nbsp; \u0026nbsp; ... \u0026nbsp; NAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  NAMESPACE \u0026nbsp;  ... \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E1e3d3ea3e06ee \u0026nbsp; 3 hours ago \u0026nbsp; ... \u0026nbsp; webapi-5499fdc5db-k4c7c \u0026nbsp; team-blue \u0026nbsp;  ...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe wait before scaling down because this task requires some more steps before.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-2-update-rule\u0027\u003E\u003Cspan\u003EStep 2: Update Rule\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EThe task requires us to store logs for rule \u003C/span\u003E\u003Ccode\u003EPackage management process launched\u003C/code\u003E\u003Cspan\u003E with data \u003C/span\u003E\u003Ccode\u003Etime,container-id,container-name,user-name\u003C/code\u003E\u003Cspan\u003E. So we edit the rule in \u003C/span\u003E\u003Ccode\u003E/etc/falco/rules.d/falco_custom.yaml\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:/etc/falco# vim rules.d/falco_custom.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks7262-node1:/etc/falco/rules.d/falco_custom.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# Container is supposed to be immutable. Package management should be done in building the image.\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Erule\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ELaunch Package Management Process in Container\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  desc\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EPackage management process ran inside container\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  condition\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026gt;\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  spawned_process\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  and container\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  and user.name != \u0022_apt\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  and package_mgmt_procs\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  and not package_mgmt_ancestor_procs\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  output\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026gt;\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  Package management process launched (user=%user.name user_loginuid=%user.loginuid\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  command=%proc.cmdline container_id=%container.id container_name=%container.name image=%container.image.repository:%container.image.tag)\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  priority\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EERROR\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  tags\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: [\u003C/span\u003Eprocess\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E mitre_persistence\u003Cspan class=\u0022cm-meta\u0022\u003E]\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 400px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 400px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe change the above rule to:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks7262-node1:/etc/falco/rules.d/falco_custom.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# Container is supposed to be immutable. Package management should be done in building the image.\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Erule\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ELaunch Package Management Process in Container\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  desc\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EPackage management process ran inside container\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  condition\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026gt;\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  spawned_process\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  and container\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  and user.name != \u0022_apt\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  and package_mgmt_procs\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  and not package_mgmt_ancestor_procs\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  output\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026gt;\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  Package management process launched %evt.time,%container.id,%container.name,%user.name\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  priority\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EERROR\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  tags\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: [\u003C/span\u003Eprocess\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E mitre_persistence\u003Cspan class=\u0022cm-meta\u0022\u003E]\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 360px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 360px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EFor all available fields we can check \u003C/span\u003E\u003Ca href=\u0027https://falco.org/docs/rules/supported-fields\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://falco.org/docs/rules/supported-fields\u003C/a\u003E\u003Cspan\u003E, which should be allowed to open during the exam. We can also run for example \u003C/span\u003E\u003Ccode\u003Efalco --list | grep user\u003C/code\u003E\u003Cspan\u003E to find available fields.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-2-collect-logs\u0027\u003E\u003Cspan\u003EStep 2: Collect logs\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ENext we check the logs in our adjusted format:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# falco -U | grep \u0027Package management process launched\u0027\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:31:20 2024: Falco version: 0.38.2 (x86_64)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...0.0.0.0:8765\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:31:20 2024: Loaded event sources: syscall\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:31:20 2024: Enabled event sources: syscall\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:31:20 2024: Opening \u0027syscall\u0027 source with modern BPF probe.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESat Sep  7 13:31:20 2024: One ring buffer every \u00271\u0027 CPUs.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:31:26.364958758: Error Package management process launched 13:31:26.364958758,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:31:31.356117694: Error Package management process launched 13:31:31.356117694,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:31:36.329307852: Error Package management process launched 13:31:36.329307852,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 322px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 322px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EIf there are syntax or other errors in the \u003C/span\u003E\u003Ccode\u003Efalco_custom.yaml\u003C/code\u003E\u003Cspan\u003E then Falco will display these and we would need to adjust.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ENow we can collect for at least 20 seconds. Copy\u0026amp;paste the output into file \u003C/span\u003E\u003Ccode\u003E/opt/course/2/falco.log\u003C/code\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003Eon cks7262\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# exit\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Elogout\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262-node1:~$ exit\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Elogout\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EConnection to cks7262-node1 closed.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ vim /opt/course/2/falco.log\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 184px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 184px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E# cks7262:/opt/course/2/falco.log\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:31:26.364958758: Error Package management process launched 13:31:26.364958758,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:31:31.356117694: Error Package management process launched 13:31:31.356117694,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:31:36.329307852: Error Package management process launched 13:31:36.329307852,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:31:41.338988597: Error Package management process launched 13:31:41.338988597,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:31:46.329154755: Error Package management process launched 13:31:46.329154755,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:31:51.308124986: Error Package management process launched 13:31:51.308124986,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:31:56.358522188: Error Package management process launched 13:31:56.358522188,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:32:01.360834976: Error Package management process launched 13:32:01.360834976,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:32:06.327657274: Error Package management process launched 13:32:06.327657274,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:32:11.342534392: Error Package management process launched 13:32:11.342534392,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:32:16.343746448: Error Package management process launched 13:32:16.343746448,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:32:21.303524240: Error Package management process launched 13:32:21.303524240,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:32:26.330027622: Error Package management process launched 13:32:26.330027622,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E13:32:31.364716844: Error Package management process launched 13:32:31.364716844,65338e61dc48,nginx,root\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 667px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 667px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-2-scale-down-deployment\u0027\u003E\u003Cspan\u003EStep 2: Scale down Deployment\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ENow we can scale down using the information we got at the beginning of step (2):\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k get pod -A | grep webapi\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eteam-blue \u0026nbsp; \u0026nbsp; \u0026nbsp; webapi-5499fdc5db-k4c7c \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; 1/1 \u0026nbsp; \u0026nbsp; Running \u0026nbsp; \u0026nbsp;  ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-blue scale deploy webapi --replicas 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edeployment.apps/webapi scaled\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EYou should be comfortable finding, creating and editing Falco rules.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-3-|-apiserver-security\u0027\u003E\u003Cspan\u003EQuestion 3 | Apiserver Security\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks7262\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EYou received a list from the DevSecOps team which performed a security investigation of the cluster. The list states the following about the apiserver setup:\u003C/span\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EAccessible through a NodePort \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003Cspan\u003EChange the apiserver setup so that:\u003C/span\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EOnly accessible through a ClusterIP \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Use \u003C/span\u003E\u003Ccode\u003Esudo -i\u003C/code\u003E\u003Cspan\u003E to become root which may be required for this question\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-3\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003EIn order to modify the parameters for the apiserver, we first ssh into the controlplane node and check which parameters the apiserver process is running with:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 170.5px; left: 448px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003Ex\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks7262\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# sudo -i\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# ps aux | grep kube-apiserver\u003C/span\u003E\u003C/pre\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eroot \u0026nbsp; \u0026nbsp; \u0026nbsp; 27622  7.4 15.3 1105924 311788 ? \u0026nbsp; \u0026nbsp;  Ssl  10:31  11:03 kube-apiserver --advertise-address=192.168.100.11 --allow-privileged=true --authorization-mode=Node,RBAC --client-ca-file=/etc/kubernetes/pki/ca.crt --enable-admission-plugins=NodeRestriction --enable-bootstrap-token-auth=true --etcd-cafile=/etc/kubernetes/pki/etcd/ca.crt --etcd-certfile=/etc/kubernetes/pki/apiserver-etcd-client.crt --etcd-keyfile=/etc/kubernetes/pki/apiserver-etcd-client.key --etcd-servers=https://127.0.0.1:2379 --kubelet-client-certificate=/etc/kubernetes/pki/apiserver-kubelet-client.crt --kubelet-client-key=/etc/kubernetes/pki/apiserver-kubelet-client.key --kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname --kubernetes-service-node-port=31000 --proxy-client-cert-\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 368px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 368px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe may notice the following argument:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E--kubernetes-service-node-port=31000\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe can also check the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and see it\u0026#39;s of type NodePort:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# k get svc\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; TYPE \u0026nbsp; \u0026nbsp; \u0026nbsp; CLUSTER-IP \u0026nbsp; EXTERNAL-IP \u0026nbsp; PORT(S) \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubernetes \u0026nbsp; NodePort \u0026nbsp; 10.96.0.1 \u0026nbsp;  \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp;  443:31000/TCP \u0026nbsp; 5d2h\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThe apiserver runs as a static \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E, so we can edit the manifest. But before we do this we also create a copy in case we mess things up:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# cp /etc/kubernetes/manifests/kube-apiserver.yaml ~/3_kube-apiserver.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# vim /etc/kubernetes/manifests/kube-apiserver.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe should remove the unsecure settings:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# /etc/kubernetes/manifests/kube-apiserver.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ev1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EPod\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  annotations\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  kubeadm.kubernetes.io/kube-apiserver.advertise-address.endpoint\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E192.168.100.11\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E6443\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  creationTimestamp\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enull\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  component\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-apiserver\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  tier\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Econtrol-plane\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-apiserver\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-system\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  containers\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ecommand\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003Ekube-apiserver\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--advertise-address=192.168.100.11\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--allow-privileged=true\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--authorization-mode=Node,RBAC\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--client-ca-file=/etc/kubernetes/pki/ca.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--enable-admission-plugins=NodeRestriction\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--enable-bootstrap-token-auth=true\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--etcd-cafile=/etc/kubernetes/pki/etcd/ca.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--etcd-certfile=/etc/kubernetes/pki/apiserver-etcd-client.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--etcd-keyfile=/etc/kubernetes/pki/apiserver-etcd-client.key\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--etcd-servers=https://127.0.0.1:2379\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--kubelet-client-certificate=/etc/kubernetes/pki/apiserver-kubelet-client.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--kubelet-client-key=/etc/kubernetes/pki/apiserver-kubelet-client.key\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--kubelet-preferred-address-types=InternalIP,ExternalIP,Hostname\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# \u0026nbsp;  - --kubernetes-service-node-port=31000 \u0026nbsp; # delete or set to 0\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--proxy-client-cert-file=/etc/kubernetes/pki/front-proxy-client.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--proxy-client-key-file=/etc/kubernetes/pki/front-proxy-client.key\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 660px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 660px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWait for the apiserver container to restart:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# watch crictl ps\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EGive the apiserver some time to start up again. Check the apiserver\u0026#39;s \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E status and the process parameters:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# k -n kube-system get pod | grep apiserver\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekube-apiserver-cks7262 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  1/1 \u0026nbsp; \u0026nbsp; Running \u0026nbsp; \u0026nbsp; \u0026nbsp;  0 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  38s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# ps aux | grep kube-apiserver | grep node-port\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThe apiserver got restarted without the unsecure settings. However, the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Ekubernetes\u003C/code\u003E\u003Cspan\u003E will still be of type NodePort:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# k get svc\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; TYPE \u0026nbsp; \u0026nbsp; \u0026nbsp; CLUSTER-IP \u0026nbsp; EXTERNAL-IP \u0026nbsp; PORT(S) \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubernetes \u0026nbsp; NodePort \u0026nbsp; 10.96.0.1 \u0026nbsp;  \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp;  443:31000/TCP \u0026nbsp; 5d3h\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe need to delete the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E for the changes to take effect:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# k delete svc kubernetes\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eservice \u0022kubernetes\u0022 deleted\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAfter a few seconds:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# k get svc\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; TYPE \u0026nbsp; \u0026nbsp; \u0026nbsp;  CLUSTER-IP \u0026nbsp; EXTERNAL-IP \u0026nbsp; PORT(S) \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubernetes \u0026nbsp; ClusterIP \u0026nbsp; 10.96.0.1 \u0026nbsp;  \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp;  443/TCP \u0026nbsp; 6s\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis should satisfy the DevSecOps team.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-4-|-pod-security-standard\u0027\u003E\u003Cspan\u003EQuestion 4 | Pod Security Standard\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks7262\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThere is \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Econtainer-host-hacker\u003C/code\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eteam-red\u003C/code\u003E\u003Cspan\u003E which mounts \u003C/span\u003E\u003Ccode\u003E/run/containerd\u003C/code\u003E\u003Cspan\u003E as a hostPath volume on the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENode\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E where it\u0026#39;s running. This means that the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E can access various data about other containers running on the same \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENode\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ETo prevent this configure \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eteam-red\u003C/code\u003E\u003Cspan\u003E to \u003C/span\u003E\u003Ccode\u003Eenforce\u003C/code\u003E\u003Cspan\u003E the \u003C/span\u003E\u003Ccode\u003Ebaseline\u003C/code\u003E\u003Cspan\u003E Pod Security Standard. Once completed, delete the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E of the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E mentioned above.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ECheck the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EReplicaSet\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E events and write the event/log lines containing the reason why the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E isn\u0026#39;t recreated into \u003C/span\u003E\u003Ccode\u003E/opt/course/4/logs\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-4\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003EMaking \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespaces\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E use Pod Security Standards works via labels. We can simply edit it:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks7262\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k edit ns team-red\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENow we configure the requested label:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# kubectl edit namespace team-red\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ev1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ENamespace\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  kubernetes.io/metadata.name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eteam-red\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  pod-security.kubernetes.io/enforce\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ebaseline \u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eteam-red\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 180px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 180px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis should already be enough for the default Pod Security Admission Controller to pick up on that change. Let\u0026#39;s test it and delete the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E to see if it\u0026#39;ll be recreated or fails, it should fail!\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-red get pod\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  READY \u0026nbsp; STATUS \u0026nbsp;  RESTARTS \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Econtainer-host-hacker-dbf989777-wm8fc \u0026nbsp; 1/1 \u0026nbsp; \u0026nbsp; Running \u0026nbsp; 0 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  115s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-red delete pod container-host-hacker-dbf989777-wm8fc --force --grace-period 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epod \u0022container-host-hacker-dbf989777-wm8fc\u0022 deleted\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-red get pod\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENo resources found in team-red namespace.\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 230px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 230px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EUsually the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EReplicaSet\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E of a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E would recreate the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E if deleted, here we see this doesn\u0026#39;t happen. Let\u0026#39;s check why:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-red get rs\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  DESIRED \u0026nbsp; CURRENT \u0026nbsp; READY \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Econtainer-host-hacker-dbf989777 \u0026nbsp; 1 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; 0 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; 0 \u0026nbsp; \u0026nbsp; \u0026nbsp; 5m25s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-red describe rs container-host-hacker-dbf989777\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EName: \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; container-host-hacker-dbf989777\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENamespace: \u0026nbsp; \u0026nbsp;  team-red\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EEvents:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  Type \u0026nbsp; \u0026nbsp; Reason \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  Age \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; From \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Message\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  ---- \u0026nbsp; \u0026nbsp; ------ \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  ---- \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  ---- \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; -------\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  Warning  FailedCreate  78s \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  replicaset-controller  Error creating: pods \u0022container-host-hacker-dbf989777-x5v5t\u0022 is forbidden: violates PodSecurity \u0022baseline:latest\u0022: hostPath volumes (volume \u0022containerdata\u0022)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  Warning  FailedCreate  39s (x7 over 77s)  replicaset-controller  (combined from similar events): Error creating: pods \u0022container-host-hacker-dbf989777-64q6p\u0022 is forbidden: violates PodSecurity \u0022baseline:latest\u0022: hostPath volumes (volume \u0022containerdata\u0022)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 414px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 414px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThere we go! Finally we write the reason into the requested file so that scoring will be happy too!\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E# cks7262:/opt/course/4/logs\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EWarning  FailedCreate \u0026nbsp; \u0026nbsp;  2m2s (x9 over 2m40s)  replicaset-controller  (combined from similar events): Error creating: pods \u0022container-host-hacker-dbf989777-kjfpn\u0022 is forbidden: violates PodSecurity \u0022baseline:latest\u0022: hostPath volumes (volume \u0022containerdata\u0022)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EPod Security Standards can give a great base level of security! But when one finds themselves wanting to deeper adjust the levels like \u003C/span\u003E\u003Ccode\u003Ebaseline\u003C/code\u003E\u003Cspan\u003E or \u003C/span\u003E\u003Ccode\u003Erestricted\u003C/code\u003E\u003Cspan\u003E... this isn\u0026#39;t possible and 3rd party solutions like OPA or Kyverno could be looked at.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-5-|-cis-benchmark\u0027\u003E\u003Cspan\u003EQuestion 5 | CIS Benchmark\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks3477\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EYou\u0026#39;re ask to evaluate specific settings of the cluster against the CIS Benchmark recommendations. Use the tool \u003C/span\u003E\u003Ccode\u003Ekube-bench\u003C/code\u003E\u003Cspan\u003E which is already installed on the nodes.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EConnect to the worker node using \u003C/span\u003E\u003Ccode\u003Essh cks3477-node1\u003C/code\u003E\u003Cspan\u003E from \u003C/span\u003E\u003Ccode\u003Ecks3477\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EOn the controlplane node ensure (correct if necessary) that the CIS recommendations are set for:\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EThe \u003C/span\u003E\u003Ccode\u003E--profiling\u003C/code\u003E\u003Cspan\u003E argument of the kube-controller-manager\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EThe ownership of directory \u003C/span\u003E\u003Ccode\u003E/var/lib/etcd\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003Cspan\u003EOn the worker node ensure (correct if necessary) that the CIS recommendations are set for:\u003C/span\u003E\u003C/p\u003E\u003Col start=\u00273\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EThe permissions of the kubelet configuration \u003C/span\u003E\u003Ccode\u003E/var/lib/kubelet/config.yaml\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EThe \u003C/span\u003E\u003Ccode\u003E--client-ca-file\u003C/code\u003E\u003Cspan\u003E argument of the kubelet\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Use \u003C/span\u003E\u003Ccode\u003Esudo -i\u003C/code\u003E\u003Cspan\u003E to become root which may be required for this question\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-5\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Ch6 id=\u0027step-1-2\u0027\u003E\u003Cspan\u003EStep 1\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EFirst we ssh into the controlplane node run \u003C/span\u003E\u003Ccode\u003Ekube-bench\u003C/code\u003E\u003Cspan\u003E against the controlplane components:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks3477\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# sudo -i\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# kube-bench run --targets=master\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E== Summary master ==\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E38 checks PASS\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E10 checks FAIL\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E11 checks WARN\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0 checks INFO\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E== Summary total ==\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E38 checks PASS\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E10 checks FAIL\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E11 checks WARN\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0 checks INFO\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 391px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 391px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe see some passes, fails and warnings. Let\u0026#39;s check the required step (1) of the controller manager:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# kube-bench run --targets=master | grep kube-controller -A 3\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E1.3.1 Edit the Controller Manager pod specification file /etc/kubernetes/manifests/kube-controller-manager.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eon the control plane node and set the --terminated-pod-gc-threshold to an appropriate threshold,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Efor example, --terminated-pod-gc-threshold=10\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E1.3.2 Edit the Controller Manager pod specification file /etc/kubernetes/manifests/kube-controller-manager.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eon the control plane node and set the below parameter.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E--profiling=false\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 253px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 253px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThere we see 1.3.2 which suggests to set \u003C/span\u003E\u003Ccode\u003E--profiling=false\u003C/code\u003E\u003Cspan\u003E, we can check if it currently passes or fails:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# kube-bench run --targets=master --check=\u00271.3.2\u0027\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[INFO] 1 Control Plane Security Configuration\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[INFO] 1.3 Controller Manager\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[FAIL] 1.3.2 Ensure that the --profiling argument is set to false (Automated)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ESo to obey we do:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# vim /etc/kubernetes/manifests/kube-controller-manager.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EEdit the corresponding line:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks3477:/etc/kubernetes/manifests/kube-controller-manager.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ev1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EPod\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  creationTimestamp\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enull\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  component\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-controller-manager\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  tier\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Econtrol-plane\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-controller-manager\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-system\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  containers\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ecommand\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003Ekube-controller-manager\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--allocate-node-cidrs=true\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--authentication-kubeconfig=/etc/kubernetes/controller-manager.conf\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--authorization-kubeconfig=/etc/kubernetes/controller-manager.conf\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--bind-address=127.0.0.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--client-ca-file=/etc/kubernetes/pki/ca.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--cluster-cidr=10.244.0.0/16\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--cluster-name=kubernetes\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--cluster-signing-cert-file=/etc/kubernetes/pki/ca.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--cluster-signing-key-file=/etc/kubernetes/pki/ca.key\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--controllers=*,bootstrapsigner,tokencleaner\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--kubeconfig=/etc/kubernetes/controller-manager.conf\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--leader-elect=true\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--requestheader-client-ca-file=/etc/kubernetes/pki/front-proxy-ca.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--root-ca-file=/etc/kubernetes/pki/ca.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--service-account-private-key-file=/etc/kubernetes/pki/sa.key\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--service-cluster-ip-range=10.96.0.0/12\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--use-service-account-credentials=true\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--profiling=false \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 660px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 660px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe wait for the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E to restart, then run \u003C/span\u003E\u003Ccode\u003Ekube-bench\u003C/code\u003E\u003Cspan\u003E again to check if the problem was solved:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# kube-bench run --targets=master | grep 1.3.2\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[PASS] 1.3.2 Ensure that the --profiling argument is set to false (Automated)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EProblem solved and 1.3.2 is passing:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-2-2\u0027\u003E\u003Cspan\u003EStep 2\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ENext step is to check the ownership of directory \u003C/span\u003E\u003Ccode\u003E/var/lib/etcd\u003C/code\u003E\u003Cspan\u003E, so we first have a look:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# ls -lh /var/lib | grep etcd\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edrwx------  3 root \u0026nbsp; \u0026nbsp;  root \u0026nbsp; \u0026nbsp;  4.0K Sep 11 20:08 etcd\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ELooks like user root and group root. Also possible to check using:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# stat -c %U:%G /var/lib/etcd\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eroot:root\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EBut what has \u003C/span\u003E\u003Ccode\u003Ekube-bench\u003C/code\u003E\u003Cspan\u003E to say about this?\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# kube-bench run --targets=master | grep \u0022/var/lib/etcd\u0022 -B5\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EFor example, chmod 600 \u0026lt;path/to/cni/files\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E1.1.12 On the etcd server node, get the etcd data directory, passed as an argument --data-dir,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Efrom the command \u0027ps -ef | grep etcd\u0027.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ERun the below command (based on the etcd data directory found above).\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EFor example, chown etcd:etcd /var/lib/etcd\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# kube-bench run --targets=master | grep 1.1.12\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[FAIL] 1.1.12 Ensure that the etcd data directory ownership is set to etcd:etcd (Automated)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E1.1.12 On the etcd server node, get the etcd data directory, passed as an argument --data-dir,\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 322px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 322px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ETo comply we run the following:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# chown etcd:etcd /var/lib/etcd\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# ls -lh /var/lib | grep etcd\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edrwx------  3 etcd \u0026nbsp; \u0026nbsp;  etcd \u0026nbsp; \u0026nbsp;  4.0K Sep 11 20:08 etcd\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis looks better. We run \u003C/span\u003E\u003Ccode\u003Ekube-bench\u003C/code\u003E\u003Cspan\u003E again, and make sure test 1.1.12. is passing.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# kube-bench run --targets=master | grep 1.1.12\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[PASS] 1.1.12 Ensure that the etcd data directory ownership is set to etcd:etcd (Automated)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EDone.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-3\u0027\u003E\u003Cspan\u003EStep 3\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ETo continue with step (3), we\u0026#39;ll head to the worker node and ensure that the kubelet configuration file has the minimum necessary permissions as recommended:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# ssh cks3477-node1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477-node1:~# sudo -i\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477-node1:~# kube-bench run --targets=node\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E== Summary node ==\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E16 checks PASS\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2 checks FAIL\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E6 checks WARN\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0 checks INFO\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E== Summary total ==\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E16 checks PASS\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2 checks FAIL\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E6 checks WARN\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0 checks INFO\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 391px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 391px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAlso here some passes, fails and warnings. We check the permission level of the kubelet config file:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477-node1:~# stat -c %a /var/lib/kubelet/config.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E777\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003E777 is highly permissive access level and not recommended by the \u003C/span\u003E\u003Ccode\u003Ekube-bench\u003C/code\u003E\u003Cspan\u003E guidelines:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477-node1:~# kube-bench run --targets=node | grep /var/lib/kubelet/config.yaml -B2\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E4.1.9 Run the following command (using the config file location identified in the Audit step)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Echmod 600 /var/lib/kubelet/config.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477-node1:~# kube-bench run --targets=node | grep 4.1.9\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[FAIL] 4.1.9 If the kubelet config.yaml configuration file is being used validate permissions set to 600 or more restrictive (Automated)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E4.1.9 Run the following command (using the config file location identified in the Audit step)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 276px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 276px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe obey and set the recommended permissions:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477-node1:~# chmod 600 /var/lib/kubelet/config.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477-node1:~# stat -c %a /var/lib/kubelet/config.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E644\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAnd check if test 4.1.9 is passing:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477-node1:~# kube-bench run --targets=node | grep 4.1.9\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[PASS] 4.1.9 If the kubelet config.yaml configuration file is being used validate permissions set to 600 or more restrictive (Automated)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-4\u0027\u003E\u003Cspan\u003EStep 4\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EFinally for step (4), let\u0026#39;s check whether  \u003C/span\u003E\u003Ccode\u003E--client-ca-file\u003C/code\u003E\u003Cspan\u003E argument for the kubelet is set properly according to \u003C/span\u003E\u003Ccode\u003Ekube-bench\u003C/code\u003E\u003Cspan\u003E recommendations:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477-node1:~# kube-bench run --targets=node | grep client-ca-file\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[PASS] 4.2.3 Ensure that the --client-ca-file argument is set as appropriate (Automated)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis looks like 4.2.3 is passing.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ETo further investigate we run the following command to locate the kubelet config file, and open it:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477-node1:~# ps -ef | grep kubelet\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eroot \u0026nbsp; \u0026nbsp; \u0026nbsp;  6972 \u0026nbsp; \u0026nbsp; \u0026nbsp; 1  1 10:15 ? \u0026nbsp; \u0026nbsp; \u0026nbsp;  00:06:26 /usr/bin/kubelet --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubele.conf --config=/var/lib/kubelet/config.yaml --container-runtime-endpoint=unix:///var/run/containerd/containerd.sock --pod-infra-container-image=registry.k8s.io/pause:3.9\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@croot@cks3477-node1:~# vim /var/lib/kubelet/config.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 184px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 184px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# /var/lib/kubelet/config.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekubelet.config.k8s.io/v1beta1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eauthentication\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  anonymous\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  enabled\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-keyword\u0022\u003Efalse\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  webhook\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  cacheTTL\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E0s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  enabled\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-keyword\u0022\u003Etrue\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  x509\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  clientCAFile\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/etc/kubernetes/pki/ca.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 220px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 220px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThe \u003C/span\u003E\u003Ccode\u003EclientCAFile\u003C/code\u003E\u003Cspan\u003E points to the location of the certificate, which is correct.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-6-|-verify-platform-binaries\u0027\u003E\u003Cspan\u003EQuestion 6 | Verify Platform Binaries\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks3477\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThere are four Kubernetes server binaries located at \u003C/span\u003E\u003Ccode\u003E/opt/course/6/binaries\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks3477\u003C/code\u003E\u003Cspan\u003E. You\u0026#39;re provided with the following verified sha512 values for these:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003Ekube-apiserver\u003C/span\u003E\u003C/strong\u003E\n\u003Ccode\u003Ef417c0555bc0167355589dd1afe23be9bf909bf98312b1025f12015d1b58a1c62c9908c0067a7764fa35efdac7016a9efa8711a44425dd6692906a7c283f032c\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003Ekube-controller-manager\u003C/span\u003E\u003C/strong\u003E\n\u003Ccode\u003E60100cc725e91fe1a949e1b2d0474237844b5862556e25c2c655a33boa8225855ec5ee22fa4927e6c46a60d43a7c4403a27268f96fbb726307d1608b44f38a60\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003Ekube-proxy\u003C/span\u003E\u003C/strong\u003E\n\u003Ccode\u003E52f9d8ad045f8eee1d689619ef8ceef2d86d50c75a6a332653240d7ba5b2a114aca056d9e513984ade24358c9662714973c1960c62a5cb37dd375631c8a614c6\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003Ekubelet\u003C/span\u003E\u003C/strong\u003E\n\u003Ccode\u003E4be40f2440619e990897cf956c32800dc96c2c983bf64519854a3309fa5aa21827991559f9c44595098e27e6f2ee4d64a3fdec6baba8a177881f20e3ec61e26c\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EDelete those binaries that don\u0026#39;t match with the sha512 values above.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-6\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003EWe check the directory:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks3477 \u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# cd /opt/course/6/binaries\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/6/binaries$ ls\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekube-apiserver  kube-controller-manager  kube-proxy  kubelet\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 138px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 138px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ETo generate the sha512 sum of a binary we do:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/6/binaries$ sha512sum kube-apiserver \u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ef417c0555bc0167355589dd1afe23be9bf909bf98312b1025f12015d1b58a1c62c9908c0067a7764fa35efdac7016a9efa8711a44425dd6692906a7c283f032c  kube-apiserver\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ELooking good, next:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/6/binaries$ sha512sum kube-controller-manager\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E60100cc725e91fe1a949e1b2d0474237844b5862556e25c2c655a33b0a8225855ec5ee22fa4927e6c46a60d43a7c4403a27268f96fbb726307d1608b44f38a60  kube-controller-manager\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EOkay, next:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/6/binaries$ sha512sum kube-proxy\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E52f9d8ad045f8eee1d689619ef8ceef2d86d50c75a6a332653240d7ba5b2a114aca056d9e513984ade24358c9662714973c1960c62a5cb37dd375631c8a614c6  kube-proxy\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAlso good, and finally:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/6/binaries$ sha512sum kubelet\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E7b720598e6a3483b45c537b57d759e3e82bc5c53b3274f681792f62e941019cde3d51a7f9b55158abf3810d506146bc0aa7cf97b36f27f341028a54431b335be  kubelet\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ECatch! Binary \u003C/span\u003E\u003Ccode\u003Ekubelet\u003C/code\u003E\u003Cspan\u003E has a different hash!\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EBut\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E did we actually compare everything properly before? Let\u0026#39;s have a closer look at \u003C/span\u003E\u003Ccode\u003Ekube-controller-manager\u003C/code\u003E\u003Cspan\u003E again:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/6/binaries$ sha512sum kube-controller-manager \u0026gt; compare\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/6/binaries$ vim compare \u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EEdit to only have the provided hash and the generated one in one line each:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E# cks3477:/opt/course/6/binaries/compare\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E60100cc725e91fe1a949e1b2d0474237844b5862556e25c2c655a33b0a8225855ec5ee22fa4927e6c46a60d43a7c4403a27268f96fbb726307d1608b44f38a60 \u0026nbsp;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E60100cc725e91fe1a949e1b2d0474237844b5862556e25c2c655a33boa8225855ec5ee22fa4927e6c46a60d43a7c4403a27268f96fbb726307d1608b44f38a60\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ELooks right at a first glance, but if we do:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/6/binaries$ cat compare | uniq\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E60100cc725e91fe1a949e1b2d0474237844b5862556e25c2c655a33b0a8225855ec5ee22fa4927e6c46a60d43a7c4403a27268f96fbb726307d1608b44f38a60\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E60100cc725e91fe1a949e1b2d0474237844b5862556e25c2c655a33boa8225855ec5ee22fa4927e6c46a60d43a7c4403a27268f96fbb726307d1608b44f38a60\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis shows they are different, by just one character actually.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EWe could also do a diff:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/6/binaries$ sha512sum kube-controller-manager \u0026gt; compare1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/6/binaries$ vim compare1 # REMOVE filename\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/6/binaries$ echo 60100cc725e91fe1a949e1b2d0474237844b5862556e25c2c655a33boa8225855ec5ee22fa4927e6c46a60d43a7c4403a27268f96fbb726307d1608b44f38a60 \u0026gt; compare2\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/6/binaries$ diff compare1 compare2\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E1c1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u0026lt; 60100cc725e91fe1a949e1b2d0474237844b5862556e25c2c655a33b0a8225855ec5ee22fa4927e6c46a60d43a7c4403a27268f96fbb726307d1608b44f38a60\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E---\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u0026gt; 60100cc725e91fe1a949e1b2d0474237844b5862556e25c2c655a33boa8225855ec5ee22fa4927e6c46a60d43a7c4403a27268f96fbb726307d1608b44f38a60\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 391px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 391px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ETo complete the task we do:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/6/binaries$ rm kubelet kube-controller-manager\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-7-|-kubeletconfiguration\u0027\u003E\u003Cspan\u003EQuestion 7 | KubeletConfiguration\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks8930\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EYou\u0026#39;re asked to update the cluster\u0026#39;s \u003C/span\u003E\u003Ccode\u003EKubeletConfiguration\u003C/code\u003E\u003Cspan\u003E. Implement the following changes in the Kubeadm way that ensures new Nodes added to the cluster will receive the changes too:\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ESet \u003C/span\u003E\u003Ccode\u003EcontainerLogMaxSize\u003C/code\u003E\u003Cspan\u003E to \u003C/span\u003E\u003Ccode\u003E5Mi\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESet \u003C/span\u003E\u003Ccode\u003EcontainerLogMaxFiles\u003C/code\u003E\u003Cspan\u003E to \u003C/span\u003E\u003Ccode\u003E3\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EApply the changes for the Kubelet on \u003C/span\u003E\u003Ccode\u003Ecks8930\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EApply the changes for the Kubelet on \u003C/span\u003E\u003Ccode\u003Ecks8930-node1\u003C/code\u003E\u003Cspan\u003E. Connect with \u003C/span\u003E\u003Ccode\u003Essh cks8930-node1\u003C/code\u003E\u003Cspan\u003E from \u003C/span\u003E\u003Ccode\u003Ecks8930\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Use \u003C/span\u003E\u003Ccode\u003Esudo -i\u003C/code\u003E\u003Cspan\u003E to become root which may be required for this question\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-7\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-1-update-kubelet-config-configmap\u0027\u003E\u003Cspan\u003EStep 1: Update Kubelet-Config ConfigMap\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EA cluster created with Kubeadm will have a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EConfigMap\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E named \u003C/span\u003E\u003Ccode\u003Ekubelet-config\u003C/code\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Ekube-system\u003C/code\u003E\u003Cspan\u003E. This \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EConfigMap\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E will be used if new \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENodes\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E are added to the cluster. There is information about that process in the \u003C/span\u003E\u003Ca href=\u0027https://kubernetes.io/docs/tasks/administer-cluster/kubeadm/kubeadm-reconfigure\u0027\u003E\u003Cspan\u003Edocs\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ELet\u0026#39;s find that \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EConfigMap\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and perform the requested changes:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks8930 \u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# k -n kube-system edit cm kubelet-config\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# kubectl -n kube-system edit cm kubelet-config\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ev1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Edata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  kubelet\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: |\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  apiVersion: kubelet.config.k8s.io/v1beta1\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  kind: KubeletConfiguration\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  ...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  volumeStatsAggPeriod: 0s\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  containerLogMaxSize: 5Mi\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-string\u0022\u003E \u0026nbsp;  containerLogMaxFiles: 3\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EConfigMap\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekubelet-config\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-system\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 300px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 300px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAbove we can see that we simply added the two new arguments to \u003C/span\u003E\u003Ccode\u003Edata.kubelet\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EA new \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENode\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E added to the cluster, both control plane and worker, would use this \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EKubeletConfiguration\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E containing the changes. That \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EKubeletConfiguration\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E from the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EConfigMap\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E will also be used during a \u003C/span\u003E\u003Ccode\u003Ekubeadm upgrade\u003C/code\u003E\u003Cspan\u003E. \u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EIn the next steps we\u0026#39;ll see that the Kubelet-Config of the control plane and worker node remain unchanged so far.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-2-update-control-plane-kubelet-config\u0027\u003E\u003Cspan\u003EStep 2: Update Control Plane Kubelet-Config\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ETo find the Kubelet-Config path we can check the Kubelet process:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# sudo -i\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# ps aux | grep kubelet\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eroot \u0026nbsp; \u0026nbsp; \u0026nbsp;  7418  2.0  4.8 1927756 98748 ? \u0026nbsp; \u0026nbsp; \u0026nbsp; Ssl  11:38 \u0026nbsp; 1:56 /usr/bin/kubelet --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf --config=/var/lib/kubelet/config.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 161px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 161px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAbove we see it\u0026#39;s specified via the argument \u003C/span\u003E\u003Ccode\u003E--config=/var/lib/kubelet/config.yaml\u003C/code\u003E\u003Cspan\u003E. We could also check the Kubeadm config for the Kubelet:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# find / | grep kubeadm\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E/var/lib/dpkg/info/kubeadm.md5sums\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E/var/lib/dpkg/info/kubeadm.list\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E/var/lib/kubelet/kubeadm-flags.env\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E/usr/lib/systemd/system/kubelet.service.d/10-kubeadm.conf\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# cat /usr/lib/systemd/system/kubelet.service.d/10-kubeadm.conf\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E# Note: This dropin only works with kubeadm and kubelet v1.11+\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[Service]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EEnvironment=\u0022KUBELET_KUBECONFIG_ARGS=--bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EEnvironment=\u0022KUBELET_CONFIG_ARGS=--config=/var/lib/kubelet/config.yaml\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 322px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 322px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAbove we see the argument \u003C/span\u003E\u003Ccode\u003E--config\u003C/code\u003E\u003Cspan\u003E being set. And we should see that our changes are still missing in that file:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# grep containerLog /var/lib/kubelet/config.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# \u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe go ahead and download the latest Kubelet-Config, possible with \u003C/span\u003E\u003Ccode\u003E--dry-run\u003C/code\u003E\u003Cspan\u003E at first:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# kubeadm upgrade node phase kubelet-config --dry-run\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# kubeadm upgrade node phase kubelet-config\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Reading configuration from the cluster...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] FYI: You can look at this config file with \u0027kubectl -n kube-system get cm kubeadm-config -o yaml\u0027\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Backing up kubelet config file to /etc/kubernetes/tmp/kubeadm-kubelet-config1186317096/config.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[kubelet-start] Writing kubelet configuration to file \u0022/var/lib/kubelet/config.yaml\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] The configuration for this node was successfully updated!\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Now you should go ahead and upgrade the kubelet package using your package manager.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# grep containerLog /var/lib/kubelet/config.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EcontainerLogMaxFiles: 3\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EcontainerLogMaxSize: 5Mi\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 391px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 391px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ESweet! Now we just need to restart the Kubelet:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# service kubelet restart\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027optional-see-the-current-kubelet-config-of-a-node\u0027\u003E\u003Cspan\u003E(Optional) See the current Kubelet-Config of a Node\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EIt is necessary to restart the Kubelet in order for updates in \u003C/span\u003E\u003Ccode\u003E/var/lib/kubelet/config.yaml\u003C/code\u003E\u003Cspan\u003E to take effect. We could verify this with (\u003C/span\u003E\u003Ca href=\u0027https://kubernetes.io/docs/tasks/administer-cluster/kubelet-config-file\u0027\u003E\u003Cspan\u003Edocs\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E):\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# kubectl get --raw \u0022/api/v1/nodes/cks8930/proxy/configz\u0022 | jq\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  \u0022containerLogMaxSize\u0022: \u00225Mi\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  \u0022containerLogMaxFiles\u0022: 3,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# kubectl get --raw \u0022/api/v1/nodes/cks8930-node1/proxy/configz\u0022 | jq\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  \u0022containerLogMaxSize\u0022: \u002210Mi\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  \u0022containerLogMaxFiles\u0022: 5,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 253px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 253px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EFor \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENode\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Ecks8930-node1\u003C/code\u003E\u003Cspan\u003E the default values are still configured.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-3-update-worker-node-kubelet-config\u0027\u003E\u003Cspan\u003EStep 3: Update Worker Node Kubelet-Config\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EWe should see that the existing Kubelet-Config on the worker node is still unchanged:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# ssh cks8930-node1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# grep containerLog /var/lib/kubelet/config.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~#\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ESo we go ahead and apply the updates:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# kubeadm upgrade node phase kubelet-config\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Reading configuration from the cluster...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] FYI: You can look at this config file with \u0027kubectl -n kube-system get cm kubeadm-config -o yaml\u0027\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Backing up kubelet config file to /etc/kubernetes/tmp/kubeadm-kubelet-config948054586/config.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[kubelet-start] Writing kubelet configuration to file \u0022/var/lib/kubelet/config.yaml\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] The configuration for this node was successfully updated!\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Now you should go ahead and upgrade the kubelet package using your package manager.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# grep containerLog /var/lib/kubelet/config.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EcontainerLogMaxFiles: 3\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EcontainerLogMaxSize: 5Mi\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# service kubelet restart\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 368px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 368px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAnd optionally for admins with trust issues (or the ones that might forget to restart the Kubelets):\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# kubectl get --raw \u0022/api/v1/nodes/cks8930-node1/proxy/configz\u0022 | jq\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  \u0022containerLogMaxSize\u0022: \u00225Mi\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  \u0022containerLogMaxFiles\u0022: 3,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ETask completed.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-8-|-ciliumnetworkpolicy\u0027\u003E\u003Cspan\u003EQuestion 8 | CiliumNetworkPolicy\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks7262\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EIn \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eteam-orange\u003C/code\u003E\u003Cspan\u003E a Default-Allow strategy for all \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E-internal traffic was chosen. There is an existing \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ECiliumNetworkPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Edefault-allow\u003C/code\u003E\u003Cspan\u003E which assures this and which should not be altered. That policy also allows cluster internal DNS resolution.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ENow it\u0026#39;s time to deny and authenticate certain traffic. Create 3 \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ECiliumNetworkPolicies\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eteam-orange\u003C/code\u003E\u003Cspan\u003E to implement the following requirements:\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ECreate a \u003C/span\u003E\u003Ccode\u003ELayer 3\u003C/code\u003E\u003Cspan\u003E policy named \u003C/span\u003E\u003Ccode\u003Ep1\u003C/code\u003E\u003Cspan\u003E to:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EDeny outgoing traffic from \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E with label \u003C/span\u003E\u003Ccode\u003Etype=messenger\u003C/code\u003E\u003Cspan\u003E to \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E behind \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Edatabase\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ECreate a \u003C/span\u003E\u003Ccode\u003ELayer 4\u003C/code\u003E\u003Cspan\u003E policy named \u003C/span\u003E\u003Ccode\u003Ep2\u003C/code\u003E\u003Cspan\u003E to:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EDeny outgoing \u003C/span\u003E\u003Ccode\u003EICMP\u003C/code\u003E\u003Cspan\u003E traffic from \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Etransmitter\u003C/code\u003E\u003Cspan\u003E to \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E behind \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Edatabase\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ECreate a \u003C/span\u003E\u003Ccode\u003ELayer 3\u003C/code\u003E\u003Cspan\u003E policy named \u003C/span\u003E\u003Ccode\u003Ep3\u003C/code\u003E\u003Cspan\u003E to:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EEnable Mutual Authentication for outgoing traffic from \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E with label \u003C/span\u003E\u003Ccode\u003Etype=database\u003C/code\u003E\u003Cspan\u003E to \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E with label \u003C/span\u003E\u003Ccode\u003Etype=messenger\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E All \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E run plain Nginx images with open port 80. This allows simple connectivity tests like: \u003C/span\u003E\u003Ccode\u003Ek -n team-orange exec POD_NAME -- curl database\u003C/code\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-8\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003EA great way to inspect and learn writing \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENetworkPolices\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ECiliumNetworkPolicies\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E is the \u003C/span\u003E\u003Ca href=\u0027https://editor.networkpolicy.io\u0027\u003E\u003Cspan\u003ENetwork Policy Editor\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E, but it\u0026#39;s not an allowed resource during the exam.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027overview\u0027\u003E\u003Cspan\u003EOverview\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EFirst we have a look at existing resources in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eteam-orange\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks7262 \u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange get pod --show-labels -owide\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ... \u0026nbsp; \u0026nbsp; IP \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ... \u0026nbsp; LABELS\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edatabase-0 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ... \u0026nbsp; 10.244.2.13 \u0026nbsp;  ... \u0026nbsp; ...,type=database\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Emessenger-57f557cd65-rhzd7 \u0026nbsp; ... \u0026nbsp; 10.244.1.126 \u0026nbsp; ... \u0026nbsp; ...,type=messenger\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Emessenger-57f557cd65-xcqwz \u0026nbsp; ... \u0026nbsp; 10.244.2.70 \u0026nbsp;  ... \u0026nbsp; ...,type=messenger\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etransmitter-866696fc57-6ccgr ... \u0026nbsp; 10.244.1.152 \u0026nbsp; ... \u0026nbsp; ...,type=transmitter\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etransmitter-866696fc57-d8qk4 ... \u0026nbsp; 10.244.2.214 \u0026nbsp; ... \u0026nbsp; ...,type=transmitter\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange get svc,ep\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; TYPE \u0026nbsp; \u0026nbsp; \u0026nbsp;  CLUSTER-IP \u0026nbsp; \u0026nbsp;  EXTERNAL-IP \u0026nbsp; PORT(S) \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eservice/database \u0026nbsp; ClusterIP \u0026nbsp; 10.108.172.58 \u0026nbsp; \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp;  80/TCP \u0026nbsp;  8m29s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ENDPOINTS \u0026nbsp; \u0026nbsp; \u0026nbsp;  AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eendpoints/database \u0026nbsp; 10.244.2.13:80 \u0026nbsp; 8m29s\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 368px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 368px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThese are the existing \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E we should work with. We can see that the \u003C/span\u003E\u003Ccode\u003Edatabase\u003C/code\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E  points to the \u003C/span\u003E\u003Ccode\u003Edatabase-0\u003C/code\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E. And this is the existing \u003C/span\u003E\u003Ccode\u003Edefault-allow\u003C/code\u003E\u003Cspan\u003E policy:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022cilium.io/v2\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ECiliumNetworkPolicy\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Edefault-allow\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eteam-orange\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  endpointSelector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  matchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {}\u003C/span\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003Cspan class=\u0022cm-comment\u0022\u003E# Apply this policy to all Pods in Namespace team-orange \u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  egress\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EtoEndpoints\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - {}\u003C/span\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E# ALLOW egress to all Pods in Namespace team-orange\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EtoEndpoints\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EmatchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  io.kubernetes.pod.namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-system\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  k8s-app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-dns\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  toPorts\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eports\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eport\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u002253\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  protocol\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EUDP\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  rules\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  dns\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EmatchPattern\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022*\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  ingress\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EfromEndpoints\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# ALLOW ingress from all Pods in Namespaace team-orange\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - {}\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 500px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 500px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cem\u003E\u003Cspan\u003ECiliumNetworkPolicies\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E behave like vanilla \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENetworkPolicies\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E: once one egress rule exists, all other egress is forbidden. This is also the case for egressDeny rules: once one egressDeny rule exists, all other egress is also forbidden, unless allowed by an egress rule. This is why a Default-Allow policy like this one is necessary in this scenario. The behaviour explained above for egress is also the case for ingress. \u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027policy-1\u0027\u003E\u003Cspan\u003EPolicy 1\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EWithout any changes we check the connection from a \u003C/span\u003E\u003Ccode\u003Etype=messenger\u003C/code\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E to the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Edatabase\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange exec messenger-57f557cd65-rhzd7 -- curl -m 2 database\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u0026lt;!DOCTYPE html\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u0026lt;html\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u0026lt;head\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u0026lt;title\u0026gt;Welcome to nginx!\u0026lt;/title\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u0026lt;style\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ehtml { color-scheme: light dark; }\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ebody { width: 35em; margin: 0 auto;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Efont-family: Tahoma, Verdana, Arial, sans-serif; }\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u0026lt;/style\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u0026lt;/head\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u0026lt;body\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u0026lt;h1\u0026gt;Welcome to nginx!\u0026lt;/h1\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 345px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 345px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis works because of the K8s DNS resolution of the \u003C/span\u003E\u003Ccode\u003Edatabase\u003C/code\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E, we should see the same result when  using the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E IP:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange exec messenger-57f557cd65-rhzd7 -- curl -m 2 --head 10.108.172.58\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EHTTP/1.1 200 OK\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis works, we just used the \u003C/span\u003E\u003Ccode\u003E--head\u003C/code\u003E\u003Cspan\u003E for curl to only show the HTTP response code which should be sufficient. And same should work if we contact the \u003C/span\u003E\u003Ccode\u003Edatabase-0\u003C/code\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E IP directly:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange exec messenger-57f557cd65-rhzd7 -- curl -m 2 --head 10.244.2.13\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EHTTP/1.1 200 OK\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EConnectivity works without restriction. Now we create a deny policy as requested:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ vim 8_p1.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks7262:~/8_p1.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022cilium.io/v2\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ECiliumNetworkPolicy\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ep1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eteam-orange\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  endpointSelector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  matchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  type\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Emessenger\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  egressDeny\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EtoEndpoints\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EmatchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  type\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Edatabase \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E# we use the label of the Pods behind the Service \u0022database\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 280px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 280px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -f 8_p1.yaml apply\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eciliumnetworkpolicy.cilium.io/p1 created\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange get cnp\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edefault-allow \u0026nbsp; 9m16s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ep1 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  3s\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 161px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 161px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ELet\u0026#39;s test connection to the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E by name and IP:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange exec messenger-57f557cd65-rhzd7 -- curl -m 2 --head database\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecurl: (28) Resolving timed out after 2002 milliseconds\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecommand terminated with exit code 28\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange exec messenger-57f557cd65-rhzd7 -- curl -m 2 --head 10.108.172.58\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecurl: (28) Connection timed out after 2002 milliseconds\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecommand terminated with exit code 28\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 207px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 207px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EConnection timing out. And we test connection to the \u003C/span\u003E\u003Ccode\u003Edatabase-0\u003C/code\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E IP directly:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange exec messenger-57f557cd65-rhzd7 -- curl -m 2 --head 10.244.2.13\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecurl: (28) Connection timed out after 2002 milliseconds\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecommand terminated with exit code 28\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAlso timing out. But do other connections still work? We try to contact a \u003C/span\u003E\u003Ccode\u003Etype=transmitter\u003C/code\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange exec messenger-57f557cd65-rhzd7 -- curl -m 2 --head 10.244.1.152\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EHTTP/1.1 200 OK\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ELooks great.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027policy-2\u0027\u003E\u003Cspan\u003EPolicy 2\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ENow we should prevent ICMP (Pings) from \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Etransmitter\u003C/code\u003E\u003Cspan\u003E to \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E behind \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Edatabase\u003C/code\u003E\u003Cspan\u003E. Before we do this we check that ICMP currently works:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange get pod --show-labels -owide\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ... \u0026nbsp; \u0026nbsp; IP \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ... \u0026nbsp; LABELS\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edatabase-0 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ... \u0026nbsp; 10.244.2.13 \u0026nbsp;  ... \u0026nbsp; ...,type=database\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Emessenger-57f557cd65-rhzd7 \u0026nbsp; ... \u0026nbsp; 10.244.1.126 \u0026nbsp; ... \u0026nbsp; ...,type=messenger\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Emessenger-57f557cd65-xcqwz \u0026nbsp; ... \u0026nbsp; 10.244.2.70 \u0026nbsp;  ... \u0026nbsp; ...,type=messenger\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etransmitter-866696fc57-6ccgr ... \u0026nbsp; 10.244.1.152 \u0026nbsp; ... \u0026nbsp; ...,type=transmitter\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etransmitter-866696fc57-d8qk4 ... \u0026nbsp; 10.244.2.214 \u0026nbsp; ... \u0026nbsp; ...,type=transmitter\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange get svc\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; TYPE \u0026nbsp; \u0026nbsp; \u0026nbsp;  CLUSTER-IP \u0026nbsp; \u0026nbsp;  EXTERNAL-IP \u0026nbsp; PORT(S) \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eservice/database \u0026nbsp; ClusterIP \u0026nbsp; 10.108.172.58 \u0026nbsp; \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp;  80/TCP \u0026nbsp;  8m29s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange exec manager-bd89c64cc-76lxk -- ping 10.244.2.13\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPING 10.244.2.13 (10.244.2.13): 56 data bytes\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E64 bytes from 10.244.2.13: seq=0 ttl=63 time=2.555 ms\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E64 bytes from 10.244.2.13: seq=1 ttl=63 time=0.102 ms\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 391px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 391px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWorks. Now to restrict it:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ vim 8_p2.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks7262:~/8_p2.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022cilium.io/v2\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ECiliumNetworkPolicy\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ep2\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eteam-orange\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  endpointSelector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  matchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  type\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Etransmitter \u003Cspan class=\u0022cm-comment\u0022\u003E# we use the label of the Pods behind Deployment \u0022transmitter\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  egressDeny\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EtoEndpoints\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EmatchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  type\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Edatabase \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E# we use the label of the Pods behind the Service \u0022database\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  icmps\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Efields\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Etype\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E8\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  family\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EIPv4\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Etype\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EEchoRequest\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  family\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EIPv6\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 400px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 400px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -f 8_p2.yaml apply\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eciliumnetworkpolicy.cilium.io/p2 created\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange get cnp\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edefault-allow \u0026nbsp; 31m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ep1 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  22m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ep2 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  7s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange exec transmitter-866696fc57-6ccgr -- ping -w 2 10.244.2.13\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPING 10.244.2.13 (10.244.2.13): 56 data bytes\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E--- 10.244.2.13 ping statistics ---\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2 packets transmitted, 0 packets received, 100% packet loss\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecommand terminated with exit code 1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 368px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 368px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAbove we see that the ping command failed because we used the \u003C/span\u003E\u003Ccode\u003E-w 2\u003C/code\u003E\u003Cspan\u003E to set a timeout. Policy works! But do other connections still work as they should?\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EWe try to connect to the \u003C/span\u003E\u003Ccode\u003Edatabase\u003C/code\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003Edatabase-0\u003C/code\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E which should still work because it\u0026#39;s not ICMP:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange exec transmitter-866696fc57-6ccgr -- curl -m 2 --head database\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EHTTP/1.1 200 OK\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange exec transmitter-866696fc57-6ccgr -- curl -m 2 --head 10.244.2.13\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EHTTP/1.1 200 OK\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 207px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 207px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EJust as expected. And we try to connect to and ping a \u003C/span\u003E\u003Ccode\u003Etype=messenger\u003C/code\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange exec transmitter-866696fc57-6ccgr -- ping 10.244.1.126 \u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPING 10.244.1.126 (10.244.1.126): 56 data bytes\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E64 bytes from 10.244.1.126: seq=0 ttl=63 time=1.577 ms\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E64 bytes from 10.244.1.126: seq=1 ttl=63 time=0.111 ms\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange exec transmitter-866696fc57-6ccgr -- curl -m 2 --head 10.244.1.126 \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EHTTP/1.1 200 OK\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 230px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 230px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAwesome!\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027policy-3\u0027\u003E\u003Cspan\u003EPolicy 3\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ENow to the final policy:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ vim 8_p3.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks7262:~/8_p3.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022cilium.io/v2\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ECiliumNetworkPolicy\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ep3\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eteam-orange\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  endpointSelector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  matchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  type\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Edatabase\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  egress\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EtoEndpoints\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EmatchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  type\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Emessenger\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  authentication\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  mode\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022required\u0022\u003C/span\u003E \u0026nbsp; \u0026nbsp; \u003Cspan class=\u0022cm-comment\u0022\u003E# Enable Mutual Authentication\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 320px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 320px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -f 8_p3.yaml apply\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eciliumnetworkpolicy.cilium.io/p3 created\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-orange get cnp\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edefault-allow \u0026nbsp; 126m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ep1 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  11m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ep2 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  11m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ep3 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  8s\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 207px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 207px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ECilium ftw!\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-9-|-apparmor-profile\u0027\u003E\u003Cspan\u003EQuestion 9 | AppArmor Profile\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks7262\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESome containers need to run more secure and restricted. There is an existing AppArmor profile located at \u003C/span\u003E\u003Ccode\u003E/opt/course/9/profile\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003Cspan\u003E for this.\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EInstall the AppArmor profile on \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENode\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Ecks7262-node1\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EConnect using \u003C/span\u003E\u003Ccode\u003Essh cks7262-node1\u003C/code\u003E\u003Cspan\u003E from \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EAdd label \u003C/span\u003E\u003Ccode\u003Esecurity=apparmor\u003C/code\u003E\u003Cspan\u003E to the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENode\u003C/span\u003E\u003C/em\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ECreate a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E named \u003C/span\u003E\u003Ccode\u003Eapparmor\u003C/code\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Edefault\u003C/code\u003E\u003Cspan\u003E with:\u003C/span\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EOne replica of image \u003C/span\u003E\u003Ccode\u003Enginx:1.27.1\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ENodeSelector for \u003C/span\u003E\u003Ccode\u003Esecurity=apparmor\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ESingle container named \u003C/span\u003E\u003Ccode\u003Ec1\u003C/code\u003E\u003Cspan\u003E with the AppArmor profile enabled only for this container\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003Cspan\u003EThe \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E might not run properly with the profile enabled. Write the logs of the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E into \u003C/span\u003E\u003Ccode\u003E/opt/course/9/logs\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003Cspan\u003E so another team can work on getting the application running.\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Use \u003C/span\u003E\u003Ccode\u003Esudo -i\u003C/code\u003E\u003Cspan\u003E to become root which may be required for this question\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-9\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Ca href=\u0027https://kubernetes.io/docs/tutorials/clusters/apparmor\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://kubernetes.io/docs/tutorials/clusters/apparmor\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-1-3\u0027\u003E\u003Cspan\u003EStep 1\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EFirst we have a look at the provided profile:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks7262 \u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# vim /opt/course/9/profile\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022apparmor\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022apparmor\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E# cks7262:/opt/course/9/profile \u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E#include \u0026lt;tunables/global\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eprofile very-secure flags=(attach_disconnected) {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  #include \u0026lt;abstractions/base\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  file,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  # Deny all file writes.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  deny /** w,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 276px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 276px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EVery simple profile named \u003C/span\u003E\u003Ccode\u003Every-secure\u003C/code\u003E\u003Cspan\u003E which denies all file writes. Next we copy it onto the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENode\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# scp /opt/course/9/profile cks7262-node1:~/\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eprofile \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; 100%  161 \u0026nbsp; 329.9KB/s \u0026nbsp; 00:00\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# ssh cks7262-node1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ cadidate@cks7262-node1:~# ls\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eprofile\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 161px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 161px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAnd install it:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ cadidate@cks7262-node1:~# sudo apparmor_parser -q ./profile\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EVerify it has been installed:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ cadidate@cks7262-node1:~# sudo apparmor_status\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eapparmor module is loaded.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E7 profiles are loaded.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2 profiles are in enforce mode.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; cri-containerd.apparmor.d\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; very-secure\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0 profiles are in complain mode.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0 profiles are in prompt mode.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0 profiles are in kill mode.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E5 profiles are in unconfined mode.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; firefox\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; opera\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; steam\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; stress-ng\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; thunderbird\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E36 processes have profiles defined.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E36 processes are in enforce mode.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; /usr/local/apache2/bin/httpd (13154) cri-containerd.apparmor.d\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0 processes are in complain mode.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0 processes are in prompt mode.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0 processes are in kill mode.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0 processes are unconfined but have a profile defined.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0 processes are in mixed mode.\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 552px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 552px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThere we see among many others the \u003C/span\u003E\u003Ccode\u003Every-secure\u003C/code\u003E\u003Cspan\u003E one, which is the name of the profile specified in \u003C/span\u003E\u003Ccode\u003E/opt/course/9/profile\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-2-3\u0027\u003E\u003Cspan\u003EStep 2\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EWe label the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENode\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek label \u003Cspan class=\u0022cm-attribute\u0022\u003E-h\u003C/span\u003E \u003Cspan class=\u0022cm-comment\u0022\u003E# show examples\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek label \u003Cspan class=\u0022cm-builtin\u0022\u003Enode\u003C/span\u003E cks7262-node1 \u003Cspan class=\u0022cm-def\u0022\u003Esecurity\u003C/span\u003E\u003Cspan class=\u0022cm-operator\u0022\u003E=\u003C/span\u003Eapparmor\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-3-2\u0027\u003E\u003Cspan\u003EStep 3\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ENow we can go ahead and create the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E which uses the profile.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek create deploy apparmor \u003Cspan class=\u0022cm-attribute\u0022\u003E--image\u003C/span\u003E\u003Cspan class=\u0022cm-operator\u0022\u003E=\u003C/span\u003Enginx:1.27.1 \u003Cspan class=\u0022cm-attribute\u0022\u003E--dry-run\u003C/span\u003E\u003Cspan class=\u0022cm-operator\u0022\u003E=\u003C/span\u003Eclient \u003Cspan class=\u0022cm-attribute\u0022\u003E-o\u003C/span\u003E yaml \u0026gt; 9_deploy.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Evim\u003C/span\u003E 9_deploy.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# 9_deploy.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eapps/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EDeployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  creationTimestamp\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enull\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eapparmor\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eapparmor\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Edefault\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  replicas\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E1\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  selector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  matchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eapparmor\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  strategy\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {}\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  template\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  metadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  creationTimestamp\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enull\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eapparmor\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  spec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  nodeSelector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  security\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eapparmor \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  containers\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eimage\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enginx\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E1.27.1\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ec1 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003Cspan class=\u0022cm-comment\u0022\u003E# change\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  securityContext\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  appArmorProfile\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  type\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ELocalhost \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  localhostProfile\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Every-secure \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 600px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 600px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek \u003Cspan class=\u0022cm-attribute\u0022\u003E-f\u003C/span\u003E 9_deploy.yaml create\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWhat\u0026#39;s the damage?\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k get pod -owide | grep apparmor\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eapparmor-56b8498684-nshbp \u0026nbsp; \u0026nbsp; 0/1 \u0026nbsp; \u0026nbsp; CrashLoopBackOff  ... \u0026nbsp; cks7262-node1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k logs apparmor-56b8498684-nshbp\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E/docker-entrypoint.sh: 13: /docker-entrypoint.sh: cannot create /dev/null: Permission denied\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E/docker-entrypoint.sh: No files found in /docker-entrypoint.d/, skipping configuration\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024/09/07 16:19:08 [emerg] 1#1: mkdir() \u0022/var/cache/nginx/client_temp\u0022 failed (13: Permission denied)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Enginx: [emerg] mkdir() \u0022/var/cache/nginx/client_temp\u0022 failed (13: Permission denied)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 230px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 230px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis looks alright, the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E is running on \u003C/span\u003E\u003Ccode\u003Ecks7262-node1\u003C/code\u003E\u003Cspan\u003E because of the nodeSelector. The AppArmor profile simply denies all filesystem writes, but Nginx needs to write into some locations to run, hence the errors.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EIt looks like our profile is running but we can confirm this as well by inspecting the container directly on the worker node:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# ssh cks7262-node1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262-node1:~# sudo -i\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# crictl pods | grep apparmor\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E42e0152b4f1d6 \u0026nbsp; \u0026nbsp; \u0026nbsp; 44 seconds ago \u0026nbsp; \u0026nbsp;  Ready \u0026nbsp;  apparmor-56b8498684-nshbp  ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# crictl ps -a | grep 42e0152b4f1d6\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECONTAINER \u0026nbsp; \u0026nbsp;  ... \u0026nbsp; STATE \u0026nbsp; \u0026nbsp; NAME  ...  POD ID \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  POD\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ec9f0c4a8f4d4a  ... \u0026nbsp; Exited \u0026nbsp;  c1 \u0026nbsp;  ...  42e0152b4f1d6 \u0026nbsp; apparmor-56b8498684-nshbp\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# crictl inspect c9f0c4a8f4d4a | grep -i profile\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022profile_type\u0022: 1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022profile_type\u0022: 2,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022apparmor_profile\u0022: \u0022localhost/very-secure\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022apparmorProfile\u0022: \u0022very-secure\u0022,\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 368px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 368px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EFirst we find the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E by it\u0026#39;s name and get the pod-id. Next we use \u003C/span\u003E\u003Ccode\u003Ecrictl ps -a\u003C/code\u003E\u003Cspan\u003E to also show stopped containers. Then \u003C/span\u003E\u003Ccode\u003Ecrictl inspect\u003C/code\u003E\u003Cspan\u003E shows that the container is using our AppArmor profile. Notice \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003Eto be fast\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E between \u003C/span\u003E\u003Ccode\u003Eps\u003C/code\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003Einspect\u003C/code\u003E\u003Cspan\u003E because K8s will restart the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E periodically when in error state.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ETo complete the task we write the logs into the required location:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k logs apparmor-56b8498684-nshbp \u0026gt; /opt/course/9/logs\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EFixing the errors is the job of another team, lucky us.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-10-|-container-runtime-sandbox-gvisor\u0027\u003E\u003Cspan\u003EQuestion 10 | Container Runtime Sandbox gVisor\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks7262\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ETeam purple wants to run some of their workloads more secure. Worker node \u003C/span\u003E\u003Ccode\u003Ecks7262-node2\u003C/code\u003E\u003Cspan\u003E has containerd already configured to support the runsc/gvisor runtime.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EConnect to the worker node using \u003C/span\u003E\u003Ccode\u003Essh cks7262-node2\u003C/code\u003E\u003Cspan\u003E from \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ECreate a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ERuntimeClass\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E named \u003C/span\u003E\u003Ccode\u003Egvisor\u003C/code\u003E\u003Cspan\u003E with handler \u003C/span\u003E\u003Ccode\u003Erunsc\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ECreate a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E that uses the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ERuntimeClass\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E. The \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E should be in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eteam-purple\u003C/code\u003E\u003Cspan\u003E, named \u003C/span\u003E\u003Ccode\u003Egvisor-test\u003C/code\u003E\u003Cspan\u003E and of image \u003C/span\u003E\u003Ccode\u003Enginx:1.27.1\u003C/code\u003E\u003Cspan\u003E. Ensure the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E runs on \u003C/span\u003E\u003Ccode\u003Ecks7262-node2\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EWrite the output of the \u003C/span\u003E\u003Ccode\u003Edmesg\u003C/code\u003E\u003Cspan\u003E command of the successfully started \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E into \u003C/span\u003E\u003Ccode\u003E/opt/course/10/gvisor-test-dmesg\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-10\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003EWe check the nodes and we can see that all are using containerd:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks7262\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k get node\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; STATUS \u0026nbsp; ROLES \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  ... CONTAINER-RUNTIME\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks7262 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  Ready \u0026nbsp;  control-plane \u0026nbsp; \u0026nbsp;  ... containerd://1.7.12\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks7262-node1 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  Ready \u0026nbsp;  \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ... containerd://1.7.12\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks7262-node2 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  Ready \u0026nbsp;  \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ... containerd://1.7.12\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 161px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 161px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EBut, according to the question text, just one has containerd configured to work with runsc/gvisor runtime which is \u003C/span\u003E\u003Ccode\u003Ecks7262-node2\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003E(Optionally) we can ssh into the worker node and check if containerd+runsc is configured:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ ssh cks7262-node2\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ cadidate@cks7262-node2:~# runsc --version\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Erunsc version release-20240820.0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Espec: 1.1.0-rc.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ cadidate@cks7262-node2:~# cat /etc/containerd/config.toml | grep runsc\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  [plugins.\u0022io.containerd.grpc.v1.cri\u0022.containerd.runtimes.runsc]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  runtime_type = \u0022io.containerd.runsc.v1\u0022\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 207px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 207px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-1-4\u0027\u003E\u003Cspan\u003EStep 1\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ENow we best head to the k8s docs for \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ERuntimeClasses\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ca href=\u0027https://kubernetes.io/docs/concepts/containers/runtime-class\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://kubernetes.io/docs/concepts/containers/runtime-class\u003C/a\u003E\u003Cspan\u003E, steal an example and create the gvisor one:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Evim\u003C/span\u003E 10_rtc.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# 10_rtc.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enode.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ERuntimeClass\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egvisor\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ehandler\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Erunsc\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 120px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 120px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek \u003Cspan class=\u0022cm-attribute\u0022\u003E-f\u003C/span\u003E 10_rtc.yaml create\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-2-4\u0027\u003E\u003Cspan\u003EStep 2\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EAnd the required \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek \u003Cspan class=\u0022cm-attribute\u0022\u003E-n\u003C/span\u003E team-purple run gvisor-test \u003Cspan class=\u0022cm-attribute\u0022\u003E--image\u003C/span\u003E\u003Cspan class=\u0022cm-operator\u0022\u003E=\u003C/span\u003Enginx:1.27.1 \u003Cspan class=\u0022cm-attribute\u0022\u003E--dry-run\u003C/span\u003E\u003Cspan class=\u0022cm-operator\u0022\u003E=\u003C/span\u003Eclient \u003Cspan class=\u0022cm-attribute\u0022\u003E-o\u003C/span\u003E yaml \u0026gt; 10_pod.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Evim\u003C/span\u003E 10_pod.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# 10_pod.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ev1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EPod\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  creationTimestamp\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enull\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  run\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egvisor-test\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egvisor-test\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eteam-purple\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  nodeName\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ecks7262-node2 \u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  runtimeClassName\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egvisor \u0026nbsp; \u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  containers\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eimage\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enginx\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E1.27.1\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egvisor-test\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  resources\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {}\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  dnsPolicy\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EClusterFirst\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  restartPolicy\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EAlways\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Estatus\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {}\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 380px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 380px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek \u003Cspan class=\u0022cm-attribute\u0022\u003E-f\u003C/span\u003E 10_pod.yaml create\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAfter creating the pod we should check if it\u0026#39;s running and if it uses the gvisor sandbox:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-purple get pod gvisor-test\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  READY \u0026nbsp; STATUS \u0026nbsp;  RESTARTS \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Egvisor-test \u0026nbsp; 1/1 \u0026nbsp; \u0026nbsp; Running \u0026nbsp; 0 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  30s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-purple exec gvisor-test -- dmesg\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  0.000000] Starting gVisor...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  0.336731] Waiting for children...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  0.807396] Rewriting operating system in Javascript...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  0.838661] Committing treasure map to memory...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  1.082234] Adversarially training Redcode AI...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  1.452222] Synthesizing system calls...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  1.751229] Daemonizing children...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  2.198949] Verifying that no non-zero bytes made their way into /dev/zero...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  2.381878] Singleplexing /dev/ptmx...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  2.398376] Checking naughty and nice process list...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  2.544323] Creating cloned children...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  3.010573] Setting up VFS...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  3.467349] Setting up FUSE...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[ \u0026nbsp;  3.738725] Ready!\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 437px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 437px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ELooking deluxe.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-3-3\u0027\u003E\u003Cspan\u003EStep 3\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EAnd as required we finally write the \u003C/span\u003E\u003Ccode\u003Edmesg\u003C/code\u003E\u003Cspan\u003E output into the file on \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~$ k -n team-purple exec gvisor-test \u0026gt; /opt/course/10/gvisor-test-dmesg -- dmesg\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-11-|-secrets-in-etcd\u0027\u003E\u003Cspan\u003EQuestion 11 | Secrets in ETCD\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks7262\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThere is an existing \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E called \u003C/span\u003E\u003Ccode\u003Edatabase-access\u003C/code\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eteam-green\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ERead the complete \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E content directly from ETCD (using \u003C/span\u003E\u003Ccode\u003Eetcdctl\u003C/code\u003E\u003Cspan\u003E) and store it into \u003C/span\u003E\u003Ccode\u003E/opt/course/11/etcd-secret-content\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EWrite the plain and decoded \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u0026#39;s\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E value of key \u0026quot;pass\u0026quot; into \u003C/span\u003E\u003Ccode\u003E/opt/course/11/database-password\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Use \u003C/span\u003E\u003Ccode\u003Esudo -i\u003C/code\u003E\u003Cspan\u003E to become root which may be required for this question\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-11\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003ELet\u0026#39;s try to get the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E value directly from ETCD, which will work since it isn\u0026#39;t encrypted.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EFirst, we ssh into the controlplane node where ETCD is running in this setup and check if \u003C/span\u003E\u003Ccode\u003Eetcdctl\u003C/code\u003E\u003Cspan\u003E is installed and list it\u0026#39;s options:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks7262\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# sudo -i\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# etcdctl\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; etcdctl - A simple command line client for etcd.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EWARNING:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; Environment variable ETCDCTL_API is not set; defaults to etcdctl v2.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; Set environment variable ETCDCTL_API=3 to use v3 API or ETCDCTL_API=2 to use v2 API.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EUSAGE:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; etcdctl [global options] command [command options] [arguments...]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; --cert-file value \u0026nbsp; identify HTTPS client using this SSL certificate file\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; --key-file value \u0026nbsp;  identify HTTPS client using this SSL key file\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; --ca-file value \u0026nbsp; \u0026nbsp; verify certificates of HTTPS-enabled servers using this CA bundle\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 437px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 437px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAmong others we see arguments to identify ourselves. The apiserver connects to ETCD, so we can run the following command to get the path of the necessary .crt and .key files:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Ecat\u003C/span\u003E /etc/kubernetes/manifests/kube-apiserver.yaml | \u003Cspan class=\u0022cm-builtin\u0022\u003Egrep\u003C/span\u003E etcd\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThe output is as follows :\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--etcd-cafile=/etc/kubernetes/pki/etcd/ca.crt\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--etcd-certfile=/etc/kubernetes/pki/apiserver-etcd-client.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--etcd-keyfile=/etc/kubernetes/pki/apiserver-etcd-client.key\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--etcd-servers=https://127.0.0.1:2379 \u003Cspan class=\u0022cm-comment\u0022\u003E# optional since we\u0027re on same node\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 80px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 80px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWith this information we query ETCD for the secret value:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003EETCDCTL_API\u003C/span\u003E\u003Cspan class=\u0022cm-operator\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E3\u003C/span\u003E etcdctl \\\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-attribute\u0022\u003E--cert\u003C/span\u003E /etc/kubernetes/pki/apiserver-etcd-client.crt \\\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-attribute\u0022\u003E--key\u003C/span\u003E /etc/kubernetes/pki/apiserver-etcd-client.key \\\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-attribute\u0022\u003E--cacert\u003C/span\u003E /etc/kubernetes/pki/etcd/ca.crt \u003Cspan class=\u0022cm-builtin\u0022\u003Eget\u003C/span\u003E /registry/secrets/team-green/database-access\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EETCD in Kubernetes stores data under \u003C/span\u003E\u003Ccode\u003E/registry/{type}/{namespace}/{name}\u003C/code\u003E\u003Cspan\u003E. This is how we came to look for \u003C/span\u003E\u003Ccode\u003E/registry/secrets/team-green/database-access\u003C/code\u003E\u003Cspan\u003E. There is also an example on a page \u003C/span\u003E\u003Ca href=\u0027https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data\u0027\u003E\u003Cspan\u003Ein the k8s documentation\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E which you could access during the exam.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThe task requires to store the output on our terminal. For this we can simply copy\u0026amp;paste the content into the requested location \u003C/span\u003E\u003Ccode\u003E/opt/course/11/etcd-secret-content\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E# cks7262:/opt/course/11/etcd-secret-content\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E/registry/secrets/team-green/database-access\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek8s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ev1Secret\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edatabase-access\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eteam-green\u0022*$a01ef408-0a40-4fee-bd26-7adf346b3d222bB\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0kubectl.kubernetes.io/last-applied-configuration{\u0022apiVersion\u0022:\u0022v1\u0022,\u0022data\u0022:{\u0022pass\u0022:\u0022Y29uZmlkZW50aWFs\u0022},\u0022kind\u0022:\u0022Secret\u0022,\u0022metadata\u0022:{\u0022annotations\u0022:{},\u0022name\u0022:\u0022database-access\u0022,\u0022namespace\u0022:\u0022team-green\u0022}}\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubectl-client-side-applyUpdatevFieldsV1:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E{\u0022f:data\u0022:{\u0022.\u0022:{},\u0022f:pass\u0022:{}},\u0022f:metadata\u0022:{\u0022f:annotations\u0022:{\u0022.\u0022:{},\u0022f:kubectl.kubernetes.io/last-applied-configuration\u0022:{}}},\u0022f:type\u0022:{}}B\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epass\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  confidentialOpaque\u0022\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 437px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 437px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe\u0026#39;re also required to store the plain and \u0026quot;decrypted\u0026quot; database password. For this we can copy the base64-encoded value from the ETCD output and run on our terminal:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# echo Y29uZmlkZW50aWFs | base64 -d \u0026gt; /opt/course/11/database-password\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# cat /opt/course/11/database-password\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Econfidential\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-12-|-hack-secrets\u0027\u003E\u003Cspan\u003EQuestion 12 | Hack Secrets\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks3477\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EYou\u0026#39;re asked to investigate a possible permission escape using the pre-defined context. The context authenticates as user \u003C/span\u003E\u003Ccode\u003Erestricted\u003C/code\u003E\u003Cspan\u003E which has only limited permissions and shouldn\u0026#39;t be able to read \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E values.\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ESwitch to the restricted context with:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek config use-context restricted@infra-prod\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ETry to find the password-key values of the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Esecret1\u003C/code\u003E\u003Cspan\u003E, \u003C/span\u003E\u003Ccode\u003Esecret2\u003C/code\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003Esecret3\u003C/code\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Erestricted\u003C/code\u003E\u003Cspan\u003E using context \u003C/span\u003E\u003Ccode\u003Erestricted@infra-prod\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EWrite the decoded plaintext values into files \u003C/span\u003E\u003Ccode\u003E/opt/course/12/secret1\u003C/code\u003E\u003Cspan\u003E, \u003C/span\u003E\u003Ccode\u003E/opt/course/12/secret2\u003C/code\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003E/opt/course/12/secret3\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks3477\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ESwitch back to the default context with:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek config use-context kubernetes-admin@kubernetes\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-12\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003EFirst we should explore the boundaries, we can try:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks3477\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k config use-context restricted@infra-prod\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESwitched to context \u0022restricted@infra-prod\u0022.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n restricted get role,rolebinding,clusterrole,clusterrolebinding\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EError from server (Forbidden): roles.rbac.authorization.k8s.io is forbidden: User \u0022restricted\u0022 cannot list resource \u0022roles\u0022 in API group \u0022rbac.authorization.k8s.io\u0022 in the namespace \u0022restricted\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EError from server (Forbidden): rolebindings.rbac.authorization.k8s.io is forbidden: User \u0022restricted\u0022 cannot list resource \u0022rolebindings\u0022 in API group \u0022rbac.authorization.k8s.io\u0022 in the namespace \u0022restricted\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EError from server (Forbidden): clusterroles.rbac.authorization.k8s.io is forbidden: User \u0022restricted\u0022 cannot list resource \u0022clusterroles\u0022 in API group \u0022rbac.authorization.k8s.io\u0022 at the cluster scope\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EError from server (Forbidden): clusterrolebindings.rbac.authorization.k8s.io is forbidden: User \u0022restricted\u0022 cannot list resource \u0022clusterrolebindings\u0022 in API group \u0022rbac.authorization.k8s.io\u0022 at the cluster scope\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 414px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 414px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENo permissions to view RBAC resources. So we try the obvious:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n restricted get secret\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EError from server (Forbidden): secrets is forbidden: User \u0022restricted\u0022 cannot list resource \u0022secrets\u0022 in API group \u0022\u0022 in the namespace \u0022restricted\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n restricted get secret -o yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EapiVersion: v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eitems: []\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekind: List\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Emetadata:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  resourceVersion: \u0022\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EError from server (Forbidden): secrets is forbidden: User \u0022restricted\u0022 cannot list resource \u0022secrets\u0022 in API group \u0022\u0022 in the namespace \u0022restricted\u0022\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 276px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 276px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe\u0026#39;re not allowed to get or list any \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027secret-1\u0027\u003E\u003Cspan\u003ESecret 1\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EWhat can we see though?\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n restricted get all\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  READY \u0026nbsp; STATUS \u0026nbsp;  RESTARTS \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epod1-fd5d64b9c-pcx6q \u0026nbsp;  1/1 \u0026nbsp; \u0026nbsp; Running \u0026nbsp; 0 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  37s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epod2-6494f7699b-4hks5 \u0026nbsp; 1/1 \u0026nbsp; \u0026nbsp; Running \u0026nbsp; 0 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  37s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epod3-748b48594-24s76 \u0026nbsp;  1/1 \u0026nbsp; \u0026nbsp; Running \u0026nbsp; 0 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  37s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EError from server (Forbidden): replicationcontrollers is forbidden: User \u0022restricted\u0022 cannot list resource \u0022replicationcontrollers\u0022 in API group \u0022\u0022 in the namespace \u0022restricted\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EError from server (Forbidden): services is forbidden: User \u0022restricted\u0022 cannot list resource \u0022services\u0022 in API group \u0022\u0022 in the namespace \u0022restricted\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 253px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 253px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThere are some \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E, lets check these out regarding \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E access:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek \u003Cspan class=\u0022cm-attribute\u0022\u003E-n\u003C/span\u003E restricted \u003Cspan class=\u0022cm-builtin\u0022\u003Eget\u003C/span\u003E pod \u003Cspan class=\u0022cm-attribute\u0022\u003E-o\u003C/span\u003E yaml | \u003Cspan class=\u0022cm-builtin\u0022\u003Egrep\u003C/span\u003E \u003Cspan class=\u0022cm-attribute\u0022\u003E-i\u003C/span\u003E secret\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis output provides us with enough information to do:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n restricted exec pod1-fd5d64b9c-pcx6q -- cat /etc/secret-volume/password\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eyou-are\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# echo you-are \u0026gt; /opt/course/12/secret1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027secret-2\u0027\u003E\u003Cspan\u003ESecret 2\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EAnd for the second \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n restricted exec pod2-6494f7699b-4hks5 -- env | grep PASS\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPASSWORD=an-amazing\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# echo an-amazing \u0026gt; /opt/course/12/secret2\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027secret-3\u0027\u003E\u003Cspan\u003ESecret 3\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ENone of the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E seem to mount \u003C/span\u003E\u003Ccode\u003Esecret3\u003C/code\u003E\u003Cspan\u003E though. Can we create or edit existing \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E to mount \u003C/span\u003E\u003Ccode\u003Esecret3\u003C/code\u003E\u003Cspan\u003E?\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n restricted run test --image=nginx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EError from server (Forbidden): pods is forbidden: User \u0022restricted\u0022 cannot create resource \u0022pods\u0022 in API group \u0022\u0022 in the namespace \u0022restricted\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n restricted auth can-i create pods\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eno\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 138px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 138px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EDoesn\u0026#39;t look like it.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EBut the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E seem to be able to access the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E, we can try to use a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u0026#39;s\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EServiceAccount\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E to access the third \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E. We can actually see (like using \u003C/span\u003E\u003Ccode\u003Ek -n restricted get pod -o yaml | grep automountServiceAccountToken\u003C/code\u003E\u003Cspan\u003E) that only \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Epod3-*\u003C/code\u003E\u003Cspan\u003E has the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EServiceAccount\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E token mounted:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n restricted exec -it pod3-748b48594-24s76 -- sh\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ / # mount | grep serviceaccount\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etmpfs on /run/secrets/kubernetes.io/serviceaccount type tmpfs (ro,relatime)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ / # ls /run/secrets/kubernetes.io/serviceaccount\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eca.crt \u0026nbsp; \u0026nbsp; namespace  token\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 161px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 161px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E You should have knowledge about \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EServiceAccounts\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and how they work with \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E like \u003C/span\u003E\u003Ca href=\u0027https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account\u0027\u003E\u003Cspan\u003Edescribed in the docs\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EWe can see all necessary information to contact the apiserver manually (\u003C/span\u003E\u003Ca href=\u0027https://kubernetes.io/docs/tasks/run-application/access-api-from-pod\u0027\u003E\u003Cspan\u003Edescribed in the docs\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E):\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ / # curl https://kubernetes.default/api/v1/namespaces/restricted/secrets -H \u0022Authorization: Bearer $(cat /run/secrets/kubernetes.io/serviceaccount/token)\u0022 -k\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022metadata\u0022: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022name\u0022: \u0022secret3\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022namespace\u0022: \u0022restricted\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  }\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  ]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022data\u0022: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022password\u0022: \u0022cEVuRXRSYVRpT24tdEVzVGVSCg==\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022type\u0022: \u0022Opaque\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  }\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 391px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 391px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ELet\u0026#39;s encode it and write it into the requested location:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# echo cEVuRXRSYVRpT24tdEVzVGVSCg== | base64 -d\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EpEnEtRaTiOn-tEsTeR\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# echo cEVuRXRSYVRpT24tdEVzVGVSCg== | base64 -d \u0026gt; /opt/course/12/secret3\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis will give us:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E# cks3477:/opt/course/12/secret1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eyou-are\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E# cks3477:/opt/course/12/secret2\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ean-amazing\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E# cks3477:/opt/course/12/secret3\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EpEnEtRaTiOn-tEsTeR\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe hacked all \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E! It can be tricky to get RBAC right and secure.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E One thing to consider is that giving the permission to \u0026quot;list\u0026quot; \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E, will also allow the user to read the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E values like using \u003C/span\u003E\u003Ccode\u003Ekubectl get secrets -o yaml\u003C/code\u003E\u003Cspan\u003E even without the \u0026quot;get\u0026quot; permission set.\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EFinally we switch back to the original context:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~$ k config use-context kubernetes-admin@kubernetes\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESwitched to context \u0022kubernetes-admin@kubernetes\u0022.\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-13-|-restrict-access-to-metadata-server\u0027\u003E\u003Cspan\u003EQuestion 13 | Restrict access to Metadata Server\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks3477\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThere is a metadata service available at \u003C/span\u003E\u003Ccode\u003Ehttp://192.168.100.21:32000\u003C/code\u003E\u003Cspan\u003E on which \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENodes\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E can reach sensitive data, like cloud credentials for initialisation. By default, all \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in the cluster also have access to this endpoint. The DevSecOps team has asked you to restrict access to this metadata server.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EIn \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Emetadata-access\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ECreate a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENetworkPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E named \u003C/span\u003E\u003Ccode\u003Emetadata-deny\u003C/code\u003E\u003Cspan\u003E which prevents egress to \u003C/span\u003E\u003Ccode\u003E192.168.100.21\u003C/code\u003E\u003Cspan\u003E for all \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E but still allows access to everything else\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ECreate a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENetworkPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E named \u003C/span\u003E\u003Ccode\u003Emetadata-allow\u003C/code\u003E\u003Cspan\u003E which allows \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E having label \u003C/span\u003E\u003Ccode\u003Erole: metadata-accessor\u003C/code\u003E\u003Cspan\u003E to access endpoint \u003C/span\u003E\u003Ccode\u003E192.168.100.21\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003Cspan\u003EThere are existing \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in the target \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E with which you can test your policies, but don\u0026#39;t change their labels.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-13\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Using a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENetworkPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E with ipBlock+except like done in our solution might cause security issues because of too open permissions that can\u0026#39;t be further restricted. A better solution might be using a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ECiliumNetworkPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E. Check the end of our solution for more information about this.\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EA great way to inspect and learn writing \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENetworkPolices\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E is the \u003C/span\u003E\u003Ca href=\u0027https://editor.networkpolicy.io\u0027\u003E\u003Cspan\u003ENetwork Policy Editor\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E, but it\u0026#39;s not an allowed resource during the exam. Regarding Metadata Server security there was a \u003C/span\u003E\u003Ca href=\u0027https://hackerone.com/reports/341876\u0027\u003E\u003Cspan\u003Efamous hack at Shopify\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E which was based on revealed information via metadata for \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENodes\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027check-metadata-server\u0027\u003E\u003Cspan\u003ECheck metadata server\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ECheck the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Emetadata-access\u003C/code\u003E\u003Cspan\u003E and their labels:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks3477\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n metadata-access get pods --show-labels\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ...  LABELS\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epod1-56769f56fd-jd6sb  ...  app=pod1,pod-template-hash=56769f56fd\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epod2-6f585c6f45-r6qqt  ...  app=pod2,pod-template-hash=6f585c6f45\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epod3-67f7488665-7tn8x  ...  app=pod3,pod-template-hash=67f7488665,role=metadata-accessor\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 161px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 161px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThere are three \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and one of them has the label \u003C/span\u003E\u003Ccode\u003Erole=metadata-accessor\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ECheck access to the metadata server from the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k exec -it -n metadata-access pod1-56769f56fd-jd6sb -- curl http://192.168.100.21:32000\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Emetadata server\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k exec -it -n metadata-access pod2-6f585c6f45-r6qqt -- curl http://192.168.100.21:32000\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Emetadata server\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k exec -it -n metadata-access pod3-67f7488665-7tn8x -- curl http://192.168.100.21:32000\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Emetadata server\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 253px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 253px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAll three are able to access the metadata server.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-1-5\u0027\u003E\u003Cspan\u003EStep 1\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ETo restrict the access, we create a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENetworkPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E to deny access to the specific IP.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Evim\u003C/span\u003E 13_metadata-deny.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# 13_metadata-deny.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enetworking.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ENetworkPolicy\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Emetadata-deny\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Emetadata-access\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  podSelector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {}\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  policyTypes\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003EEgress\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  egress\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eto\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EipBlock\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  cidr\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E0.0.0.0/0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  except\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E192.168.100.21/32\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 320px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 320px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek \u003Cspan class=\u0022cm-attribute\u0022\u003E-f\u003C/span\u003E 13_metadata-deny.yaml apply\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E You should know about general \u003C/span\u003E\u003Ca href=\u0027https://kubernetes.io/docs/concepts/services-networking/network-policies/#default-deny-all-ingress-traffic\u0027\u003E\u003Cspan\u003Edefault-deny K8s NetworkPolcies\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EVerify that access to the metadata server has been blocked:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k exec -it -n metadata-access pod1-56769f56fd-jd6sb -- curl -m 2 http://192.168.100.21:32000\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecurl: (28) Connection timed out after 2001 milliseconds\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecommand terminated with exit code 28\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k exec -it -n metadata-access pod2-6f585c6f45-r6qqt -- curl -m 2 http://192.168.100.21:32000\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecurl: (28) Connection timed out after 2001 milliseconds\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecommand terminated with exit code 28\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k exec -it -n metadata-access pod3-67f7488665-7tn8x -- curl -m 2 http://192.168.100.21:32000\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecurl: (28) Connection timed out after 2001 milliseconds\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecommand terminated with exit code 28\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 322px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 322px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EBut other endpoints are still reachable, like for example \u003C/span\u003E\u003Ca href=\u0027https://kubernetes.io\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://kubernetes.io\u003C/a\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k exec -it -n metadata-access pod1-56769f56fd-jd6sb -- curl --head -m 2 https://kubernetes.io\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EHTTP/2 200 \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eaccept-ranges: bytes\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eage: 9505\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecache-control: public,max-age=0,must-revalidate\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecache-status: \u0022Netlify Edge\u0022; hit\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Econtent-type: text/html; charset=UTF-8\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edate: Sun, 08 Sep 2024 11:37:09 GMT\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eetag: \u0022be145d012d94f830fd1298f163db8ce4-ssl\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eserver: Netlify\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Estrict-transport-security: max-age=31536000\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ex-nf-request-id: 01J78PRV7SREHYF5FY6EDXXXZM\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Econtent-length: 25304\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k exec -it -n metadata-access pod2-6f585c6f45-r6qqt -- curl --head -m 2 https://kubernetes.io\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EHTTP/2 200 \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eaccept-ranges: bytes\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eage: 9542\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecache-control: public,max-age=0,must-revalidate\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecache-status: \u0022Netlify Edge\u0022; hit\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Econtent-type: text/html; charset=UTF-8\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edate: Sun, 08 Sep 2024 11:37:46 GMT\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eetag: \u0022be145d012d94f830fd1298f163db8ce4-ssl\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eserver: Netlify\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Estrict-transport-security: max-age=31536000\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ex-nf-request-id: 01J78PSZACQF3XBA9Y2W112KYZ\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Econtent-length: 25304\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k exec -it -n metadata-access pod3-67f7488665-7tn8x -- curl --head -m 2 https://kubernetes.io\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EHTTP/2 200 \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eaccept-ranges: bytes\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eage: 9548\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecache-control: public,max-age=0,must-revalidate\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecache-status: \u0022Netlify Edge\u0022; hit\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Econtent-type: text/html; charset=UTF-8\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edate: Sun, 08 Sep 2024 11:37:52 GMT\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eetag: \u0022be145d012d94f830fd1298f163db8ce4-ssl\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eserver: Netlify\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Estrict-transport-security: max-age=31536000\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ex-nf-request-id: 01J78PT5DWH8TDXTAV21H029A2\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Econtent-length: 25304\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 1012px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 1012px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ELooking good.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-2-5\u0027\u003E\u003Cspan\u003EStep 2\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ENow create another \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENetworkPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E that allows access to the metadata server from \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E with label \u003C/span\u003E\u003Ccode\u003Erole=metadata-accessor\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Evim\u003C/span\u003E 13_metadata-allow.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# 13_metadata-allow.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enetworking.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ENetworkPolicy\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Emetadata-allow\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Emetadata-access\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  podSelector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  matchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  role\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Emetadata-accessor\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  policyTypes\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003EEgress\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  egress\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eto\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EipBlock\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  cidr\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E192.168.100.21/32\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 320px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 320px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek \u003Cspan class=\u0022cm-attribute\u0022\u003E-f\u003C/span\u003E 13_metadata-allow.yaml apply\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EVerify that required \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E has access to metadata endpoint and others do not:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k exec -it -n metadata-access pod1-56769f56fd-jd6sb -- curl -m 2 http://192.168.100.21:32000\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecurl: (28) Connection timed out after 2001 milliseconds\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecommand terminated with exit code 28\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k exec -it -n metadata-access pod2-6f585c6f45-r6qqt -- curl -m 2 http://192.168.100.21:32000\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecurl: (28) Connection timed out after 2001 milliseconds\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecommand terminated with exit code 28\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k exec -it -n metadata-access pod3-67f7488665-7tn8x -- curl -m 2 http://192.168.100.21:32000\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Emetadata server\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 299px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 299px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EIt only works for the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E having the label. With this we implemented the required security restrictions.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027networkpolicy-explanation\u0027\u003E\u003Cspan\u003ENetworkPolicy explanation\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EIf a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E doesn\u0026#39;t have a matching \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENetworkPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E then all traffic is allowed from and to it. Once a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E has a matching \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENP\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E then the contained rules are additive. This means that for \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E having label \u003C/span\u003E\u003Ccode\u003Emetadata-accessor\u003C/code\u003E\u003Cspan\u003E the rules will be combined to:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# merged policies into one for pods with label metadata-accessor\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  podSelector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {}\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  policyTypes\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003EEgress\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  egress\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eto\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# first rule\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EipBlock\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# condition 1\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  cidr\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E0.0.0.0/0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  except\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E192.168.100.21/32\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eto\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# second rule\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EipBlock\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# condition 1\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  cidr\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E192.168.100.21/32\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 280px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 280px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe can see that the merged \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENP\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E contains two separate rules with one condition each. We could read it as:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EAllow outgoing traffic if:\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E(destination is 0.0.0.0/0 but not 192.168.100.21/32) OR (destination is 192.168.100.21/32)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EHence it allows \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E with label \u003C/span\u003E\u003Ccode\u003Emetadata-accessor\u003C/code\u003E\u003Cspan\u003E to access everything.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027security-implications-of-this-solution\u0027\u003E\u003Cspan\u003ESecurity Implications of this solution\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EUsing a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENetworkPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E with ipBlock+except like done in our solution might cause security issues because of too open permissions that can\u0026#39;t be further restricted. Because with vanilla Kubernetes \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENetworkPolicies\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E it\u0026#39;s \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003Eonly possible to allow\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E certain ingress/egress. Once one egress rule exists, all other egress is forbidden, same for ingress.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ELet\u0026#39;s say we want to restrict the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENetworkPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Emetadata-deny\u003C/code\u003E\u003Cspan\u003E further, how would that be possible? We already specified one egress rule which allows outgoing traffic to ALL IPs using \u003C/span\u003E\u003Ccode\u003E0.0.0.0/0\u003C/code\u003E\u003Cspan\u003E, except one. If we now add another rule, all we can do is to allow more stuff:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# 13_metadata-deny.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enetworking.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ENetworkPolicy\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Emetadata-deny\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Emetadata-access\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  podSelector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {}\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  policyTypes\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003EEgress\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  egress\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eto\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EipBlock\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  cidr\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E0.0.0.0/0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  except\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E192.168.100.21/32\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eto\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# ADD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EnamespaceSelector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# ADD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  matchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# ADD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  project\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Emyproject \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E# ADD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 400px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 400px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAbove we added one additional egress rule to allow outgoing connection into a certain \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E. If \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003Eonly\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E that new rule would exist, then all other egress would be forbidden. But because both egress rules exist it could be read as:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EAllow outgoing traffic if:\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E(destination is 0.0.0.0/0 but not 192.168.100.21/32)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; OR\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E(destination namespace has label project: myproject)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ESo once we allow egress/ingress using a too open ipBlock, we can\u0026#39;t further restrict traffic which could be a big issue. A better solution might be for example using a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ECiliumNetworkPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E which is able to define deny rules using \u003C/span\u003E\u003Ccode\u003EegressDeny\u003C/code\u003E\u003Cspan\u003E (\u003C/span\u003E[\u003Cspan\u003Edocs\u003C/span\u003E][https://doc.crds.dev/github.com/cilium/cilium/cilium.io/CiliumNetworkPolicy/v2]\u003Cspan\u003E).\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-14-|-syscall-activity\u0027\u003E\u003Cspan\u003EQuestion 14 | Syscall Activity\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks7262\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThere are \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eteam-yellow\u003C/code\u003E\u003Cspan\u003E. A security investigation noticed that some processes running in these \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E are using the Syscall \u003C/span\u003E\u003Ccode\u003Ekill\u003C/code\u003E\u003Cspan\u003E, which is forbidden by an internal policy of Team Yellow.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EFind the offending \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod(s)\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and remove these by reducing the replicas of the parent \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E to 0.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EYou can connect to the worker nodes using \u003C/span\u003E\u003Ccode\u003Essh cks7262-node1\u003C/code\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003Essh cks7262-node2\u003C/code\u003E\u003Cspan\u003E from \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-14\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003ESyscalls are used by processes running in Userspace to communicate with the Linux Kernel. There are many available syscalls: \u003C/span\u003E\u003Ca href=\u0027https://man7.org/linux/man-pages/man2/syscalls.2.html\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://man7.org/linux/man-pages/man2/syscalls.2.html\u003C/a\u003E\u003Cspan\u003E. It makes sense to restrict these for container processes and Docker/Containerd already restrict some by default, like the \u003C/span\u003E\u003Ccode\u003Ereboot\u003C/code\u003E\u003Cspan\u003E Syscall. Restricting even more is possible for example using Seccomp or AppArmor.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027find-processes-of-pod\u0027\u003E\u003Cspan\u003EFind processes of Pod\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EFor this task we should simply find out which binary process executes a specific Syscall. Processes in containers are simply run on the same Linux operating system, but isolated. That\u0026#39;s why we first check on which nodes the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E are running:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks7262\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-yellow get pod -owide\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ... \u0026nbsp; \u0026nbsp; \u0026nbsp; NODE \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; NOMINATED NODE \u0026nbsp; ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecollector1-8d9dbc99f-hswfn \u0026nbsp; \u0026nbsp; \u0026nbsp; ... \u0026nbsp; \u0026nbsp; \u0026nbsp; cks7262-node1 \u0026nbsp; \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026lt;none\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecollector1-8d9dbc99f-kwjtf \u0026nbsp; \u0026nbsp; \u0026nbsp; ... \u0026nbsp; \u0026nbsp; \u0026nbsp; cks7262-node1 \u0026nbsp; \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026lt;none\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecollector2-66547ddfb5-5mvtz \u0026nbsp; \u0026nbsp;  ... \u0026nbsp; \u0026nbsp; \u0026nbsp; cks7262-node1 \u0026nbsp; \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026lt;none\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecollector3-6ffb899c79-kwcxv \u0026nbsp; \u0026nbsp;  ... \u0026nbsp; \u0026nbsp; \u0026nbsp; cks7262-node1 \u0026nbsp; \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026lt;none\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecollector3-6ffb899c79-lxm79 \u0026nbsp; \u0026nbsp;  ... \u0026nbsp; \u0026nbsp; \u0026nbsp; cks7262-node1 \u0026nbsp; \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026lt;none\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 207px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 207px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAll on \u003C/span\u003E\u003Ccode\u003Ecks7262-node1\u003C/code\u003E\u003Cspan\u003E, hence we ssh into it and find the processes for the first \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Ecollector1\u003C/code\u003E\u003Cspan\u003E .\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# ssh cks7262-node1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262-node1:~# sudo -i\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# crictl pods --name collector1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPOD ID \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  CREATED \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; STATE \u0026nbsp; \u0026nbsp; \u0026nbsp;  NAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ea61e29997e607 \u0026nbsp; \u0026nbsp; \u0026nbsp; 17 minutes ago \u0026nbsp; \u0026nbsp;  Ready \u0026nbsp; \u0026nbsp; \u0026nbsp;  collector1-8d9dbc99f-kwjtf \u0026nbsp; ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E8b0c315bf5ccd \u0026nbsp; \u0026nbsp; \u0026nbsp; 17 minutes ago \u0026nbsp; \u0026nbsp;  Ready \u0026nbsp; \u0026nbsp; \u0026nbsp;  collector1-8d9dbc99f-hswfn \u0026nbsp; ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# crictl ps --pod a61e29997e607\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECONTAINER ID \u0026nbsp; \u0026nbsp; \u0026nbsp;  IMAGE \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  ... \u0026nbsp;  POD ID \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  POD\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ee18e766d288ac \u0026nbsp; \u0026nbsp; \u0026nbsp; 71136cb0add32 \u0026nbsp;  ... \u0026nbsp;  a61e29997e607 \u0026nbsp; collector1-8d9dbc99f-kwjtf\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# crictl inspect e18e766d288ac | grep args -A1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022args\u0022: [\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022./collector1-process\u0022\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 368px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 368px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EUsing \u003C/span\u003E\u003Ccode\u003Ecrictl pods\u003C/code\u003E\u003Cspan\u003E we first searched for the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E of \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Ecollector1\u003C/code\u003E\u003Cspan\u003E, which has two replicas\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EWe then took one pod-id to find it\u0026#39;s containers using \u003C/span\u003E\u003Ccode\u003Ecrictl ps\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EAnd finally we used \u003C/span\u003E\u003Ccode\u003Ecrictl inspect\u003C/code\u003E\u003Cspan\u003E to find the process name, which is \u003C/span\u003E\u003Ccode\u003Ecollector1-process\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EWe can find the process PIDs (two because there are two \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E):\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# ps aux | grep collector1-process\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eroot \u0026nbsp; \u0026nbsp; \u0026nbsp; 13980  0.0  0.0 702216 \u0026nbsp; 384 ? \u0026nbsp; ... \u0026nbsp;  ./collector1-process\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eroot \u0026nbsp; \u0026nbsp; \u0026nbsp; 14079  0.0  0.0 702216 \u0026nbsp; 512 ? \u0026nbsp; ... \u0026nbsp;  ./collector1-process\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EOr we could check for the PID with \u003C/span\u003E\u003Ccode\u003Ecrictl inspect\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# crictl inspect e18e766d288ac | grep pid\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  \u0022pid\u0022: 14079,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022pid\u0022: 1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022type\u0022: \u0022pid\u0022\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003Cspan\u003EWe \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003Eshould\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E only have to check one of the PIDs because it\u0026#39;s the same kind of \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E,  just a second replica of the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027check-syscalls-of-collector1\u0027\u003E\u003Cspan\u003ECheck Syscalls of collector1\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EUsing the PIDs we can call \u003C/span\u003E\u003Ccode\u003Estrace\u003C/code\u003E\u003Cspan\u003E to find Sycalls:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# ps aux | grep collector1-process\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eroot \u0026nbsp; \u0026nbsp; \u0026nbsp; 13980  0.0  0.0 702216 \u0026nbsp; 384 ? \u0026nbsp; ... \u0026nbsp;  ./collector1-process\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eroot \u0026nbsp; \u0026nbsp; \u0026nbsp; 14079  0.0  0.0 702216 \u0026nbsp; 512 ? \u0026nbsp; ... \u0026nbsp;  ./collector1-process\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# strace -p 14079\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Estrace: Process 14079 attached\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 529, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 995, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Efutex(0x4d7e68, FUTEX_WAIT_PRIVATE, 0, NULL) = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekill(666, SIGTERM) \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  = -1 ESRCH (No such process)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Efutex(0x4d7e68, FUTEX_WAIT_PRIVATE, 0, NULL) = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekill(666, SIGTERM) \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  = -1 ESRCH (No such process)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E--- SIGURG {si_signo=SIGURG, si_code=SI_TKILL, si_pid=1, si_uid=0} ---\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 368px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 368px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EFirst try and already a catch! We see it uses the forbidden Syscall by calling \u003C/span\u003E\u003Ccode\u003Ekill(666, SIGTERM)\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027check-syscalls-of-collector2\u0027\u003E\u003Cspan\u003ECheck Syscalls of collector2\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ENext let\u0026#39;s check the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Ecollector2\u003C/code\u003E\u003Cspan\u003E processes:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# ps aux | grep collector2-process\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eroot \u0026nbsp; \u0026nbsp; \u0026nbsp; 14046  0.0  0.0 702224 \u0026nbsp; 512 ? \u0026nbsp; \u0026nbsp; \u0026nbsp;  Ssl  10:55 \u0026nbsp; 0:00 ./collector2-process\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# strace -p 14046\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Estrace: Process 14046 attached\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Efutex(0x4d9e68, FUTEX_WAIT_PRIVATE, 0, NULL) = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Efutex(0x4d9e68, FUTEX_WAIT_PRIVATE, 0, NULL) = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Efutex(0x4d9e68, FUTEX_WAIT_PRIVATE, 0, NULL) = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 998, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 414px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 414px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ELooks alright.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027check-syscalls-of-collector3\u0027\u003E\u003Cspan\u003ECheck Syscalls of collector3\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EWhat about the \u003C/span\u003E\u003Ccode\u003Ecollector3\u003C/code\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# ps aux | grep collector3-process\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eroot \u0026nbsp; \u0026nbsp; \u0026nbsp; 14013  0.0  0.0 702480 \u0026nbsp; 640 ? \u0026nbsp; \u0026nbsp; \u0026nbsp;  Ssl  10:55 \u0026nbsp; 0:00 ./collector3-process\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eroot \u0026nbsp; \u0026nbsp; \u0026nbsp; 14216  0.0  0.0 702480 \u0026nbsp; 640 ? \u0026nbsp; \u0026nbsp; \u0026nbsp;  Ssl  10:55 \u0026nbsp; 0:00 ./collector3-process\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262-node1:~# strace -p 14013\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Estrace: Process 14013 attached\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 762, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 998, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eepoll_pwait(3, [], 128, 999, NULL, 1) \u0026nbsp; = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Efutex(0x4d9e68, FUTEX_WAIT_PRIVATE, 0, NULL) = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Efutex(0x4d9e68, FUTEX_WAIT_PRIVATE, 0, NULL) = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Efutex(0x4d9e68, FUTEX_WAIT_PRIVATE, 0, NULL) = 0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 529px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 529px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAlso nothing about the forbidden Syscall.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027scale-down-deployment\u0027\u003E\u003Cspan\u003EScale down Deployment\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ESo we finish the task:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks7262:~# k -n team-yellow scale deploy collector1 --replicas 0\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAnd the world is a bit safer again.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-15-|-configure-tls-on-ingress\u0027\u003E\u003Cspan\u003EQuestion 15 | Configure TLS on Ingress\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks7262\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EIn \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eteam-pink\u003C/code\u003E\u003Cspan\u003E there is an existing Nginx \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EIngress\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E resources named \u003C/span\u003E\u003Ccode\u003Esecure\u003C/code\u003E\u003Cspan\u003E which accepts two paths \u003C/span\u003E\u003Ccode\u003E/app\u003C/code\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003E/api\u003C/code\u003E\u003Cspan\u003E which point to different ClusterIP \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EServices\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EFrom your main terminal you can connect to it using for example:\u003C/span\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EHTTP:   \u003C/span\u003E\u003Ccode\u003Ecurl -v http://secure-ingress.test:31080/app\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EHTTPS: \u003C/span\u003E\u003Ccode\u003Ecurl -kv https://secure-ingress.test:31443/app\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003Cspan\u003ERight now it uses a default generated TLS certificate by the Nginx Ingress Controller.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EYou\u0026#39;re asked to instead use the key and certificate provided at \u003C/span\u003E\u003Ccode\u003E/opt/course/15/tls.key\u003C/code\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003E/opt/course/15/tls.crt\u003C/code\u003E\u003Cspan\u003E. As it\u0026#39;s a self-signed certificate you need to use \u003C/span\u003E\u003Ccode\u003Ecurl -k\u003C/code\u003E\u003Cspan\u003E when connecting to it.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-15\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027investigate\u0027\u003E\u003Cspan\u003EInvestigate\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EWe can get the IP address of the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EIngress\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and we see it\u0026#39;s the same one to which \u003C/span\u003E\u003Ccode\u003Esecure-ingress.test\u003C/code\u003E\u003Cspan\u003E is pointing to:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks7262\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-pink get ing secure \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; CLASS \u0026nbsp;  HOSTS \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ADDRESS \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  PORTS \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Esecure \u0026nbsp; \u0026lt;none\u0026gt; \u0026nbsp; secure-ingress.test \u0026nbsp; 192.168.100.12 \u0026nbsp; 80 \u0026nbsp; \u0026nbsp;  7m11s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# ping secure-ingress.test\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPING cks7262-node1 (192.168.100.12) 56(84) bytes of data.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E64 bytes from cks7262-node1 (192.168.100.12): icmp_seq=1 ttl=64 time=0.316 ms\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 207px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 207px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENow, let\u0026#39;s try to access the paths \u003C/span\u003E\u003Ccode\u003E/app\u003C/code\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003E/api\u003C/code\u003E\u003Cspan\u003E via HTTP:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# curl http://secure-ingress.test:31080/app\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EThis is the backend APP!\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# curl http://secure-ingress.test:31080/api\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EThis is the API Server!\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWhat about HTTPS?\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# curl https://secure-ingress.test:31443/api\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecurl: (60) SSL certificate problem: unable to get local issuer certificate\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EMore details here: https://curl.haxx.se/docs/sslcerts.html\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# curl -k https://secure-ingress.test:31443/api\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EThis is the API Server!\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 161px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 161px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EHTTPS seems to be already working if we accept self-signed certificated using \u003C/span\u003E\u003Ccode\u003E-k\u003C/code\u003E\u003Cspan\u003E. But what kind of certificate is used by the server?\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# curl -kv https://secure-ingress.test:31443/api\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E* Server certificate:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E*  subject: O=Acme Co; CN=Kubernetes Ingress Controller Fake Certificate\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E*  start date: Sep  8 10:55:34 2024 GMT\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E*  expire date: Sep  8 10:55:34 2025 GMT\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E*  issuer: O=Acme Co; CN=Kubernetes Ingress Controller Fake Certificate\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E*  SSL certificate verify result: self-signed certificate (18), continuing anyway.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E* \u0026nbsp; Certificate level 0: Public key type RSA (2048/112 Bits/secBits), signed using sha256WithRSAEncryption\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 253px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 253px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EIt seems to be \u0026quot;Kubernetes Ingress Controller Fake Certificate\u0026quot;. \u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027implement-own-tls-certificate\u0027\u003E\u003Cspan\u003EImplement own TLS certificate\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EFirst, let us generate a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E using the provided key and certificate:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# cd /opt/course/15\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:/opt/course/15$ ls\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etls.crt  tls.key\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:/opt/course/15$ k -n team-pink create secret tls tls-secret --key tls.key --cert tls.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Esecret/tls-secret created\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 184px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 184px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENow, we configure the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EIngress\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E to make use of this \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-pink get ing secure -oyaml \u0026gt; 15_ing_bak.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-pink edit ing secure\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# kubectl -n team-pink edit ing secure\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enetworking.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EIngress\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  annotations\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  generation\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E1\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Esecure\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eteam-pink\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  tls\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ehosts\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003Esecure-ingress.test \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  secretName\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Etls-secret \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  rules\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ehost\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Esecure-ingress.test\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  http\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  paths\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ebackend\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  service\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Esecure-app\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  port\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E80\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  path\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/app\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  pathType\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EImplementationSpecific\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ebackend\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  service\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Esecure-api\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  port\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E80\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  path\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/api\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  pathType\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EImplementationSpecific\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 640px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 640px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAfter adding the changes we check the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EIngress\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E resource again:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-pink get ing\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; CLASS \u0026nbsp;  HOSTS \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ADDRESS \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  PORTS \u0026nbsp; \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Esecure \u0026nbsp; \u0026lt;none\u0026gt; \u0026nbsp; secure-ingress.test \u0026nbsp; 192.168.100.12 \u0026nbsp; 80, 443 \u0026nbsp; 25m\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EIt now actually lists port 443 for HTTPS. To verify:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# curl -k https://secure-ingress.test:31443/api\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EThis is the API Server!\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# curl -kv https://secure-ingress.test:31443/api\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E* Server certificate:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E*  subject: CN=secure-ingress.test; O=secure-ingress.test\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E*  start date: Sep 25 18:22:10 2020 GMT\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E*  expire date: Sep 20 18:22:10 2040 GMT\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E*  issuer: CN=secure-ingress.test; O=secure-ingress.test\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E*  SSL certificate verify result: self-signed certificate (18), continuing anyway.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E* \u0026nbsp; Certificate level 0: Public key type RSA (2048/112 Bits/secBits), signed using sha256WithRSAEncryption\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 322px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 322px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe can see that the provided certificate is now being used by the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EIngress\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E for TLS termination. We still use \u003C/span\u003E\u003Ccode\u003Ecurl -k\u003C/code\u003E\u003Cspan\u003E because the provided certificate is self signed.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-16-|-docker-image-attack-surface\u0027\u003E\u003Cspan\u003EQuestion 16 | Docker Image Attack Surface\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks7262\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThere is a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eimage-verify\u003C/code\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eteam-blue\u003C/code\u003E\u003Cspan\u003E which runs image \u003C/span\u003E\u003Ccode\u003Eregistry.killer.sh:5000/image-verify:v1\u003C/code\u003E\u003Cspan\u003E. DevSecOps has asked you to improve this image by:\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EChanging the base image to \u003C/span\u003E\u003Ccode\u003Ealpine:3.12\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ENot installing \u003C/span\u003E\u003Ccode\u003Ecurl\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EUpdating \u003C/span\u003E\u003Ccode\u003Enginx\u003C/code\u003E\u003Cspan\u003E to use the version constraint  \u003C/span\u003E\u003Ccode\u003E\u0026gt;=1.18.0\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ERunning the main process as user \u003C/span\u003E\u003Ccode\u003Emyuser\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EDo not\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E add any new lines to the Dockerfile, just edit existing ones. The file is located at \u003C/span\u003E\u003Ccode\u003E/opt/course/16/image/Dockerfile\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ETag your version as \u003C/span\u003E\u003Ccode\u003Ev2\u003C/code\u003E\u003Cspan\u003E. You can build, tag and push using:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022shell\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022shell\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Ecd\u003C/span\u003E /opt/course/16/image\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epodman build \u003Cspan class=\u0022cm-attribute\u0022\u003E-t\u003C/span\u003E registry.killer.sh:5000/image-verify:v2 .\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epodman run registry.killer.sh:5000/image-verify:v2 \u003Cspan class=\u0022cm-comment\u0022\u003E# to test your changes\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epodman push registry.killer.sh:5000/image-verify:v2\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EMake the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E use your updated image tag \u003C/span\u003E\u003Ccode\u003Ev2\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-16\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003EWe should have a look at the Docker Image at first:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks7262\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# cd /opt/course/16/image\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:/opt/course/16/image$ cp Dockerfile Dockerfile.bak\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:/opt/course/16/image$ vim Dockerfile\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 161px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 161px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022dockerfile\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022dockerfile\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks7262:/opt/course/16/image/Dockerfile\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003EFROM\u003C/span\u003E alpine:3.4\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003ERUN\u003C/span\u003E apk update \u0026amp;\u0026amp; apk add vim curl nginx=1.10.3-r0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003ERUN\u003C/span\u003E addgroup -S myuser \u0026amp;\u0026amp; adduser -S myuser -G myuser\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003ECOPY\u003C/span\u003E ./run.sh run.sh\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003ERUN\u003C/span\u003E [\u0022chmod\u0022, \u0022+x\u0022, \u0022./run.sh\u0022]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003EUSER\u003C/span\u003E root\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003EENTRYPOINT\u003C/span\u003E [\u0022/bin/sh\u0022, \u0022./run.sh\u0022]\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 184px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 184px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EVery simple Dockerfile which seems to execute a script \u003C/span\u003E\u003Ccode\u003Erun.sh\u003C/code\u003E\u003Cspan\u003E :\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022shell\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022shell\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks7262:/opt/course/16/image/run.sh\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-keyword\u0022\u003Ewhile\u003C/span\u003E \u003Cspan class=\u0022cm-atom\u0022\u003Etrue\u003C/span\u003E; \u003Cspan class=\u0022cm-keyword\u0022\u003Edo\u003C/span\u003E date; id; \u003Cspan class=\u0022cm-builtin\u0022\u003Eecho\u003C/span\u003E; \u003Cspan class=\u0022cm-builtin\u0022\u003Esleep\u003C/span\u003E \u003Cspan class=\u0022cm-number\u0022\u003E1\u003C/span\u003E; \u003Cspan class=\u0022cm-keyword\u0022\u003Edone\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ESo it only outputs current date and credential information in a loop. We can see that output in the existing \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eimage-verify\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-blue logs -f -l id=image-verify\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESun Sep  8 12:10:30 UTC 2024\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Euid=0(root) gid=0(root) groups=0(root),1(bin),2(daemon),3(sys),4(adm),6(disk),10(wheel),11(floppy),20(dialout),26(tape),27(video)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe see it\u0026#39;s running as root.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ENext we update the \u003C/span\u003E\u003Ccode\u003EDockerfile\u003C/code\u003E\u003Cspan\u003E according to the requirements:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022dockerfile\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022dockerfile\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# /opt/course/16/image/Dockerfile\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# change\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003EFROM\u003C/span\u003E alpine:3.12\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# change\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003ERUN\u003C/span\u003E apk update \u0026amp;\u0026amp; apk add vim nginx\u0026gt;=1.18.0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003ERUN\u003C/span\u003E addgroup -S myuser \u0026amp;\u0026amp; adduser -S myuser -G myuser\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003ECOPY\u003C/span\u003E ./run.sh run.sh\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003ERUN\u003C/span\u003E [\u0022chmod\u0022, \u0022+x\u0022, \u0022./run.sh\u0022]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# change\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003EUSER\u003C/span\u003E myuser\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-variable-2\u0022\u003EENTRYPOINT\u003C/span\u003E [\u0022/bin/sh\u0022, \u0022./run.sh\u0022]\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 368px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 368px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThen we build the new image:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:/opt/course/16/image$ podman build -t registry.killer.sh:5000/image-verify:v2 .\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESTEP 1/7: FROM alpine:3.12\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EResolved \u0022alpine\u0022 as an alias (/etc/containers/registries.conf.d/shortnames.conf)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ETrying to pull docker.io/library/alpine:3.12...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EGetting image source signatures\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECopying blob 1b7ca6aea1dd done \u0026nbsp; | \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECopying config 24c8ece58a done \u0026nbsp; | \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EWriting manifest to image destination\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESTEP 2/7: RUN apk update \u0026amp;\u0026amp; apk add vim nginx\u0026gt;=1.18.0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Efetch http://dl-cdn.alpinelinux.org/alpine/v3.12/main/x86_64/APKINDEX.tar.gz\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Efetch http://dl-cdn.alpinelinux.org/alpine/v3.12/community/x86_64/APKINDEX.tar.gz\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ev3.12.12-52-g800c17231ad [http://dl-cdn.alpinelinux.org/alpine/v3.12/main]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ev3.12.12-52-g800c17231ad [http://dl-cdn.alpinelinux.org/alpine/v3.12/community]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EOK: 12767 distinct packages available\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E--\u0026gt; 87781619777d\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESTEP 3/7: RUN addgroup -S myuser \u0026amp;\u0026amp; adduser -S myuser -G myuser\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E--\u0026gt; ae553aeea607\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESTEP 4/7: COPY ./run.sh run.sh\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E--\u0026gt; 943d90848b52\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESTEP 5/7: RUN [\u0022chmod\u0022, \u0022+x\u0022, \u0022./run.sh\u0022]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E--\u0026gt; 224656b3ddd8\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESTEP 6/7: USER myuser\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E--\u0026gt; 48de19088ba3\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESTEP 7/7: ENTRYPOINT [\u0022/bin/sh\u0022, \u0022./run.sh\u0022]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECOMMIT registry.killer.sh:5000/image-verify:v2\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E--\u0026gt; 09516fa460aa\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESuccessfully tagged registry.killer.sh:5000/image-verify:v2\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E09516fa460aa74e13cf3dc64f2cfeeeeffa2e80c0b9a40fec1429fb8890f0e5e\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 690px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 690px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe can then test our changes by running the container locally:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:/opt/course/16/image$ podman run registry.killer.sh:5000/image-verify:v2\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESun Sep  8 12:11:30 UTC 2024\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Euid=101(myuser) gid=102(myuser) groups=102(myuser)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESun Sep  8 12:11:31 UTC 2024\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Euid=101(myuser) gid=102(myuser) groups=102(myuser)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESun Sep  8 12:11:32 UTC 2024\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Euid=101(myuser) gid=102(myuser) groups=102(myuser)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 253px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 253px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ELooking good, so we push:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:/opt/course/16/image$ podman push registry.killer.sh:5000/image-verify:v2\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EGetting image source signatures\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECopying blob 6a1c1a1200d3 done \u0026nbsp; | \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECopying blob fd5841c2ff0f done \u0026nbsp; | \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECopying blob 761b8fb2b1d2 skipped: already exists \u0026nbsp;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECopying blob aed9d43cb02e done \u0026nbsp; | \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECopying blob 1ad27bdd166b done \u0026nbsp; | \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECopying config 09516fa460 done \u0026nbsp; | \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EWriting manifest to image destination\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 253px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 253px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAnd we update the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E to use the new image:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek \u003Cspan class=\u0022cm-attribute\u0022\u003E-n\u003C/span\u003E team-blue edit deploy image-verify\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# kubectl -n team-blue edit deploy image-verify\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eapps/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EDeployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  template\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  spec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  containers\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eimage\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eregistry.killer.sh\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E5000/image-verify\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003Ev2 \u003Cspan class=\u0022cm-comment\u0022\u003E# change\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 240px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 240px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAnd afterwards we can verify our changes by looking at the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E logs:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-blue logs -f -l id=image-verify\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESun Sep  8 12:13:12 UTC 2024\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Euid=101(myuser) gid=102(myuser) groups=102(myuser)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESun Sep  8 12:13:13 UTC 2024\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Euid=101(myuser) gid=102(myuser) groups=102(myuser)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESun Sep  8 12:13:14 UTC 2024\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Euid=101(myuser) gid=102(myuser) groups=102(myuser)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESun Sep  8 12:13:15 UTC 2024\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Euid=101(myuser) gid=102(myuser) groups=102(myuser)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 276px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 276px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAlso to verify our changes even further:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-blue exec image-verify-55fbcd4c9b-x2flc -- curl\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eerror: Internal error occurred: Internal error occurred: error executing command in container: failed to exec in container: failed to start exec \u002247d8d3e96b8d214bf0f5d3f75d79fb5d52d351246de45ce4740559e7baa74a20\u0022: OCI runtime exec failed: exec failed: unable to start container process: exec: \u0022curl\u0022: executable file not found in $PATH: unknown\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-blue exec image-verify-6cd88b645f-8d5cn -- nginx -v\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Enginx version: nginx/1.18.0\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 207px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 207px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAnother task solved.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-17-|-audit-log-policy\u0027\u003E\u003Cspan\u003EQuestion 17 | Audit Log Policy\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks3477\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EAudit Logging has been enabled in the cluster with an Audit \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E located at \u003C/span\u003E\u003Ccode\u003E/etc/kubernetes/audit/policy.yaml\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks3477\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EChange the configuration so that only one backup of the logs is stored.\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EAlter the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in a way that it only stores logs:\u003C/span\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EFrom \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E resources, level Metadata\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EFrom \u0026quot;system:nodes\u0026quot; userGroups, level RequestResponse\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003Cspan\u003EAfter you altered the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E make sure to empty the log file so it only contains entries according to your changes, like using \u003C/span\u003E\u003Ccode\u003Eecho \u0026gt; /etc/kubernetes/audit/logs/audit.log\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E You can use \u003C/span\u003E\u003Ccode\u003Ejq\u003C/code\u003E\u003Cspan\u003E to render json more readable, like \u003C/span\u003E\u003Ccode\u003Ecat data.json | jq\u003C/code\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Use \u003C/span\u003E\u003Ccode\u003Esudo -i\u003C/code\u003E\u003Cspan\u003E to become root which may be required for this question\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-17\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-1-6\u0027\u003E\u003Cspan\u003EStep 1\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EFirst we check the apiserver configuration and change as requested:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks3477\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# sudo -i\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# cp /etc/kubernetes/manifests/kube-apiserver.yaml ~/17_kube-apiserver.yaml # backup\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# vim /etc/kubernetes/manifests/kube-apiserver.yaml \u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 184px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 184px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks3477/etc/kubernetes/manifests/kube-apiserver.yaml \u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ev1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EPod\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  creationTimestamp\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enull\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  component\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-apiserver\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  tier\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Econtrol-plane\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-apiserver\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-system\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  containers\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ecommand\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003Ekube-apiserver\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--audit-policy-file=/etc/kubernetes/audit/policy.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--audit-log-path=/etc/kubernetes/audit/logs/audit.log\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--audit-log-maxsize=5\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--audit-log-maxbackup=1 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E# CHANGE\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--advertise-address=192.168.100.21\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--allow-privileged=true\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 420px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 420px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E You should know how to enable Audit Logging completely yourself \u003C/span\u003E\u003Ca href=\u0027https://kubernetes.io/docs/tasks/debug-application-cluster/audit\u0027\u003E\u003Cspan\u003Eas described in the docs\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E. Feel free to try this in another cluster in this environment.\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EWait for the apiserver container to be restarted for example with:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ewatch crictl \u003Cspan class=\u0022cm-builtin\u0022\u003Eps\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-2-6\u0027\u003E\u003Cspan\u003EStep 2\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ENow we look at the existing \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# vim /etc/kubernetes/audit/policy.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks3477:/etc/kubernetes/audit/policy.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eaudit.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EPolicy\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Erules\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Elevel\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EMetadata\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 100px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 100px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe can see that this simple \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E logs everything on Metadata level. So we change it to the requirements:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks3477:/etc/kubernetes/audit/policy.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eaudit.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EPolicy\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Erules\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# log Secret resources audits, level Metadata\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Elevel\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EMetadata\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  resources\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Egroup\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  resources\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: [\u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022secrets\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E]\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# log node related audits, level RequestResponse\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Elevel\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ERequestResponse\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  userGroups\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: [\u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:nodes\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E]\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# for everything else don\u0027t log anything\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Elevel\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ENone\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 340px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 340px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAfter saving the changes we have to restart the apiserver:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:~# cd /etc/kubernetes/manifests/\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:/etc/kubernetes/manifests# mv kube-apiserver.yaml ..\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:/etc/kubernetes/manifests# watch crictl ps # wait for apiserver gone\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:/etc/kubernetes/manifests# echo \u0026gt; /etc/kubernetes/audit/logs/audit.log\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:/etc/kubernetes/manifests# mv ../kube-apiserver.yaml .\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks3477:/etc/kubernetes/manifests# watch crictl ps # wait for apiserver created\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 253px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 253px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThat should be it.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027check-the-audit-logs\u0027\u003E\u003Cspan\u003ECheck the Audit Logs\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EOnce the apiserver is running again we can check the new logs and scroll through some entries:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Ecat\u003C/span\u003E /etc/kubernetes/audit/logs/audit.log | tail | jq\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022json\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022json\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E{ \u0026nbsp; \u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022kind\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022Event\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022apiVersion\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022audit.k8s.io/v1\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022level\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022Metadata\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022auditID\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022aac47b4d-d1fe-4ab8-a0eb-f7843a89560f\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022stage\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022RequestReceived\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022requestURI\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022/api/v1/namespaces/restricted/secrets?allowWatchBookmarks=true\u0026amp;fieldSelector=metadata.name%3Dsecret1\u0026amp;resourceVersion=9028\u0026amp;timeout=9m45s\u0026amp;timeoutSeconds=585\u0026amp;watch=true\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022verb\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022watch\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022user\u0022\u003C/span\u003E: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022username\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:node:cks3477-node1\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022groups\u0022\u003C/span\u003E: [ \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:nodes\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:authenticated\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  ]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022sourceIPs\u0022\u003C/span\u003E: [\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022192.168.100.22\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  ],\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022userAgent\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022kubelet/v1.31.1 (linux/amd64) kubernetes/a51b3b7\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022objectRef\u0022\u003C/span\u003E: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022resource\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022secrets\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022namespace\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022restricted\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022name\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022secret1\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022apiVersion\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022v1\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022requestReceivedTimestamp\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u00222024-09-08T12:20:43.920816Z\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022stageTimestamp\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u00222024-09-08T12:20:43.920816Z\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 690px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 690px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAbove we logged a watch action by Kubelet for \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E, level Metadata.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022json\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022json\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E{\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022kind\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022Event\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022apiVersion\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022audit.k8s.io/v1\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022level\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022RequestResponse\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022auditID\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u002280577862-91da-4bc4-bb9d-b1ebffdc0dda\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022stage\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022ResponseComplete\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022requestURI\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022/api/v1/nodes/cks3477?resourceVersion=0\u0026amp;timeout=10s\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022verb\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022get\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022user\u0022\u003C/span\u003E: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022username\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:node:cks3477\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022groups\u0022\u003C/span\u003E: [\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:nodes\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:authenticated\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  ]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022sourceIPs\u0022\u003C/span\u003E: [\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022192.168.100.21\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  ],\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022userAgent\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022kubelet/v1.31.1 (linux/amd64) kubernetes/a51b3b7\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022objectRef\u0022\u003C/span\u003E: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022resource\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022nodes\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022name\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022cks3477\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022apiVersion\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022v1\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022responseStatus\u0022\u003C/span\u003E: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022metadata\u0022\u003C/span\u003E: {},\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022code\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-number\u0022\u003E200\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022responseObject\u0022\u003C/span\u003E: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022requestReceivedTimestamp\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u00222024-09-08T12:20:43.961117Z\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022stageTimestamp\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u00222024-09-08T12:20:43.991929Z\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022annotations\u0022\u003C/span\u003E: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022authorization.k8s.io/decision\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022allow\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022authorization.k8s.io/reason\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  }\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 874px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 874px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAnd in the one above we logged a get action by system:nodes for \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENodes\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E, level RequestResponse.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EBecause all JSON entries are written in a single line in the file we could also run some simple verifications on our \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022shell\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022shell\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# shows Secret entries\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Ecat\u003C/span\u003E audit.log | \u003Cspan class=\u0022cm-builtin\u0022\u003Egrep\u003C/span\u003E \u003Cspan class=\u0022cm-string\u0022\u003E\u0027\u0022resource\u0022:\u0022secrets\u0022\u0027\u003C/span\u003E | \u003Cspan class=\u0022cm-builtin\u0022\u003Ewc\u003C/span\u003E \u003Cspan class=\u0022cm-attribute\u0022\u003E-l\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# confirms Secret entries are only of level Metadata\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Ecat\u003C/span\u003E audit.log | \u003Cspan class=\u0022cm-builtin\u0022\u003Egrep\u003C/span\u003E \u003Cspan class=\u0022cm-string\u0022\u003E\u0027\u0022resource\u0022:\u0022secrets\u0022\u0027\u003C/span\u003E | \u003Cspan class=\u0022cm-builtin\u0022\u003Egrep\u003C/span\u003E \u003Cspan class=\u0022cm-attribute\u0022\u003E-v\u003C/span\u003E \u003Cspan class=\u0022cm-string\u0022\u003E\u0027\u0022level\u0022:\u0022Metadata\u0022\u0027\u003C/span\u003E | \u003Cspan class=\u0022cm-builtin\u0022\u003Ewc\u003C/span\u003E \u003Cspan class=\u0022cm-attribute\u0022\u003E-l\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# shows RequestResponse level entries\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Ecat\u003C/span\u003E audit.log | \u003Cspan class=\u0022cm-builtin\u0022\u003Egrep\u003C/span\u003E \u003Cspan class=\u0022cm-attribute\u0022\u003E-v\u003C/span\u003E \u003Cspan class=\u0022cm-string\u0022\u003E\u0027\u0022level\u0022:\u0022RequestResponse\u0022\u0027\u003C/span\u003E | \u003Cspan class=\u0022cm-builtin\u0022\u003Ewc\u003C/span\u003E \u003Cspan class=\u0022cm-attribute\u0022\u003E-l\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# shows RequestResponse level entries are only for system:nodes\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Ecat\u003C/span\u003E audit.log | \u003Cspan class=\u0022cm-builtin\u0022\u003Egrep\u003C/span\u003E \u003Cspan class=\u0022cm-string\u0022\u003E\u0027\u0022level\u0022:\u0022RequestResponse\u0022\u0027\u003C/span\u003E | \u003Cspan class=\u0022cm-builtin\u0022\u003Egrep\u003C/span\u003E \u003Cspan class=\u0022cm-attribute\u0022\u003E-v\u003C/span\u003E \u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:nodes\u0022\u003C/span\u003E | \u003Cspan class=\u0022cm-builtin\u0022\u003Ewc\u003C/span\u003E \u003Cspan class=\u0022cm-attribute\u0022\u003E-l\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 253px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 253px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ELooks like our job is done.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-18-|-sbom\u0027\u003E\u003Cspan\u003EQuestion 18 | SBOM\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks8930\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EYour team received Software Bill Of Materials (SBOM) requests and you have been selected to generate some documents and scans:\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EUsing \u003C/span\u003E\u003Ccode\u003Ebom\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EGenerate a SPDX-Json SBOM of image \u003C/span\u003E\u003Ccode\u003Eregistry.k8s.io/kube-apiserver:v1.31.0\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EStore it at \u003C/span\u003E\u003Ccode\u003E/opt/course/18/sbom1.json\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks8930\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EUsing \u003C/span\u003E\u003Ccode\u003Etrivy\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EGenerate a CycloneDX SBOM of image \u003C/span\u003E\u003Ccode\u003Eregistry.k8s.io/kube-controller-manager:v1.31.0\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EStore it at  \u003C/span\u003E\u003Ccode\u003E/opt/course/18/sbom2.json\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks8930\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EUsing \u003C/span\u003E\u003Ccode\u003Etrivy\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EScan the existing SPDX-Json SBOM at \u003C/span\u003E\u003Ccode\u003E/opt/course/18/sbom_check.json\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks8930\u003C/code\u003E\u003Cspan\u003E for known vulnerabilities. Save the result in Json format at \u003C/span\u003E\u003Ccode\u003E/opt/course/18/sbom_check_result.json\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks8930\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-18\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003ESBOMs are like an ingredients list for food, just for software. So let\u0026#39;s prepare something tasty!\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-1-create-sbom-with-bom\u0027\u003E\u003Cspan\u003EStep 1: Create SBOM with Bom\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EThe tool is \u003C/span\u003E\u003Ca href=\u0027https://github.com/kubernetes-sigs/bom\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://github.com/kubernetes-sigs/bom\u003C/a\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks8930\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~$ bom\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ebom (Bill of Materials)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EUsage:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  bom [command]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EAvailable Commands:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  completion  Generate the autocompletion script for the specified shell\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  document \u0026nbsp;  bom document → Work with SPDX documents\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  generate \u0026nbsp;  bom generate → Create SPDX SBOMs\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  help \u0026nbsp; \u0026nbsp; \u0026nbsp;  Help about any command\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  validate \u0026nbsp;  bom validate → Check artifacts against an sbom\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  version \u0026nbsp; \u0026nbsp; Prints the version\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  ...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 368px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 368px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe want to generate a new document and running \u003C/span\u003E\u003Ccode\u003Ebom generate\u003C/code\u003E\u003Cspan\u003E should give us enough hints on how we can do this:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~$ bom generate --image registry.k8s.io/kube-apiserver:v1.31.0 --format json\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EINFO bom v0.6.0: Generating SPDX Bill of Materials \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EINFO Processing image reference: registry.k8s.io/kube-apiserver:v1.31.0 \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EINFO Reference registry.k8s.io/kube-apiserver:v1.31.0 points to an index \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EINFO Reference image index points to 4 manifests \u0026nbsp;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EINFO Adding image registry.k8s.io/kube-apiserver@sha256:64c595846c29945f619a1c3d420a8bfac87e93cb8d3641e222dd9ac412284001 (amd64/linux) \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edefined \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E{\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  \u0022SPDXID\u0022: \u0022SPDXRef-DOCUMENT\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  \u0022name\u0022: \u0022SBOM-SPDX-f1e98645-98b1-41e3-89c6-800bebd8262c\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  \u0022spdxVersion\u0022: \u0022SPDX-2.3\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  \u0022creationInfo\u0022: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  \u0022created\u0022: \u00222024-09-10T16:25:40Z\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  \u0022creators\u0022: [\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022Tool: bom-v0.6.0\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  ],\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  \u0022licenseListVersion\u0022: \u00223.21\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  \u0022dataLicense\u0022: \u0022CC0-1.0\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  \u0022documentNamespace\u0022: \u0022https://spdx.org/spdxdocs/k8s-releng-bom-2c6dd735-0888-4776-9644-09e690ded389\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  \u0022documentDescribes\u0022: [\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  \u0022SPDXRef-Package-sha256-470179274deb9dc3a81df55cfc24823ce153147d4ebf2ed649a4f271f51eaddf\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  ],\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  \u0022packages\u0022: [\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 736px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 736px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENow we can also specify the output at the required location:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~$ bom generate --image registry.k8s.io/kube-apiserver:v1.31.0 --format json --output /opt/course/18/sbom1.json\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EINFO bom v0.6.0: Generating SPDX Bill of Materials \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EINFO Processing image reference: registry.k8s.io/kube-apiserver:v1.31.0 \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EINFO Reference registry.k8s.io/kube-apiserver:v1.31.0 points to an index \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EINFO Reference image index points to 4 manifests \u0026nbsp;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EINFO Adding image registry.k8s.io/kube-apiserver@sha256:64c595846c29945f619a1c3d420a8bfac87e93cb8d3641e222dd9ac412284001 (amd64/linux) \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~$ vim /opt/course/18/sbom1.json\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 276px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 276px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks8930:/opt/course/18/sbom1.json\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E{\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022SPDXID\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022SPDXRef-DOCUMENT\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022name\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022SBOM-SPDX-4b2df9c5-0526-471a-88d4-72cd41408f6e\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022spdxVersion\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022SPDX-2.3\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022creationInfo\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  \u0022created\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u00222024-09-10T16:27:49Z\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  \u0022creators\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: [\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022Tool\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ebom-v0.6.0\u003Cspan class=\u0022cm-string\u0022\u003E\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E],\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  \u0022licenseListVersion\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u00223.21\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E},\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022dataLicense\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022CC0-1.0\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022documentNamespace\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022https://spdx.org/spdxdocs/k8s-releng-bom-5389c436-97e9-448c-95b0-bceaa602b4c0\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022documentDescribes\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: [\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022SPDXRef-Package-sha256-470179274deb9dc3a81df55cfc24823ce153147d4ebf2ed649a4f271f51eaddf\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E],\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022packages\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: [\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E{\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 440px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 440px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EUsing \u003C/span\u003E\u003Ccode\u003Ebom document\u003C/code\u003E\u003Cspan\u003E it\u0026#39;s for example possible to visualize SBOMs as well as query them for information, could become handy!\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-2-create-sbom-with-trivy\u0027\u003E\u003Cspan\u003EStep 2: Create SBOM with Trivy\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ETrivy the security scanner can also create and work with SBOMs. The usage is similar to scanning images for vulnerabilities, which would be:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~$ trivy image registry.k8s.io/kube-controller-manager:v1.31.0\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:38:31Z \u0026nbsp;  INFO \u0026nbsp;  Need to update DB\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:38:31Z \u0026nbsp;  INFO \u0026nbsp;  Downloading DB... \u0026nbsp; \u0026nbsp; \u0026nbsp; repository=\u0022ghcr.io/aquasecurity/trivy-db:2\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E52.89 MiB / 52.89 MiB [---------------------------------------------------------------------------------------------------------------------] 100.00% 8.89 MiB p/s 6.1s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:38:37Z \u0026nbsp;  INFO \u0026nbsp;  Vulnerability scanning is enabled\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:38:37Z \u0026nbsp;  INFO \u0026nbsp;  Secret scanning is enabled\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:38:37Z \u0026nbsp;  INFO \u0026nbsp;  If your scanning is slow, please try \u0027--scanners vuln\u0027 to disable secret scanning\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:38:37Z \u0026nbsp;  INFO \u0026nbsp;  Please see also https://aquasecurity.github.io/trivy/v0.51/docs/scanner/secret/#recommendation for faster secret detection\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:38:41Z \u0026nbsp;  INFO \u0026nbsp;  Detected OS \u0026nbsp; \u0026nbsp; family=\u0022debian\u0022 version=\u002212.5\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:38:41Z \u0026nbsp;  INFO \u0026nbsp;  [debian] Detecting vulnerabilities... \u0026nbsp; os_version=\u002212\u0022 pkg_num=3\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:38:41Z \u0026nbsp;  INFO \u0026nbsp;  Number of language-specific files \u0026nbsp; \u0026nbsp; \u0026nbsp; num=2\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:38:41Z \u0026nbsp;  INFO \u0026nbsp;  [gobinary] Detecting vulnerabilities...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eregistry.k8s.io/kube-controller-manager:v1.31.0 (debian 12.5)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ETotal: 0 (UNKNOWN: 0, LOW: 0, MEDIUM: 0, HIGH: 0, CRITICAL: 0)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 529px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 529px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EHere we can specify an output file and format:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~$ trivy image --help | grep format\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  $ trivy image --format json --output result.json alpine:3.15\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  # Generate a report in the CycloneDX format\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  $ trivy image --format cyclonedx --output result.cdx alpine:3.15\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  -f, --format string \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  format (table,json,template,sarif,cyclonedx,spdx,spdx-json,github,cosign-vuln) (default \u0022table\u0022)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~$ trivy image --format cyclonedx --output /opt/course/18/sbom2.json registry.k8s.io/kube-controller-manager:v1.31.0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T16:20:21Z \u0026nbsp;  INFO \u0026nbsp;  \u0022--format cyclonedx\u0022 disables security scanning. Specify \u0022--scanners vuln\u0022 explicitly if you want to include vulnerabilities in the CycloneDX report.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T16:20:24Z \u0026nbsp;  INFO \u0026nbsp;  Detected OS \u0026nbsp; \u0026nbsp; family=\u0022debian\u0022 version=\u002212.5\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T16:20:24Z \u0026nbsp;  INFO \u0026nbsp;  Number of language-specific files \u0026nbsp; \u0026nbsp; \u0026nbsp; num=2\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecandidate@cks8930:~$ vim /opt/course/18/sbom2.json\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 391px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 391px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks8930:/opt/course/18/sbom2.json\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E{\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022$schema\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022http://cyclonedx.org/schema/bom-1.5.schema.json\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022bomFormat\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022CycloneDX\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022specVersion\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u00221.5\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022serialNumber\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022urn:uuid:70b535ca-0033-47aa-8648-27095d982eca\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022version\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E1\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022metadata\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  \u0022timestamp\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u00222024-09-10T16:20:24+00:00\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  \u0022tools\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022components\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: [\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E{\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022type\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022application\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022group\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022aquasecurity\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022name\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022trivy\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022version\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u00220.51.2\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E}\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E]\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E},\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 400px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 400px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-3-scan-sbom-with-trivy\u0027\u003E\u003Cspan\u003EStep 3: Scan SBOM with Trivy\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EWith Trivy we can also scan SBOM documents instead of images directly, we do this with the provided file:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~$ trivy sbom /opt/course/18/sbom_check.json\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:50:05Z \u0026nbsp;  INFO \u0026nbsp;  Vulnerability scanning is enabled\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:50:05Z \u0026nbsp;  INFO \u0026nbsp;  Detected SBOM format \u0026nbsp;  format=\u0022spdx-json\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:50:06Z \u0026nbsp;  INFO \u0026nbsp;  Detected OS \u0026nbsp; \u0026nbsp; family=\u0022debian\u0022 version=\u002211.8\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:50:06Z \u0026nbsp;  INFO \u0026nbsp;  [debian] Detecting vulnerabilities... \u0026nbsp; os_version=\u002211\u0022 pkg_num=3\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:50:06Z \u0026nbsp;  INFO \u0026nbsp;  Number of language-specific files \u0026nbsp; \u0026nbsp; \u0026nbsp; num=6\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:50:06Z \u0026nbsp;  INFO \u0026nbsp;  [gobinary] Detecting vulnerabilities...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E/opt/course/18/sbom_check.json (debian 11.8)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ETotal: 0 (UNKNOWN: 0, LOW: 0, MEDIUM: 0, HIGH: 0, CRITICAL: 0)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E (gobinary)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ETotal: 14 (UNKNOWN: 0, LOW: 0, MEDIUM: 11, HIGH: 2, CRITICAL: 1)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E┌────────────────────────────┬────────────────┬──────────┬────────┬───────────────────\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E│ \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  Library \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; │ Vulnerability  │ Severity │ Status │ Installed Version\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E├────────────────────────────┼────────────────┼──────────┼────────┼───────────────────\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E│ golang.org/x/net \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; │ CVE-2023-45288 │ MEDIUM \u0026nbsp; │ fixed  │ v0.17.0 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 529px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 529px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EBy default Trivy uses a human readable format, but we can change it to Json:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~$ trivy sbom --format json /opt/course/18/sbom_check.json\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:53:31Z \u0026nbsp;  INFO \u0026nbsp;  Vulnerability scanning is enabled\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:53:31Z \u0026nbsp;  INFO \u0026nbsp;  Detected SBOM format \u0026nbsp;  format=\u0022spdx-json\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:53:31Z \u0026nbsp;  INFO \u0026nbsp;  Detected OS \u0026nbsp; \u0026nbsp; family=\u0022debian\u0022 version=\u002211.8\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:53:31Z \u0026nbsp;  INFO \u0026nbsp;  [debian] Detecting vulnerabilities... \u0026nbsp; os_version=\u002211\u0022 pkg_num=3\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:53:31Z \u0026nbsp;  INFO \u0026nbsp;  Number of language-specific files \u0026nbsp; \u0026nbsp; \u0026nbsp; num=6\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T15:53:31Z \u0026nbsp;  INFO \u0026nbsp;  [gobinary] Detecting vulnerabilities...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E{\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  \u0022SchemaVersion\u0022: 2,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  \u0022CreatedAt\u0022: \u00222024-09-10T15:53:32.036341847Z\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  \u0022ArtifactName\u0022: \u0022/opt/course/18/sbom_check.json\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  \u0022ArtifactType\u0022: \u0022spdx\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  \u0022Metadata\u0022: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  \u0022OS\u0022: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022Family\u0022: \u0022debian\u0022,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022Name\u0022: \u002211.8\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 437px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 437px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAbove we can see the \u003C/span\u003E\u003Ccode\u003EArtifactName\u003C/code\u003E\u003Cspan\u003E used for the report. Finally we export it to the required location:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~$ trivy sbom --format json --output /opt/course/18/sbom_check_result.json /opt/course/18/sbom_check.json\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T16:50:56Z \u0026nbsp;  INFO \u0026nbsp;  Need to update DB\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T16:50:56Z \u0026nbsp;  INFO \u0026nbsp;  Downloading DB... \u0026nbsp; \u0026nbsp; \u0026nbsp; repository=\u0022ghcr.io/aquasecurity/trivy-db:2\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E52.89 MiB / 52.89 MiB [---------------------------------------------------------------------------------------------------------------------] 100.00% 9.90 MiB p/s 5.5s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T16:51:02Z \u0026nbsp;  INFO \u0026nbsp;  Vulnerability scanning is enabled\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T16:51:02Z \u0026nbsp;  INFO \u0026nbsp;  Detected SBOM format \u0026nbsp;  format=\u0022spdx-json\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T16:51:03Z \u0026nbsp;  INFO \u0026nbsp;  Detected OS \u0026nbsp; \u0026nbsp; family=\u0022debian\u0022 version=\u002211.8\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T16:51:03Z \u0026nbsp;  INFO \u0026nbsp;  [debian] Detecting vulnerabilities... \u0026nbsp; os_version=\u002211\u0022 pkg_num=3\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T16:51:03Z \u0026nbsp;  INFO \u0026nbsp;  Number of language-specific files \u0026nbsp; \u0026nbsp; \u0026nbsp; num=6\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-10T16:51:03Z \u0026nbsp;  INFO \u0026nbsp;  [gobinary] Detecting vulnerabilities...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~$ vim /opt/course/18/sbom_check_result.json\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 368px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 368px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks8930:/opt/course/18/sbom_check_result.json\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E{\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022SchemaVersion\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E2\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022CreatedAt\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u00222024-09-10T16:51:03.311963768Z\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022ArtifactName\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022/opt/course/18/sbom_check.json\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022ArtifactType\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022spdx\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022Metadata\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  \u0022OS\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022Family\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022debian\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022Name\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u002211.8\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E},\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  \u0022ImageConfig\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022architecture\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022created\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u00220001-01-01T00:00:00Z\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022os\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022rootfs\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022type\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0022diff_ids\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enull\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E},\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  \u0022config\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {}\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E}\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E},\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  \u0022Results\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: [\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-meta\u0022\u003E{\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 500px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 500px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EDone.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-19-|-immutable-root-filesystem\u0027\u003E\u003Cspan\u003EQuestion 19 | Immutable Root FileSystem\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks7262\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThe \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eimmutable-deployment\u003C/code\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eteam-purple\u003C/code\u003E\u003Cspan\u003E should run immutable, it\u0026#39;s created from file \u003C/span\u003E\u003Ccode\u003E/opt/course/19/immutable-deployment.yaml\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003Cspan\u003E. Even after a successful break-in, it shouldn\u0026#39;t be possible for an attacker to modify the filesystem of the running container.\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EModify the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in a way that no processes inside the container can modify the local filesystem, only \u003C/span\u003E\u003Ccode\u003E/tmp\u003C/code\u003E\u003Cspan\u003E directory should be writeable. Don\u0026#39;t modify the Docker image.\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ESave the updated YAML under \u003C/span\u003E\u003Ccode\u003E/opt/course/19/immutable-deployment-new.yaml\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks7262\u003C/code\u003E\u003Cspan\u003E and update the running \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-19\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003EProcesses in containers can write to the local filesystem by default. This increases the attack surface when a non-malicious process gets hijacked. Preventing applications to write to disk or only allowing to certain directories can mitigate the risk. If there is for example a bug in Nginx which allows an attacker to override any file inside the container, then this only works if the Nginx process itself can write to the filesystem in the first place.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EMaking the root filesystem readonly can be done in the Docker image itself or in a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E declaration.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ELet us first check the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eimmutable-deployment\u003C/code\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eteam-purple\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks7262\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-purple edit deploy -o yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# kubectl -n team-purple edit deploy -o yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eapps/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EDeployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eteam-purple\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eimmutable-deployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eimmutable-deployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  replicas\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E1\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  selector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  matchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eimmutable-deployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  template\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  metadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eimmutable-deployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  spec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  containers\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eimage\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ebusybox\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E1.32.0\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  command\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: [\u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0027sh\u0027\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E \u003Cspan class=\u0022cm-string\u0022\u003E\u0027-c\u0027\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E \u003Cspan class=\u0022cm-string\u0022\u003E\u0027tail -f /dev/null\u0027\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E]\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  imagePullPolicy\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EIfNotPresent\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ebusybox\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  restartPolicy\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EAlways\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 520px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 520px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThe container has write access to the Root File System, as there are no restrictions defined for the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E or containers by an existing SecurityContext. And based on the task we\u0026#39;re not allowed to alter the Docker image.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESo we modify the YAML manifest to include the required changes:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# cp /opt/course/19/immutable-deployment.yaml /opt/course/19/immutable-deployment-new.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# vim /opt/course/19/immutable-deployment-new.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks7262:/opt/course/19/immutable-deployment-new.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eapps/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EDeployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eteam-purple\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eimmutable-deployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eimmutable-deployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  replicas\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E1\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  selector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  matchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eimmutable-deployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  template\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  metadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eimmutable-deployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  spec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  containers\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eimage\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ebusybox\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E1.32.0\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  command\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: [\u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0027sh\u0027\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E \u003Cspan class=\u0022cm-string\u0022\u003E\u0027-c\u0027\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E,\u003C/span\u003E \u003Cspan class=\u0022cm-string\u0022\u003E\u0027tail -f /dev/null\u0027\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E]\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  imagePullPolicy\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EIfNotPresent\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ebusybox\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  securityContext\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  readOnlyRootFilesystem\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Etrue \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  volumeMounts\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EmountPath\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/tmp \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Etemp-vol\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  volumes\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ename\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Etemp-vol\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  emptyDir\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: {}\u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# add\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  restartPolicy\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EAlways\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 640px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 640px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ESecurityContexts can be set on \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E or container level, here the latter was asked. Enforcing \u003C/span\u003E\u003Ccode\u003EreadOnlyRootFilesystem: true\u003C/code\u003E\u003Cspan\u003E will render the root filesystem readonly. We can then allow some directories to be writable by using an emptyDir volume.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EOnce the changes are made, let us update the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k delete -f /opt/course/19/immutable-deployment-new.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edeployment.apps \u0022immutable-deployment\u0022 deleted\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k create -f /opt/course/19/immutable-deployment-new.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edeployment.apps/immutable-deployment created\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe can verify if the required changes are propagated:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-purple exec immutable-deployment-5f4865fbf-7ckkj -- touch /abc.txt\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etouch: /abc.txt: Read-only file system\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecommand terminated with exit code 1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-purple exec immutable-deployment-5f4865fbf-7ckkj -- touch /var/abc.txt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etouch: /var/abc.txt: Read-only file system\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecommand terminated with exit code 1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-purple exec immutable-deployment-5f4865fbf-7ckkj -- touch /etc/abc.txt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etouch: /etc/abc.txt: Read-only file system\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecommand terminated with exit code 1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-purple exec immutable-deployment-5f4865fbf-7ckkj -- touch /tmp/abc.txt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks7262:~# k -n team-purple exec immutable-deployment-5f4865fbf-7ckkj -- ls /tmp\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eabc.txt\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 483px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 483px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThe \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployment\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E has been updated so that the container\u0026#39;s file system is read-only, and the updated YAML has been placed under the required location. Sweet!\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-20-|-update-kubernetes\u0027\u003E\u003Cspan\u003EQuestion 20 | Update Kubernetes\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks8930\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThe cluster is running Kubernetes \u003C/span\u003E\u003Ccode\u003E1.30.5\u003C/code\u003E\u003Cspan\u003E, update it to \u003C/span\u003E\u003Ccode\u003E1.31.1\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EUse \u003C/span\u003E\u003Ccode\u003Eapt\u003C/code\u003E\u003Cspan\u003E package manager and \u003C/span\u003E\u003Ccode\u003Ekubeadm\u003C/code\u003E\u003Cspan\u003E for this.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EUse \u003C/span\u003E\u003Ccode\u003Essh cks8930-node1\u003C/code\u003E\u003Cspan\u003E from \u003C/span\u003E\u003Ccode\u003Ecks8930\u003C/code\u003E\u003Cspan\u003E to connect to the worker node.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Use \u003C/span\u003E\u003Ccode\u003Esudo -i\u003C/code\u003E\u003Cspan\u003E to become root which may be required for this question\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-20\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003ELet\u0026#39;s have a look at the current versions:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks8930\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# k get node\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  STATUS \u0026nbsp; ROLES \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; AGE \u0026nbsp; VERSION\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks8930 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Ready \u0026nbsp;  control-plane \u0026nbsp; 12h \u0026nbsp; v1.30.5\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks8930-node1 \u0026nbsp; Ready \u0026nbsp;  \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  12h \u0026nbsp; v1.30.5\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 138px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 138px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe\u0026#39;re logged via ssh into the control plane.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027control-plane-components\u0027\u003E\u003Cspan\u003EControl Plane Components\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EFirst we should update the control plane components running on the controlplane node, so we drain it:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# k drain cks8930 --ignore-daemonsets\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Enode/cks8930 cordoned\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EWarning: ignoring DaemonSet-managed Pods: kube-system/kube-proxy-r4w4r, kube-system/weave-net-kg2nx\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Enode/cks8930 drained\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENext we check versions:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# sudo -i\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# kubelet --version\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EKubernetes v1.30.5\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# kubeadm version\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubeadm version: \u0026amp;version.Info{Major:\u00221\u0022, Minor:\u002231\u0022, GitVersion:\u0022v1.31.1\u0022, GitCommit:\u0022948afe5ca072329a73c8e79ed5938717a5cb3d21\u0022, GitTreeState:\u0022clean\u0022, BuildDate:\u00222024-09-11T21:26:49Z\u0022, GoVersion:\u0022go1.22.6\u0022, Compiler:\u0022gc\u0022, Platform:\u0022linux/amd64\u0022}\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 230px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 230px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe see above that \u003C/span\u003E\u003Ccode\u003Ekubeadm\u003C/code\u003E\u003Cspan\u003E is already installed in the required version. Otherwise we would need to install it:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# not necessary because here kubeadm is already installed in correct version\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eapt-mark unhold kubeadm\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eapt-mark hold kubectl kubelet\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eapt install \u003Cspan class=\u0022cm-def\u0022\u003Ekubeadm\u003C/span\u003E\u003Cspan class=\u0022cm-operator\u0022\u003E=\u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E1\u003C/span\u003E.31.1-1.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eapt-mark hold kubeadm\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ECheck what kubeadm has available as an upgrade plan:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# kubeadm upgrade plan\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[preflight] Running pre-flight checks.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/config] Reading configuration from the cluster...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/config] FYI: You can look at this config file with \u0027kubectl -n kube-system get cm kubeadm-config -o yaml\u0027\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Running cluster health checks\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Fetching available versions to upgrade to\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/versions] Cluster version: 1.30.5\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/versions] kubeadm version: v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/versions] Target version: v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/versions] Latest version in the v1.30 series: v1.30.5\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EComponents that must be upgraded manually after you have upgraded the control plane with \u0027kubeadm upgrade apply\u0027:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECOMPONENT \u0026nbsp; NODE \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  CURRENT \u0026nbsp; TARGET\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubelet \u0026nbsp; \u0026nbsp; cks8930 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; v1.30.5 \u0026nbsp; v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubelet \u0026nbsp; \u0026nbsp; cks8930-node1 \u0026nbsp; v1.30.5 \u0026nbsp; v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EUpgrade to the latest stable version:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECOMPONENT \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; NODE \u0026nbsp; \u0026nbsp;  CURRENT \u0026nbsp;  TARGET\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekube-apiserver \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  cks8930 \u0026nbsp; v1.30.5 \u0026nbsp;  v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekube-controller-manager \u0026nbsp; cks8930 \u0026nbsp; v1.30.5 \u0026nbsp;  v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekube-scheduler \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  cks8930 \u0026nbsp; v1.30.5 \u0026nbsp;  v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekube-proxy \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  1.30.5 \u0026nbsp; \u0026nbsp; v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECoreDNS \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; v1.11.3 \u0026nbsp;  v1.11.3\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eetcd \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  cks8930 \u0026nbsp; 3.5.15-0 \u0026nbsp; 3.5.15-0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EYou can now apply the upgrade by executing the following command:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  kubeadm upgrade apply v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E_____________________________________________________________________\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EThe table below shows the current state of component configs as understood by this version of kubeadm.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EConfigs that have a \u0022yes\u0022 mark in the \u0022MANUAL UPGRADE REQUIRED\u0022 column require manual config upgrade or\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eresetting to kubeadm defaults before a successful upgrade can be performed. The version to manually\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eupgrade to is denoted in the \u0022PREFERRED VERSION\u0022 column.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EAPI GROUP \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; CURRENT VERSION \u0026nbsp; PREFERRED VERSION \u0026nbsp; MANUAL UPGRADE REQUIRED\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubeproxy.config.k8s.io \u0026nbsp; v1alpha1 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  v1alpha1 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  no\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubelet.config.k8s.io \u0026nbsp; \u0026nbsp; v1beta1 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; v1beta1 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; no\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E_____________________________________________________________________\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 1081px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 1081px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAnd we apply to the required version:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# kubeadm upgrade apply v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[preflight] Running pre-flight checks.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/config] Reading configuration from the cluster...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/config] FYI: You can look at this config file with \u0027kubectl -n kube-system get cm kubeadm-config -o yaml\u0027\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Running cluster health checks\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/version] You have chosen to change the cluster version to \u0022v1.31.1\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/versions] Cluster version: v1.30.5\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/versions] kubeadm version: v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Are you sure you want to proceed? [y/N]: y\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/prepull] Pulling images required for setting up a Kubernetes cluster\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/prepull] This might take a minute or two, depending on the speed of your internet connection\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/prepull] You can also perform this action beforehand using \u0027kubeadm config images pull\u0027\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/successful] SUCCESS! Your cluster was upgraded to \u0022v1.31.1\u0022. Enjoy!\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/kubelet] Now that your control plane is upgraded, please proceed with upgrading your kubelets if you haven\u0027t already done so.\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 483px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 483px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENext we can check if our required version was installed correctly:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# kubeadm upgrade plan\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[preflight] Running pre-flight checks.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/config] Reading configuration from the cluster...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/config] FYI: You can look at this config file with \u0027kubectl -n kube-system get cm kubeadm-config -o yaml\u0027\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Running cluster health checks\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Fetching available versions to upgrade to\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/versions] Cluster version: 1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/versions] kubeadm version: v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/versions] Target version: v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade/versions] Latest version in the v1.31 series: v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 253px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 253px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027control-plane-kubelet-and-kubectl\u0027\u003E\u003Cspan\u003EControl Plane kubelet and kubectl\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ENow we have to upgrade \u003C/span\u003E\u003Ccode\u003Ekubelet\u003C/code\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003Ekubectl\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# apt update\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EHit:1 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.30/deb  InRelease\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EHit:2 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.31/deb  InRelease\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EReading package lists... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EBuilding dependency tree... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EReading state information... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2 packages can be upgraded. Run \u0027apt list --upgradable\u0027 to see them.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# apt show kubelet | grep 1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EVersion: 1.31.1-1.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# apt install kubelet=1.31.1-1.1 kubectl=1.31.1-1.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EReading package lists... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EBuilding dependency tree... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EReading state information... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EThe following package was automatically installed and is no longer required:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  squashfs-tools\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EUse \u0027apt autoremove\u0027 to remove it.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EThe following packages will be upgraded:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  kubectl kubelet\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENeed to get 26.4 MB of archives.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EAfter this operation, 18.3 MB disk space will be freed.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EGet:1 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.31/deb  kubectl 1.31.1-1.1 [11.2 MB]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EGet:2 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.31/deb  kubelet 1.31.1-1.1 [15.2 MB]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EFetched 26.4 MB in 1s (32.3 MB/s) \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E(Reading database ... 72952 files and directories currently installed.)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPreparing to unpack .../kubectl_1.31.1-1.1_amd64.deb ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EUnpacking kubectl (1.31.1-1.1) over (1.30.5-1.1) ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPreparing to unpack .../kubelet_1.31.1-1.1_amd64.deb ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EUnpacking kubelet (1.31.1-1.1) over (1.30.5-1.1) ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESetting up kubectl (1.31.1-1.1) ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESetting up kubelet (1.31.1-1.1) ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EScanning processes... \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EScanning candidates... \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EScanning linux images... \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ERunning kernel seems to be up-to-date.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ERestarting services...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E systemctl restart kubelet.service\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENo containers need to be restarted.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENo user sessions are running outdated binaries.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENo VM guests are running outdated hypervisor (qemu) binaries on this host.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# apt-mark hold kubelet kubectl\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubelet set on hold.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubectl set on hold.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# service kubelet restart\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# service kubelet status\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E● kubelet.service - kubelet: The Kubernetes Node Agent\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; Loaded: loaded (/usr/lib/systemd/system/kubelet.service; enabled; preset: enabled)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  Drop-In: /usr/lib/systemd/system/kubelet.service.d\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; └─10-kubeadm.conf\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; Active: active (running) since Fri 2024-10-04 09:41:20 UTC; 3s ago\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; Docs: https://kubernetes.io/docs/\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; Main PID: 16130 (kubelet)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;  Tasks: 11 (limit: 1317)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; Memory: 71.2M (peak: 71.5M)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  CPU: 1.038s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; CGroup: /system.slice/kubelet.service\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; └─16130 /usr/bin/kubelet --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# k get node\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  STATUS \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ROLES \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; AGE \u0026nbsp; VERSION\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks8930 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Ready,SchedulingDisabled \u0026nbsp; control-plane \u0026nbsp; 12h \u0026nbsp; v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks8930-node1 \u0026nbsp; Ready \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  12h \u0026nbsp; v1.30.5\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 1909px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 1909px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EDone, only uncordon missing:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# k uncordon cks8930\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Enode/cks8930 uncordoned\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027data-plane\u0027\u003E\u003Cspan\u003EData Plane\u003C/span\u003E\u003C/h6\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# k get node\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  STATUS \u0026nbsp; ROLES \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; AGE \u0026nbsp; VERSION\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks8930 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Ready \u0026nbsp;  control-plane \u0026nbsp; 12h \u0026nbsp; v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks8930-node1 \u0026nbsp; Ready \u0026nbsp;  \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  12h \u0026nbsp; v1.30.5\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EOur data plane consist of one single worker node, so let\u0026#39;s update it. First thing is we should drain it:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# k drain cks8930-node1 --ignore-daemonsets\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Enode/cks8930-node1 cordoned\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EWarning: ignoring DaemonSet-managed Pods: kube-system/kube-proxy-8h79n, kube-system/weave-net-z9vhk\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eevicting pod team-blue/pto-webform-666f748759-nvbbd\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eevicting pod default/classification-bot-7d458d4559-lhsp8\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eevicting pod team-blue/pto-webform-666f748759-45hnl\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epod/pto-webform-666f748759-45hnl evicted\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epod/pto-webform-666f748759-nvbbd evicted\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epod/classification-bot-7d458d4559-lhsp8 evicted\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Enode/cks8930-node1 drained\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 253px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 253px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENext we ssh into it and upgrade kubeadm to the wanted version, or check if already done:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# ssh cks8930-node1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# apt update\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EHit:1 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.30/deb  InRelease\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EHit:2 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.31/deb  InRelease\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EReading package lists... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EBuilding dependency tree... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EReading state information... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E3 packages can be upgraded. Run \u0027apt list --upgradable\u0027 to see them.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# kubeadm version\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubeadm version: \u0026amp;version.Info{Major:\u00221\u0022, Minor:\u002230\u0022, GitVersion:\u0022v1.30.5\u0022, GitCommit:\u002274e84a90c725047b1328ff3d589fedb1cb7a120e\u0022, GitTreeState:\u0022clean\u0022, BuildDate:\u00222024-09-12T00:17:07Z\u0022, GoVersion:\u0022go1.22.6\u0022, Compiler:\u0022gc\u0022, Platform:\u0022linux/amd64\u0022}\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# apt-mark unhold kubeadm\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubeadm was already not hold.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# apt-mark hold kubectl kubelet\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubectl set on hold.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubelet set on hold.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# apt install kubeadm=1.31.1-1.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EReading package lists... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EBuilding dependency tree... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EReading state information... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EThe following package was automatically installed and is no longer required:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  squashfs-tools\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EUse \u0027apt autoremove\u0027 to remove it.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EThe following packages will be upgraded:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  kubeadm\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E1 upgraded, 0 newly installed, 0 to remove and 2 not upgraded.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENeed to get 11.4 MB of archives.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EAfter this operation, 8032 kB of additional disk space will be used.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EGet:1 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.31/deb  kubeadm 1.31.1-1.1 [11.4 MB]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EFetched 11.4 MB in 0s (23.7 MB/s)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E(Reading database ... 72622 files and directories currently installed.)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPreparing to unpack .../kubeadm_1.31.1-1.1_amd64.deb ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EUnpacking kubeadm (1.31.1-1.1) over (1.30.5-1.1) ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESetting up kubeadm (1.31.1-1.1) ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EScanning processes... \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EScanning linux images... \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ERunning kernel seems to be up-to-date.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENo services need to be restarted.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENo containers need to be restarted.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENo user sessions are running outdated binaries.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENo VM guests are running outdated hypervisor (qemu) binaries on this host.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# apt-mark hold kubeadm\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubeadm set on hold.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# kubeadm upgrade node\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Reading configuration from the cluster...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] FYI: You can look at this config file with \u0027kubectl -n kube-system get cm kubeadm-config -o yaml\u0027\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[preflight] Running pre-flight checks\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[preflight] Skipping prepull. Not a control plane node.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Skipping phase. Not a control plane node.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Skipping phase. Not a control plane node.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Backing up kubelet config file to /etc/kubernetes/tmp/kubeadm-kubelet-config68138050/config.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[kubelet-start] Writing kubelet configuration to file \u0022/var/lib/kubelet/config.yaml\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] The configuration for this node was successfully updated!\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E[upgrade] Now you should go ahead and upgrade the kubelet package using your package manager.\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 1771px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 1771px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENow we follow what kubeadm told us in the last line and upgrade kubelet (and kubectl):\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# apt-mark unhold kubectl kubelet\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECanceled hold on kubectl.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECanceled hold on kubelet.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# apt install kubelet=1.31.1-1.1 kubectl=1.31.1-1.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EReading package lists... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EBuilding dependency tree... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EReading state information... Done\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EThe following package was automatically installed and is no longer required:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  squashfs-tools\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EUse \u0027apt autoremove\u0027 to remove it.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EThe following packages will be upgraded:\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  kubectl kubelet\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENeed to get 26.4 MB of archives.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EAfter this operation, 18.3 MB disk space will be freed.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EGet:1 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.31/deb  kubectl 1.31.1-1.1 [11.2 MB]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EGet:2 https://prod-cdn.packages.k8s.io/repositories/isv:/kubernetes:/core:/stable:/v1.31/deb  kubelet 1.31.1-1.1 [15.2 MB]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EFetched 26.4 MB in 1s (32.8 MB/s) \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E(Reading database ... 72622 files and directories currently installed.)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPreparing to unpack .../kubectl_1.31.1-1.1_amd64.deb ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EUnpacking kubectl (1.31.1-1.1) over (1.30.5-1.1) ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPreparing to unpack .../kubelet_1.31.1-1.1_amd64.deb ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EUnpacking kubelet (1.31.1-1.1) over (1.30.5-1.1) ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESetting up kubectl (1.31.1-1.1) ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESetting up kubelet (1.31.1-1.1) ...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EScanning processes... \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EScanning candidates... \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EScanning linux images... \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ERunning kernel seems to be up-to-date.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ERestarting services...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E systemctl restart kubelet.service\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENo containers need to be restarted.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENo user sessions are running outdated binaries.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENo VM guests are running outdated hypervisor (qemu) binaries on this host.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# service kubelet restart\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# service kubelet status\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E● kubelet.service - kubelet: The Kubernetes Node Agent\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; Loaded: loaded (/usr/lib/systemd/system/kubelet.service; enabled; preset: enabled)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  Drop-In: /usr/lib/systemd/system/kubelet.service.d\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; └─10-kubeadm.conf\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; Active: active (running) since Fri 2024-10-04 09:45:40 UTC; 2s ago\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; Docs: https://kubernetes.io/docs/\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; Main PID: 13370 (kubelet)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;  Tasks: 9 (limit: 1113)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; Memory: 20.2M (peak: 20.4M)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  CPU: 577ms\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; CGroup: /system.slice/kubelet.service\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; └─13370 /usr/bin/kubelet --bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/\u0026gt;\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 1472px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 1472px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ELooking good, what does the node status say?\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# k get node\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  STATUS \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; ROLES \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; AGE \u0026nbsp; VERSION\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks8930 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Ready \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  control-plane \u0026nbsp; 12h \u0026nbsp; v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks8930-node1 \u0026nbsp; Ready,SchedulingDisabled \u0026nbsp; \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  12h \u0026nbsp; v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EBeautiful, let\u0026#39;s make it schedulable again:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# k uncordon cks8930-node1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Enode/cks8930-node1 uncordoned\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# k get node\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  STATUS \u0026nbsp; ROLES \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; AGE \u0026nbsp; VERSION\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks8930 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Ready \u0026nbsp;  control-plane \u0026nbsp; 12h \u0026nbsp; v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks8930-node1 \u0026nbsp; Ready \u0026nbsp;  \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  12h \u0026nbsp; v1.31.1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 161px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 161px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe\u0026#39;re up to date.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-21-|-image-vulnerability-scanning\u0027\u003E\u003Cspan\u003EQuestion 21 | Image Vulnerability Scanning\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks8930\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThe Vulnerability Scanner \u003C/span\u003E\u003Ccode\u003Etrivy\u003C/code\u003E\u003Cspan\u003E is installed on your main terminal. Use it to scan the following images for known CVEs:\u003C/span\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Enginx:1.16.1-alpine\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Ek8s.gcr.io/kube-apiserver:v1.18.0\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Ek8s.gcr.io/kube-controller-manager:v1.18.0\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Edocker.io/weaveworks/weave-kube:2.7.0\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003Cspan\u003EWrite all images that don\u0026#39;t contain the vulnerabilities \u003C/span\u003E\u003Ccode\u003ECVE-2020-10878\u003C/code\u003E\u003Cspan\u003E or \u003C/span\u003E\u003Ccode\u003ECVE-2020-1967\u003C/code\u003E\u003Cspan\u003E into \u003C/span\u003E\u003Ccode\u003E/opt/course/21/good-images\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks8930\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-21\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThe tool \u003C/span\u003E\u003Ccode\u003Etrivy\u003C/code\u003E\u003Cspan\u003E is very simple to use, it compares images against public databases.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks8930\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# trivy image nginx:1.16.1-alpine\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-08T13:50:52Z \u0026nbsp;  INFO \u0026nbsp;  [db] Need to update DB\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-08T13:50:52Z \u0026nbsp;  INFO \u0026nbsp;  [db] Downloading DB...  repository=\u0022ghcr.io/aquasecurity/trivy-db:2\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E52.98 MiB / 52.98 MiB [----------------------------------------------------------------------------------------------------------------------] 100.00% 3.96 MiB p/s 14s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-08T13:51:07Z \u0026nbsp;  INFO \u0026nbsp;  [vuln] Vulnerability scanning is enabled\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-08T13:51:07Z \u0026nbsp;  INFO \u0026nbsp;  [secret] Secret scanning is enabled\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-08T13:51:07Z \u0026nbsp;  INFO \u0026nbsp;  [secret] If your scanning is slow, please try \u0027--scanners vuln\u0027 to disable secret scanning\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-08T13:51:07Z \u0026nbsp;  INFO \u0026nbsp;  [secret] Please see also https://aquasecurity.github.io/trivy/v0.55/docs/scanner/secret#recommendation for faster secret detection\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-08T13:51:13Z \u0026nbsp;  INFO \u0026nbsp;  Detected OS \u0026nbsp; \u0026nbsp; family=\u0022alpine\u0022 version=\u00223.10.4\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-08T13:51:13Z \u0026nbsp;  INFO \u0026nbsp;  [alpine] Detecting vulnerabilities... \u0026nbsp; os_version=\u00223.10\u0022 repository=\u00223.10\u0022 pkg_num=37\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-08T13:51:13Z \u0026nbsp;  INFO \u0026nbsp;  Number of language-specific files \u0026nbsp; \u0026nbsp; \u0026nbsp; num=0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-08T13:51:13Z \u0026nbsp;  WARN \u0026nbsp;  This OS version is no longer supported by the distribution \u0026nbsp; \u0026nbsp;  family=\u0022alpine\u0022 version=\u00223.10.4\u0022\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2024-09-08T13:51:13Z \u0026nbsp;  WARN \u0026nbsp;  The vulnerability detection may be insufficient because security updates are not provided\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Enginx:1.16.1-alpine (alpine 3.10.4)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ETotal: 31 (UNKNOWN: 0, LOW: 2, MEDIUM: 14, HIGH: 14, CRITICAL: 1)\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 644px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 644px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ETo solve the task we can run:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# trivy image nginx:1.16.1-alpine | grep -E \u0027CVE-2020-10878|CVE-2020-1967\u0027\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E│ libcrypto1.1  │ CVE-2020-1967  │ HIGH \u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E│ libssl1.1 \u0026nbsp; \u0026nbsp; │ CVE-2020-1967  │ \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# trivy image k8s.gcr.io/kube-apiserver:v1.18.0 | grep -E \u0027CVE-2020-10878|CVE-2020-1967\u0027\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E│ \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  │ CVE-2020-10878\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# trivy image k8s.gcr.io/kube-controller-manager:v1.18.0 | grep -E \u0027CVE-2020-10878|CVE-2020-1967\u0027\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E│ \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  │ CVE-2020-10878\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# trivy image docker.io/weaveworks/weave-kube:2.7.0 | grep -E \u0027CVE-2020-10878|CVE-2020-1967\u0027\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~#\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 460px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 460px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThe only image without the any of the two CVEs is \u003C/span\u003E\u003Ccode\u003Edocker.io/weaveworks/weave-kube:2.7.0\u003C/code\u003E\u003Cspan\u003E, hence our answer will be:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E# cks8930:/opt/course/21/good-images\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edocker.io/weaveworks/weave-kube:2.7.0\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-22-|-manual-static-security-analysis\u0027\u003E\u003Cspan\u003EQuestion 22 | Manual Static Security Analysis\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks8930\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThe Release Engineering Team has shared some YAML manifests and Dockerfiles with you to review. The files are located under \u003C/span\u003E\u003Ccode\u003E/opt/course/22/files\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EAs a container security expert, you are asked to perform a manual static analysis and find out possible security issues with respect to unwanted credential exposure. Running processes as root is of no concern in this task.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EWrite the filenames which have issues into \u003C/span\u003E\u003Ccode\u003E/opt/course/22/security-issues\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks8930\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E In the Dockerfiles and YAML manifests, assume that the referred files, folders, secrets and volume mounts are present. Disregard syntax or logic errors.\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-22\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003EWe check location  \u003C/span\u003E\u003Ccode\u003E/opt/course/22/files\u003C/code\u003E\u003Cspan\u003E and list the files.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks8930\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# ls -la /opt/course/22/files\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 candidate candidate 384 Sep  8 14:05 Dockerfile-go\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 candidate candidate 441 Sep  8 14:05 Dockerfile-mysql\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 candidate candidate 390 Sep  8 14:05 Dockerfile-py\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 candidate candidate 341 Sep  8 14:05 deployment-nginx.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 candidate candidate 723 Sep  8 14:05 deployment-redis.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 candidate candidate 529 Sep  8 14:05 pod-nginx.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 candidate candidate 228 Sep  8 14:05 pv-manual.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 candidate candidate 188 Sep  8 14:05 pvc-manual.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 candidate candidate 211 Sep  8 14:05 sc-local.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E-rw-r--r-- 1 candidate candidate 902 Sep  8 14:05 statefulset-nginx.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 299px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 299px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWe have 3 Dockerfiles and 7 Kubernetes Resource YAML manifests. Next we should go over each to find security issues with the way credentials have been used.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E You should be comfortable with \u003C/span\u003E\u003Ca href=\u0027https://docs.docker.com/develop/develop-images/dockerfile_best-practices\u0027\u003E\u003Cspan\u003EDocker Best Practices\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E and the \u003C/span\u003E\u003Ca href=\u0027https://kubernetes.io/docs/concepts/configuration/overview\u0027\u003E\u003Cspan\u003EKubernetes Configuration Best Practices\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EWhile navigating through the files we might notice:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027number-1\u0027\u003E\u003Cspan\u003ENumber 1\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EFile \u003C/span\u003E\u003Ccode\u003EDockerfile-mysql\u003C/code\u003E\u003Cspan\u003E might look innocent on first look. It copies a file \u003C/span\u003E\u003Ccode\u003Esecret-token\u003C/code\u003E\u003Cspan\u003E over, uses it and deletes it afterwards. But because of the way Docker works, every \u003C/span\u003E\u003Ccode\u003ERUN\u003C/code\u003E\u003Cspan\u003E, \u003C/span\u003E\u003Ccode\u003ECOPY\u003C/code\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003EADD\u003C/code\u003E\u003Cspan\u003E command creates a new layer and every layer is persistet in the image.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThis means even if the file \u003C/span\u003E\u003Ccode\u003Esecret-token\u003C/code\u003E\u003Cspan\u003E get\u0026#39;s deleted in layer Z, it\u0026#39;s still included with the image in layer X and Y. In this case it would be better to use for example variables passed to Docker.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks8930:/opt/course/22/files/Dockerfile-mysql\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EFROM ubuntu\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# Add MySQL configuration\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECOPY my.cnf /etc/mysql/conf.d/my.cnf\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECOPY mysqld_charset.cnf /etc/mysql/conf.d/mysqld_charset.cnf\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ERUN apt-get update \u0026amp;\u0026amp; \\\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  apt-get -yq install mysql-server-5.6 \u0026amp;\u0026amp;\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# Add MySQL scripts\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECOPY import_sql.sh /import_sql.sh\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECOPY run.sh /run.sh\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# Configure credentials\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECOPY secret-token .\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# LAYER X\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ERUN /etc/register.sh ./secret-token\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# LAYER Y\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 class=\u0022cm-tab-wrap-hack\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ERUN rm ./secret-token \u003Cspan class=\u0022cm-comment\u0022\u003E# delete secret token again\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E# LATER Z\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EEXPOSE 3306\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECMD \u003Cspan class=\u0022cm-meta\u0022\u003E[\u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022/run.sh\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E]\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 420px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 420px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ESo we do:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Eecho\u003C/span\u003E Dockerfile-mysql \u0026gt;\u0026gt; /opt/course/22/security-issues\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027number-2\u0027\u003E\u003Cspan\u003ENumber 2\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EThe file  \u003C/span\u003E\u003Ccode\u003Edeployment-redis.yaml\u003C/code\u003E\u003Cspan\u003E is fetching credentials from a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E named \u003C/span\u003E\u003Ccode\u003Emysecret\u003C/code\u003E\u003Cspan\u003E and writes these into environment variables. So far so good, but in the command of the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003Econtainer\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E it\u0026#39;s echoing these which can be directly read by any user having access to the logs.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks8930:/opt/course/22/files/deployment-redis.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eapps/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EDeployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enginx-deployment\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enginx\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  replicas\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E3\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  selector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  matchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enginx\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  template\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  metadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enginx\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  spec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  containers\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ename\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Emycontainer\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  image\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eredis\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  command\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: [\u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022/bin/sh\u0022\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E]\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  args\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022-c\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022echo $SECRET_USERNAME \u0026amp;\u0026amp; echo $SECRET_PASSWORD \u0026amp;\u0026amp; docker-entrypoint.sh\u0022\u003C/span\u003E \u003Cspan class=\u0022cm-comment\u0022\u003E# NOT GOOD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  env\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ename\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ESECRET_USERNAME\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  valueFrom\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  secretKeyRef\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Emysecret\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  key\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eusername\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ename\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ESECRET_PASSWORD\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  valueFrom\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  secretKeyRef\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Emysecret\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  key\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Epassword\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 720px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 720px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ECredentials in logs is never a good idea, hence we do:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Eecho\u003C/span\u003E deployment-redis.yaml \u0026gt;\u0026gt; /opt/course/22/security-issues\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027number-3\u0027\u003E\u003Cspan\u003ENumber 3\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EIn file \u003C/span\u003E\u003Ccode\u003Estatefulset-nginx.yaml\u003C/code\u003E\u003Cspan\u003E, the password is directly exposed in the environment variable definition of the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003Econtainer\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks8930:/opt/course/22/files/statefulset-nginx.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eapps/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EStatefulSet\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eweb\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  serviceName\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022nginx\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  replicas\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E2\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  selector\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  matchLabels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enginx\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  template\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  metadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  labels\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  app\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enginx\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  spec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  containers\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ename\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enginx\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  image\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ek8s.gcr.io/nginx-slim\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E0.8\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  env\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ename\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EUsername\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  value\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EAdministrator\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ename\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EPassword\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  value\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EMyDiReCtP@sSw0rd\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-tab\u0022 role=\u0022presentation\u0022 cm-text=\u0022\t\u0022\u003E  \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# NOT GOOD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  ports\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EcontainerPort\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E80\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eweb\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E..\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 580px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 580px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis should better be injected via a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E. So we do:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Eecho\u003C/span\u003E statefulset-nginx.yaml \u0026gt;\u0026gt; /opt/course/22/security-issues\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# cat /opt/course/22/security-issues\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EDockerfile-mysql\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edeployment-redis.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Estatefulset-nginx.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027question-23-|-imagepolicywebhook\u0027\u003E\u003Cspan\u003EQuestion 23 | ImagePolicyWebhook\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks4024\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ETeam White created an \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EImagePolicyWebhook\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E solution at \u003C/span\u003E\u003Ccode\u003E/opt/course/23/webhook\u003C/code\u003E\u003Cspan\u003E on \u003C/span\u003E\u003Ccode\u003Ecks4024\u003C/code\u003E\u003Cspan\u003E which needs to be enabled for the cluster. There is an existing and working \u003C/span\u003E\u003Ccode\u003Ewebhook-backend\u003C/code\u003E\u003Cspan\u003E \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Eteam-white\u003C/code\u003E\u003Cspan\u003E which will be the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EImagePolicyWebhook\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E backend.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ECreate an \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EAdmissionConfiguration\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E at \u003C/span\u003E\u003Ccode\u003E/opt/course/23/webhook/admission-config.yaml\u003C/code\u003E\u003Cspan\u003E which contains the following \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EImagePolicyWebhook\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E configuration in the same file:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EimagePolicy:\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  kubeConfigFile: /etc/kubernetes/webhook/webhook.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  allowTTL: 10\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  denyTTL: 10\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  retryBackoff: 20\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  defaultAllow: true\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 138px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 138px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EConfigure the apiserver to:\u003C/span\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EMount \u003C/span\u003E\u003Ccode\u003E/opt/course/23/webhook\u003C/code\u003E\u003Cspan\u003E at \u003C/span\u003E\u003Ccode\u003E/etc/kubernetes/webhook\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EUse the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EAdmissionConfiguration\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E at path \u003C/span\u003E\u003Ccode\u003E/etc/kubernetes/webhook/admission-config.yaml\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EEnable the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EImagePolicyWebhook\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E admission plugin\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003Cspan\u003EAs result the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EImagePolicyWebhook\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E backend should prevent container images containing \u003C/span\u003E\u003Ccode\u003Edanger-danger\u003C/code\u003E\u003Cspan\u003E from being used, any other image should still work.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Create a backup of \u003C/span\u003E\u003Ccode\u003E/etc/kubernetes/manifests/kube-apiserver.yaml\u003C/code\u003E\u003Cspan\u003E outside of \u003C/span\u003E\u003Ccode\u003E/etc/kubernetes/manifests\u003C/code\u003E\u003Cspan\u003E so you can revert back in case of issues\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Use \u003C/span\u003E\u003Ccode\u003Esudo -i\u003C/code\u003E\u003Cspan\u003E to become root which may be required for this question\u003C/span\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-23\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThe \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EImagePolicyWebhook\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E is a Kubernetes Admission Controller which allows a backend to make admission decisions. According to the question that backend exists already and is working, let\u0026#39;s have a short look:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks4024\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks4024:~$ k -n team-white get pod,svc,secret\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; READY \u0026nbsp; STATUS \u0026nbsp;  RESTARTS \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epod/webhook-backend-669f74bf8d-2vgnd \u0026nbsp; 1/1 \u0026nbsp; \u0026nbsp; Running \u0026nbsp; 0 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  18s\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  TYPE \u0026nbsp; \u0026nbsp; \u0026nbsp;  CLUSTER-IP \u0026nbsp; \u0026nbsp;  EXTERNAL-IP \u0026nbsp; PORT(S) \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eservice/webhook-backend \u0026nbsp; ClusterIP \u0026nbsp; 10.111.10.111 \u0026nbsp; \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp;  443/TCP \u0026nbsp; 67m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; TYPE \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  DATA \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Esecret/webhook-backend \u0026nbsp; kubernetes.io/tls \u0026nbsp; 2 \u0026nbsp; \u0026nbsp;  59s\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 253px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 253px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThe idea is to let the apiserver know it should contact that \u003C/span\u003E\u003Ccode\u003Ewebhook-backend\u003C/code\u003E\u003Cspan\u003E before any \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E is created and only if it receives a success-response the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E will be created. We can see the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E IP is \u003C/span\u003E\u003Ccode\u003E10.111.10.111\u003C/code\u003E\u003Cspan\u003E and somehow we need to tell that to the apiserver.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks4024:~$ cd /opt/course/23/webhook\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks4024:/opt/course/23/webhook$ ls\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ewebhook-backend.crt  webhook-backend.csr  webhook-backend.key  webhook.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks4024:/opt/course/23/webhook$ vim webhook.yaml \u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 138px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 138px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks4024:/opt/course/23/webhook/webhook.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ev1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eclusters\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ecluster\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  certificate-authority\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/etc/kubernetes/webhook/webhook-backend.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  server\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ehttps\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E//10.111.10.111\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ewebhook\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Econtexts\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Econtext\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  cluster\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ewebhook\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  user\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ewebhook-backend.team-white.svc\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ewebhook\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ecurrent-context\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ewebhook\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EConfig\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eusers\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ename\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ewebhook-backend.team-white.svc\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  user\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  client-certificate\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/etc/kubernetes/pki/apiserver.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  client-key\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/etc/kubernetes/pki/apiserver.key\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 380px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 380px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EHere we see a KubeConfig formatted file which the apiserver will use to contact the \u003C/span\u003E\u003Ccode\u003Ewebhook-backend\u003C/code\u003E\u003Cspan\u003E via specified URL \u003C/span\u003E\u003Ccode\u003Eserver: https://10.111.10.111\u003C/code\u003E\u003Cspan\u003E, which is the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EService\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E IP we noticed earlier. In addition we have a certificate at path \u003C/span\u003E\u003Ccode\u003Ecertificate-authority: /etc/kubernetes/webhook/webhook-backend.crt\u003C/code\u003E\u003Cspan\u003E which is used by the apiserver to communicate with the backend.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-1-7\u0027\u003E\u003Cspan\u003EStep 1\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EWe create the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EAdmissionConfiguration\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E which contains the provided \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EImagePolicyWebhook\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E config in the same file:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks4024:~$ sudo -i\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks4024:~# vim /opt/course/23/webhook/admission-config.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks4024:/opt/course/23/webhook/admission-config.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eapiserver.config.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EAdmissionConfiguration\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eplugins\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ename\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EImagePolicyWebhook\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  configuration\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  imagePolicy\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  kubeConfigFile\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/etc/kubernetes/webhook/webhook.yaml\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  allowTTL\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E10\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  denyTTL\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E10\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  retryBackoff\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-number\u0022\u003E20\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  defaultAllow\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-keyword\u0022\u003Etrue\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 240px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 240px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis should already be the solution for that step. Note that it\u0026#39;s also possible to specify a path inside the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EAdmissionConfiguration\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E pointing to a different file containing the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EImagePolicyWebhook\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eapiserver.config.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EAdmissionConfiguration\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Eplugins\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ename\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EImagePolicyWebhook\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  path\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eimagepolicyconfig.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 100px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 100px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027step-2-7\u0027\u003E\u003Cspan\u003EStep 2\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EWe now register the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EAdmissionConfiguration\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E with the apiserver. And before we do so we should probably create a backup so we can revert back easy:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Create a backup always outside of \u003C/span\u003E\u003Ccode\u003E/etc/kubernetes/manifests\u003C/code\u003E\u003Cspan\u003E so the kubelet won\u0026#39;t try to create the backup file as a static \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks4024:~# cp /etc/kubernetes/manifests/kube-apiserver.yaml ~/s23_kube-apiserver.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks4024:~# vim /etc/kubernetes/manifests/kube-apiserver.yaml\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# cks4024:/etc/kubernetes/manifests/kube-apiserver.yaml\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ev1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EPod\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-apiserver\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-system\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Espec\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  containers\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ecommand\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003Ekube-apiserver\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--advertise-address=192.168.100.11\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--allow-privileged=true\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--authorization-mode=Node,RBAC\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--client-ca-file=/etc/kubernetes/pki/ca.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--enable-admission-plugins=NodeRestriction,ImagePolicyWebhook \u003Cspan class=\u0022cm-comment\u0022\u003E# CHANGE\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--admission-control-config-file=/etc/kubernetes/webhook/admission-config.yaml \u003Cspan class=\u0022cm-comment\u0022\u003E# ADD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--enable-bootstrap-token-auth=true\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--etcd-cafile=/etc/kubernetes/pki/etcd/ca.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--etcd-certfile=/etc/kubernetes/pki/apiserver-etcd-client.crt\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E--etcd-keyfile=/etc/kubernetes/pki/apiserver-etcd-client.key\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  image\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eregistry.k8s.io/kube-apiserver\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003Ev1.30.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ekube-apiserver\u003C/span\u003E\u003C/pre\u003E\u003Cdiv class=\u0022\u0022 style=\u0022position: relative;\u0022\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  volumeMounts\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EmountPath\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/etc/kubernetes/webhook \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E# ADD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ewebhook \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003Cspan class=\u0022cm-comment\u0022\u003E# ADD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  readOnly\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Etrue \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E# ADD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cdiv class=\u0022\u0022 style=\u0022position: relative;\u0022\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EmountPath\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/etc/ssl/certs\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eca-certs\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  readOnly\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-keyword\u0022\u003Etrue\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E \u0026nbsp;  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EmountPath\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/etc/ca-certificates\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eetc-ca-certificates\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  readOnly\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-keyword\u0022\u003Etrue\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  volumes\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EhostPath\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003C/span\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# ADD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  path\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/opt/course/23/webhook \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E# ADD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  type\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EDirectoryOrCreate \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003Cspan class=\u0022cm-comment\u0022\u003E# ADD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Ewebhook \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u003Cspan class=\u0022cm-comment\u0022\u003E# ADD\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EhostPath\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  path\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/etc/ssl/certs\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  type\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EDirectoryOrCreate\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eca-certs\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EhostPath\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  path\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/etc/ca-certificates\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp; \u0026nbsp;  type\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EDirectoryOrCreate\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eetc-ca-certificates\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 1000px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 1000px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EIf there is no existing \u003C/span\u003E\u003Ccode\u003E--enable-admission-plugins\u003C/code\u003E\u003Cspan\u003E argument then we need to create it, otherwise we can expand it as done above.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EWe create a hostPath volume of \u003C/span\u003E\u003Ccode\u003E/opt/course/23/webhook\u003C/code\u003E\u003Cspan\u003E and mount it to \u003C/span\u003E\u003Ccode\u003E/etc/kubernetes/webhook\u003C/code\u003E\u003Cspan\u003E inside the apiserver container. This way we can then reference \u003C/span\u003E\u003Ccode\u003E/etc/kubernetes/webhook/admission-config.yaml\u003C/code\u003E\u003Cspan\u003E using the \u003C/span\u003E\u003Ccode\u003E--admission-control-config-file\u003C/code\u003E\u003Cspan\u003E argument. Also this means that the provided path \u003C/span\u003E\u003Ccode\u003E/etc/kubernetes/webhook/webhook.yaml\u003C/code\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Ccode\u003E/opt/course/23/webhook/admission-config.yaml\u003C/code\u003E\u003Cspan\u003E will work.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EAfter we saved the changes we need to wait for the apiserver container to be restarted, this can take a minute:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks4024:~# watch crictl ps\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027errors\u0027\u003E\u003Cspan\u003EErrors\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EIn case the apiserver doesn\u0026#39;t restart, or gets restarted over and over again, we should check the errors logs in \u003C/span\u003E\u003Ccode\u003E/var/log/pods/\u003C/code\u003E\u003Cspan\u003E to investigate any misconfiguration.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EIf there are no logs available we could also check the kubelet logs in \u003C/span\u003E\u003Ccode\u003E/var/log/syslog\u003C/code\u003E\u003Cspan\u003E or \u003C/span\u003E\u003Ccode\u003Ejournalctl -u kubelet\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EIf the apiserver comes back up and there are no errors but the webhook just doesn\u0026#39;t work then it could be a connection issue. Because the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EImagePolicyWebhook\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E config has setting \u003C/span\u003E\u003Ccode\u003EdefaultAllow: true\u003C/code\u003E\u003Cspan\u003E, a connection issue between apiserver and \u003C/span\u003E\u003Ccode\u003Ewebhook-backend\u003C/code\u003E\u003Cspan\u003E would allow all \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E. We should see information about this in the apiserver logs or \u003C/span\u003E\u003Ccode\u003Ekubectl get events -A\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027result\u0027\u003E\u003Cspan\u003EResult\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ENow we can simply try to create a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E with a forbidden image and one with a still allowed one:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks4024:~# k run test1 --image=something/danger-danger\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EError from server (Forbidden): pods \u0022test1\u0022 is forbidden: image policy webhook backend denied one or more images: Images containing danger-danger are not allowed\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks4024:~# k run test2 --image=nginx:alpine\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epod/test2 created\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks4024:~# k get pod\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  READY \u0026nbsp; STATUS \u0026nbsp;  RESTARTS \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etest2 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; 1/1 \u0026nbsp; \u0026nbsp; Running \u0026nbsp; 0 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  7s\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 230px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 230px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThe \u003C/span\u003E\u003Ccode\u003Ewebhook-backend\u003C/code\u003E\u003Cspan\u003E used in this scenario also outputs some log messages every time it receives a request from the apiserver:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks4024:~# k -n team-white logs deploy/webhook-backend\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPOST request received with body: {\u0022kind\u0022:\u0022ImageReview\u0022,\u0022apiVersion\u0022:\u0022imagepolicy.k8s.io/v1alpha1\u0022,\u0022metadata\u0022:{\u0022creationTimestamp\u0022:null},\u0022spec\u0022:{\u0022containers\u0022:[{\u0022image\u0022:\u0022registry.k8s.io/kube-apiserver:v1.30.1\u0022}],\u0022namespace\u0022:\u0022kube-system\u0022},\u0022status\u0022:{\u0022allowed\u0022:false}}\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPOST request check image name: registry.k8s.io/kube-apiserver:v1.30.1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPOST request received with body: {\u0022kind\u0022:\u0022ImageReview\u0022,\u0022apiVersion\u0022:\u0022imagepolicy.k8s.io/v1alpha1\u0022,\u0022metadata\u0022:{\u0022creationTimestamp\u0022:null},\u0022spec\u0022:{\u0022containers\u0022:[{\u0022image\u0022:\u0022something/danger-danger\u0022}],\u0022namespace\u0022:\u0022default\u0022},\u0022status\u0022:{\u0022allowed\u0022:false}}\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPOST request check image name: something/danger-danger\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPOST image name FORBIDDEN\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPOST request received with body: {\u0022kind\u0022:\u0022ImageReview\u0022,\u0022apiVersion\u0022:\u0022imagepolicy.k8s.io/v1alpha1\u0022,\u0022metadata\u0022:{\u0022creationTimestamp\u0022:null},\u0022spec\u0022:{\u0022containers\u0022:[{\u0022image\u0022:\u0022nginx:alpine\u0022}],\u0022namespace\u0022:\u0022default\u0022},\u0022status\u0022:{\u0022allowed\u0022:false}}\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPOST request check image name: nginx:alpine\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 437px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 437px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EIn this case we see that the \u003C/span\u003E\u003Ccode\u003Ewebhook-backend\u003C/code\u003E\u003Cspan\u003E received three requests for \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPod\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E admissions:\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eregistry.k8s.io/kube-apiserver:v1.30.1\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Esomething/danger-danger\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Enginx:alpine\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003Cspan\u003EEven before we created the two test \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E, the backend received a request to check the container image of the \u003C/span\u003E\u003Ccode\u003Ekube-apiserver\u003C/code\u003E\u003Cspan\u003E itself. This is why misconfigurations can become quite dangerous for the whole cluster if even Kubernetes internal or CNI \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E are prevented from being created.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003C/div\u003E\u003C/div\u003E\n\u003C/body\u003E\n\u003C/html\u003E"
  },
  "tipsHtml": {
    "1.31": "\u003C!doctype html\u003E\n\u003Chtml\u003E\n\u003Chead\u003E\n\u003Cmeta charset=\u0027UTF-8\u0027\u003E\u003Cmeta name=\u0027viewport\u0027 content=\u0027width=device-width initial-scale=1\u0027\u003E\n\n\u003Clink href=\u0027https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400\u0026subset=latin,latin-ext\u0027 rel=\u0027stylesheet\u0027 type=\u0027text/css\u0027 /\u003E\u003Cstyle type=\u0027text/css\u0027\u003Ehtml {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: \u0022Lucida Console\u0022,Consolas,\u0022Courier\u0022,monospace; --title-bar-height: 20px; }\n.mac-os-11 { --title-bar-height: 28px; }\nhtml { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: \u0022Helvetica Neue\u0022, Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }\nh1, h2, h3, h4, h5 { white-space: pre-wrap; }\nbody { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.428571; overflow-x: hidden; background: inherit; }\niframe { margin: auto; }\na.url { word-break: break-all; }\na:active, a:hover { outline: 0px; }\n.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }\n#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }\n#write.first-line-indent p { text-indent: 2em; }\n#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }\n#write.first-line-indent li { margin-left: 2em; }\n.for-image #write { padding-left: 8px; padding-right: 8px; }\nbody.typora-export { padding-left: 30px; padding-right: 30px; }\n.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }\n.typora-export .task-list-item input { pointer-events: none; }\n@media screen and (max-width: 500px) {\n  body.typora-export { padding-left: 0px; padding-right: 0px; }\n  #write { padding-left: 20px; padding-right: 20px; }\n}\n#write li \u003E figure:last-child { margin-bottom: 0.5rem; }\n#write ol, #write ul { position: relative; }\nimg { max-width: 100%; vertical-align: middle; image-orientation: from-image; }\nbutton, input, select, textarea { color: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; font-size-adjust: inherit; font-kerning: inherit; font-variant-alternates: inherit; font-variant-ligatures: inherit; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-variant-position: inherit; font-variant-emoji: inherit; font-feature-settings: inherit; font-optical-sizing: inherit; font-variation-settings: inherit; }\ninput[type=\u0022checkbox\u0022], input[type=\u0022radio\u0022] { line-height: normal; padding: 0px; }\n*, ::after, ::before { box-sizing: border-box; }\n#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }\n#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }\np { line-height: inherit; }\nh1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }\np { orphans: 4; }\nh1 { font-size: 2rem; }\nh2 { font-size: 1.8rem; }\nh3 { font-size: 1.6rem; }\nh4 { font-size: 1.4rem; }\nh5 { font-size: 1.2rem; }\nh6 { font-size: 1rem; }\n.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }\n.hidden { display: none; }\n.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }\na { cursor: pointer; }\nsup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }\nsup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }\n#write input[type=\u0022checkbox\u0022] { cursor: pointer; width: inherit; height: inherit; }\nfigure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }\nfigure \u003E table { margin: 0px; }\nthead, tr { break-inside: avoid; break-after: auto; }\nthead { display: table-header-group; }\ntable { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }\ntable.md-table td { min-width: 32px; }\n.CodeMirror-gutters { border-right-width: 0px; border-right-style: none; border-right-color: currentcolor; background-color: inherit; }\n.CodeMirror-linenumber { -webkit-user-select: none; }\n.CodeMirror { text-align: left; }\n.CodeMirror-placeholder { opacity: 0.3; }\n.CodeMirror pre { padding: 0px 4px; }\n.CodeMirror-lines { padding: 0px; }\ndiv.hr:focus { cursor: none; }\n#write pre { white-space: pre-wrap; }\n#write.fences-no-line-wrapping pre { white-space: pre; }\n#write pre.ty-contain-cm { white-space: normal; }\n.CodeMirror-gutters { margin-right: 4px; }\n.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }\n.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }\n#write .md-fences.mock-cm { white-space: pre-wrap; }\n.md-fences.md-fences-with-lineno { padding-left: 0px; }\n#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }\n.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }\n.CodeMirror-line, twitterwidget { break-inside: avoid; }\nsvg { break-inside: avoid; }\n.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }\n.footnotes + .footnotes { margin-top: 0px; }\n.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }\nli div { padding-top: 0px; }\nblockquote { margin: 1rem 0px; }\nli .mathjax-block, li p { margin: 0.5rem 0px; }\nli blockquote { margin: 1rem 0px; }\nli { margin: 0px; position: relative; }\nblockquote \u003E :last-child { margin-bottom: 0px; }\nblockquote \u003E :first-child, li \u003E :first-child { margin-top: 0px; }\n.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }\n#write .footnote-line { white-space: pre-wrap; }\n@media print {\n  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }\n  #write { margin-top: 0px; border-color: transparent !important; padding-top: 0px !important; padding-bottom: 0px !important; }\n  .typora-export * { print-color-adjust: exact; }\n  .typora-export #write { break-after: avoid; }\n  .typora-export #write::after { height: 0px; }\n  .is-mac table { break-inside: avoid; }\n  #write \u003E p:nth-child(1) { margin-top: 0px; }\n  .typora-export-show-outline .typora-export-sidebar { display: none; }\n  figure { overflow-x: visible; }\n}\n.footnote-line { margin-top: 0.714em; font-size: 0.7em; }\na img, img a { cursor: pointer; }\npre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }\np \u003E .md-image:only-child:not(.md-img-error) img, p \u003E img:only-child { display: block; margin: auto; }\n#write.first-line-indent p \u003E .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }\np \u003E .md-image:only-child { display: inline-block; width: 100%; }\n#write .MathJax_Display { margin: 0.8em 0px 0px; }\n.md-math-block { width: 100%; }\n.md-math-block:not(:empty)::after { display: none; }\n.MathJax_ref { fill: currentcolor; }\n[contenteditable=\u0022true\u0022]:active, [contenteditable=\u0022true\u0022]:focus, [contenteditable=\u0022false\u0022]:active, [contenteditable=\u0022false\u0022]:focus { outline: 0px; box-shadow: none; }\n.md-task-list-item { position: relative; list-style-type: none; }\n.task-list-item.md-task-list-item { padding-left: 0px; }\n.md-task-list-item \u003E input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: medium; }\n.math { font-size: 1rem; }\n.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }\n.md-toc-content { position: relative; margin-left: 0px; }\n.md-toc-content::after, .md-toc::after { display: none; }\n.md-toc-item { display: block; color: rgb(65, 131, 196); }\n.md-toc-item a { text-decoration: none; }\n.md-toc-inner:hover { text-decoration: underline; }\n.md-toc-inner { display: inline-block; cursor: pointer; }\n.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }\n.md-toc-h2 .md-toc-inner { margin-left: 2em; }\n.md-toc-h3 .md-toc-inner { margin-left: 4em; }\n.md-toc-h4 .md-toc-inner { margin-left: 6em; }\n.md-toc-h5 .md-toc-inner { margin-left: 8em; }\n.md-toc-h6 .md-toc-inner { margin-left: 10em; }\n@media screen and (max-width: 48em) {\n  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }\n  .md-toc-h4 .md-toc-inner { margin-left: 5em; }\n  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }\n  .md-toc-h6 .md-toc-inner { margin-left: 8em; }\n}\na.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }\n.footnote-line a:not(.reversefootnote) { color: inherit; }\n.reversefootnote { font-family: ui-monospace, sans-serif; }\n.md-attr { display: none; }\n.md-fn-count::after { content: \u0022.\u0022; }\ncode, pre, samp, tt { font-family: var(--monospace); }\nkbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }\n.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }\ncode { text-align: left; vertical-align: initial; }\na.md-print-anchor { white-space: pre !important; border-width: medium !important; border-style: none !important; border-color: currentcolor !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }\n.os-windows.monocolor-emoji .md-emoji { font-family: \u0022Segoe UI Symbol\u0022, sans-serif; }\n.md-diagram-panel \u003E svg { max-width: 100%; }\n[lang=\u0022flow\u0022] svg, [lang=\u0022mermaid\u0022] svg { max-width: 100%; height: auto; }\n[lang=\u0022mermaid\u0022] .node text { font-size: 1rem; }\ntable tr th { border-bottom-width: 0px; border-bottom-style: none; border-bottom-color: currentcolor; }\nvideo { max-width: 100%; display: block; margin: 0px auto; }\niframe { max-width: 100%; width: 100%; border: medium; }\n.highlight td, .highlight tr { border: 0px; }\nmark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }\n.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }\n.md-expand mark .md-meta { opacity: 0.3 !important; }\nmark .md-meta { color: rgb(0, 0, 0); }\n@media print {\n  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }\n}\n.md-diagram-panel .messageText { stroke: none !important; }\n.md-diagram-panel .start-state { fill: var(--node-fill); }\n.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }\n.md-fences.md-fences-math { font-size: 1em; }\n.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }\n.md-fences-advanced:not(.md-focus) { background: inherit; }\n.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }\n.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }\n.typora-export-show-outline #write { --webkit-flex: 2; flex: 2 1 0%; }\n.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }\n@media screen and (max-width: 1024px) {\n  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }\n}\n@media screen and (max-width: 800px) {\n  .typora-export-sidebar { display: none; }\n}\n.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; overflow-wrap: anywhere; }\n.outline-content ul { margin-top: 0px; margin-bottom: 0px; }\n.outline-content strong { font-weight: 400; }\n.outline-expander { width: 1rem; height: 1.428571rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }\n.outline-expander::before { content: \u0022\u0022; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }\n.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }\n.outline-expander:hover::before { content: \u0022\u0022; }\n.outline-h1 \u003E .outline-item { padding-left: 0px; }\n.outline-h2 \u003E .outline-item { padding-left: 1em; }\n.outline-h3 \u003E .outline-item { padding-left: 2em; }\n.outline-h4 \u003E .outline-item { padding-left: 3em; }\n.outline-h5 \u003E .outline-item { padding-left: 4em; }\n.outline-h6 \u003E .outline-item { padding-left: 5em; }\n.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }\n.outline-label:hover { text-decoration: underline; }\n.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }\n.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left-width: 28px; border-left-style: solid; border-left-color: transparent; border-right-width: 28px; border-right-style: solid; border-right-color: transparent; }\n.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }\n.outline-item-open \u003E .outline-item \u003E .outline-expander::before { content: \u0022\u0022; }\n.outline-children { display: none; }\n.info-panel-tab-wrapper { display: none; }\n.outline-item-open \u003E .outline-children { display: block; }\n.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }\n.typora-export .outline-item:hover { margin-right: -8px; border-right-width: 8px; border-right-style: solid; border-right-color: transparent; }\n.typora-export .outline-expander::before { content: \u0022+\u0022; font-family: inherit; top: -1px; }\n.typora-export .outline-expander:hover::before, .typora-export .outline-item-open \u003E .outline-item \u003E .outline-expander::before { content: \u0022−\u0022; }\n.typora-export-collapse-outline .outline-children { display: none; }\n.typora-export-collapse-outline .outline-item-open \u003E .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }\n.typora-export-no-collapse-outline .outline-expander::before { content: \u0022\u0022 !important; }\n.typora-export-show-outline .outline-item-active \u003E .outline-item .outline-label { font-weight: 700; }\n.md-inline-math-container mjx-container { zoom: 0.95; }\nmjx-container { break-inside: avoid; }\n.md-alert.md-alert-note { border-left-color: rgb(9, 105, 218); }\n.md-alert.md-alert-important { border-left-color: rgb(130, 80, 223); }\n.md-alert.md-alert-warning { border-left-color: rgb(154, 103, 0); }\n.md-alert.md-alert-tip { border-left-color: rgb(31, 136, 61); }\n.md-alert.md-alert-caution { border-left-color: rgb(207, 34, 46); }\n.md-alert { padding: 0px 1em; margin-bottom: 16px; color: inherit; border-left-width: 0.25em; border-left-style: solid; border-left-color: rgb(0, 0, 0); }\n.md-alert-text-note { color: rgb(9, 105, 218); }\n.md-alert-text-important { color: rgb(130, 80, 223); }\n.md-alert-text-warning { color: rgb(154, 103, 0); }\n.md-alert-text-tip { color: rgb(31, 136, 61); }\n.md-alert-text-caution { color: rgb(207, 34, 46); }\n.md-alert-text { font-size: 0.9rem; font-weight: 700; }\n.md-alert-text svg { fill: currentcolor; position: relative; top: 0.125em; margin-right: 1ch; overflow: visible; }\n.md-alert-text-container::after { content: attr(data-text); text-transform: capitalize; pointer-events: none; margin-right: 1ch; }\n\n\n.CodeMirror { height: auto; }\n.CodeMirror.cm-s-inner { background: inherit; }\n.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }\n.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }\n.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background: inherit; white-space: nowrap; }\n.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }\n.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }\n.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }\n.cm-s-inner .cm-number { color: rgb(17, 102, 68); }\n.cm-s-inner .cm-def { color: rgb(0, 0, 255); }\n.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }\n.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }\n.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }\n.cm-s-inner .cm-string { color: rgb(170, 17, 17); }\n.cm-s-inner .cm-property { color: rgb(0, 0, 0); }\n.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }\n.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }\n.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }\n.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }\n.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }\n.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }\n.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }\n.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }\n.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }\n.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }\n.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }\n.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }\n.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }\n.cm-negative { color: rgb(221, 68, 68); }\n.cm-positive { color: rgb(34, 153, 34); }\n.cm-header, .cm-strong { font-weight: 700; }\n.cm-del { text-decoration: line-through; }\n.cm-em { font-style: italic; }\n.cm-link { text-decoration: underline; }\n.cm-error { color: red; }\n.cm-invalidchar { color: red; }\n.cm-constant { color: rgb(38, 139, 210); }\n.cm-defined { color: rgb(181, 137, 0); }\ndiv.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }\n.cm-s-inner .CodeMirror-activeline-background { background: inherit; }\n.CodeMirror { position: relative; overflow: hidden; }\n.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }\n.CodeMirror-sizer { position: relative; }\n.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }\n.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }\n.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }\n.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }\n.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }\n.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }\n.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }\n.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: medium !important; }\n.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }\n.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }\n.CodeMirror-lines { cursor: text; }\n.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }\n.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }\n.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }\n.CodeMirror-wrap .CodeMirror-code pre { border-right-width: medium; border-right-style: none; border-right-color: currentcolor; width: auto; }\n.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }\n.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }\n.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }\n.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }\n.CodeMirror-measure pre { position: static; }\n.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-width: medium; border-right-style: none; border-right-color: currentcolor; width: 0px; }\n.CodeMirror div.CodeMirror-cursor { visibility: hidden; }\n.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }\n.cm-searching { background: rgba(255, 255, 0, 0.4); }\nspan.cm-underlined { text-decoration: underline; }\nspan.cm-strikethrough { text-decoration: line-through; }\n.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }\n.cm-tw-deleted { text-decoration: line-through; }\n.cm-tw-header5 { font-weight: 700; }\n.cm-tw-listitem:first-child { padding-left: 10px; }\n.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }\n.cm-tw-underline { text-decoration: underline; }\n@media print {\n  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }\n}\n\n\n:root {\n    --side-bar-bg-color: #fafafa;\n    --control-text-color: #777;\n}\n\n@include-when-export url(https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400\u0026subset=latin,latin-ext);\n\n/* open-sans-regular - latin-ext_latin */\n  /* open-sans-italic - latin-ext_latin */\n    /* open-sans-700 - latin-ext_latin */\n    /* open-sans-700italic - latin-ext_latin */\n  html {\n    font-size: 16px;\n    -webkit-font-smoothing: antialiased;\n}\n\nbody {\n    font-family: \u0022Open Sans\u0022,\u0022Clear Sans\u0022, \u0022Helvetica Neue\u0022, Helvetica, Arial, \u0027Segoe UI Emoji\u0027, sans-serif;\n    color: rgb(51, 51, 51);\n    line-height: 1.6;\n}\n\n#write {\n    max-width: 860px;\n  \tmargin: 0 auto;\n  \tpadding: 30px;\n    padding-bottom: 100px;\n}\n\n@media only screen and (min-width: 1400px) {\n\t#write {\n\t\tmax-width: 1024px;\n\t}\n}\n\n@media only screen and (min-width: 1800px) {\n\t#write {\n\t\tmax-width: 1200px;\n\t}\n}\n\n#write \u003E ul:first-child,\n#write \u003E ol:first-child{\n    margin-top: 30px;\n}\n\na {\n    color: #4183C4;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    position: relative;\n    margin-top: 1rem;\n    margin-bottom: 1rem;\n    font-weight: bold;\n    line-height: 1.4;\n    cursor: text;\n}\nh1:hover a.anchor,\nh2:hover a.anchor,\nh3:hover a.anchor,\nh4:hover a.anchor,\nh5:hover a.anchor,\nh6:hover a.anchor {\n    text-decoration: none;\n}\nh1 tt,\nh1 code {\n    font-size: inherit;\n}\nh2 tt,\nh2 code {\n    font-size: inherit;\n}\nh3 tt,\nh3 code {\n    font-size: inherit;\n}\nh4 tt,\nh4 code {\n    font-size: inherit;\n}\nh5 tt,\nh5 code {\n    font-size: inherit;\n}\nh6 tt,\nh6 code {\n    font-size: inherit;\n}\nh1 {\n    font-size: 2.25em;\n    line-height: 1.2;\n    border-bottom: 1px solid #eee;\n}\nh2 {\n    font-size: 1.75em;\n    line-height: 1.225;\n    border-bottom: 1px solid #eee;\n}\n\n/*@media print {\n    .typora-export h1,\n    .typora-export h2 {\n        border-bottom: none;\n        padding-bottom: initial;\n    }\n\n    .typora-export h1::after,\n    .typora-export h2::after {\n        content: \u0022\u0022;\n        display: block;\n        height: 100px;\n        margin-top: -96px;\n        border-top: 1px solid #eee;\n    }\n}*/\n\nh3 {\n    font-size: 1.5em;\n    line-height: 1.43;\n}\nh4 {\n    font-size: 1.25em;\n}\nh5 {\n    font-size: 1em;\n}\nh6 {\n   font-size: 1em;\n    color: #777;\n}\np,\nblockquote,\nul,\nol,\ndl,\ntable{\n    margin: 0.8em 0;\n}\nli\u003Eol,\nli\u003Eul {\n    margin: 0 0;\n}\nhr {\n    height: 2px;\n    padding: 0;\n    margin: 16px 0;\n    background-color: #e7e7e7;\n    border: 0 none;\n    overflow: hidden;\n    box-sizing: content-box;\n}\n\nli p.first {\n    display: inline-block;\n}\nul,\nol {\n    padding-left: 30px;\n}\nul:first-child,\nol:first-child {\n    margin-top: 0;\n}\nul:last-child,\nol:last-child {\n    margin-bottom: 0;\n}\nblockquote {\n    border-left: 4px solid #dfe2e5;\n    padding: 0 15px;\n    color: #777777;\n}\nblockquote blockquote {\n    padding-right: 0;\n}\ntable {\n    padding: 0;\n    word-break: initial;\n}\ntable tr {\n    border: 1px solid #dfe2e5;\n    margin: 0;\n    padding: 0;\n}\ntable tr:nth-child(2n),\nthead {\n    background-color: #f8f8f8;\n}\ntable th {\n    font-weight: bold;\n    border: 1px solid #dfe2e5;\n    border-bottom: 0;\n    margin: 0;\n    padding: 6px 13px;\n}\ntable td {\n    border: 1px solid #dfe2e5;\n    margin: 0;\n    padding: 6px 13px;\n}\ntable th:first-child,\ntable td:first-child {\n    margin-top: 0;\n}\ntable th:last-child,\ntable td:last-child {\n    margin-bottom: 0;\n}\n\n.CodeMirror-lines {\n    padding-left: 4px;\n}\n\n.code-tooltip {\n    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);\n    border-top: 1px solid #eef2f2;\n}\n\n.md-fences,\ncode,\ntt {\n    border: 1px solid #e7eaed;\n    background-color: #f8f8f8;\n    border-radius: 3px;\n    padding: 0;\n    padding: 2px 4px 0px 4px;\n    font-size: 0.9em;\n}\n\ncode {\n    background-color: #f3f4f4;\n    padding: 0 2px 0 2px;\n}\n\n.md-fences {\n    margin-bottom: 15px;\n    margin-top: 15px;\n    padding-top: 8px;\n    padding-bottom: 6px;\n}\n\n\n.md-task-list-item \u003E input {\n  margin-left: -1.3em;\n}\n\n@media print {\n    html {\n        font-size: 13px;\n    }\n    pre {\n        page-break-inside: avoid;\n        word-wrap: break-word;\n    }\n}\n\n.md-fences {\n\tbackground-color: #f8f8f8;\n}\n#write pre.md-meta-block {\n\tpadding: 1rem;\n    font-size: 85%;\n    line-height: 1.45;\n    background-color: #f7f7f7;\n    border: 0;\n    border-radius: 3px;\n    color: #777777;\n    margin-top: 0 !important;\n}\n\n.mathjax-block\u003E.code-tooltip {\n\tbottom: .375rem;\n}\n\n.md-mathjax-midline {\n    background: #fafafa;\n}\n\n#write\u003Eh3.md-focus:before{\n\tleft: -1.5625rem;\n\ttop: .375rem;\n}\n#write\u003Eh4.md-focus:before{\n\tleft: -1.5625rem;\n\ttop: .285714286rem;\n}\n#write\u003Eh5.md-focus:before{\n\tleft: -1.5625rem;\n\ttop: .285714286rem;\n}\n#write\u003Eh6.md-focus:before{\n\tleft: -1.5625rem;\n\ttop: .285714286rem;\n}\n.md-image\u003E.md-meta {\n    /*border: 1px solid #ddd;*/\n    border-radius: 3px;\n    padding: 2px 0px 0px 4px;\n    font-size: 0.9em;\n    color: inherit;\n}\n\n.md-tag {\n    color: #a7a7a7;\n    opacity: 1;\n}\n\n.md-toc { \n    margin-top:20px;\n    padding-bottom:20px;\n}\n\n.sidebar-tabs {\n    border-bottom: none;\n}\n\n#typora-quick-open {\n    border: 1px solid #ddd;\n    background-color: #f8f8f8;\n}\n\n#typora-quick-open-item {\n    background-color: #FAFAFA;\n    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;\n    border-style: solid;\n    border-width: 1px;\n}\n\n/** focus mode */\n.on-focus-mode blockquote {\n    border-left-color: rgba(85, 85, 85, 0.12);\n}\n\nheader, .context-menu, .megamenu-content, footer{\n    font-family: \u0022Segoe UI\u0022, \u0022Arial\u0022, sans-serif;\n}\n\n.file-node-content:hover .file-node-icon,\n.file-node-content:hover .file-node-open-state{\n    visibility: visible;\n}\n\n.mac-seamless-mode #typora-sidebar {\n    background-color: #fafafa;\n    background-color: var(--side-bar-bg-color);\n}\n\n.mac-os #write{\n    caret-color: AccentColor;\n}\n\n.md-lang {\n    color: #b4654d;\n}\n\n/*.html-for-mac {\n    --item-hover-bg-color: #E6F0FE;\n}*/\n\n#md-notification .btn {\n    border: 0;\n}\n\n.dropdown-menu .divider {\n    border-color: #e5e5e5;\n    opacity: 0.4;\n}\n\n.ty-preferences .window-content {\n    background-color: #fafafa;\n}\n\n.ty-preferences .nav-group-item.active {\n    color: white;\n    background: #999;\n}\n\n.menu-item-container a.menu-style-btn {\n    background-color: #f5f8fa;\n    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); \n}\n\n\npre[lang=\u0022bash\u0022] {\n    background-color: #36454b;\n}\n\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror {\n    background-color: #36454b;\n    color: #EEFFFF;\n}\n\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-attribute,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-operator,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-string,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-atom,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-number,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-keyword,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-def,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-builtin {\n    color: #EEFFFF;\n}\n\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-comment {\n    color: #F78C6C;\n}\n\n\n\n\n\npre[lang=\u0022term\u0022] {\n    background-color: #1c252b;\n}\n\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror {\n    background-color: #1c252b;\n    color: #EEFFFF;\n}\n\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-attribute,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-operator,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-string,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-atom,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-number,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-keyword,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-def,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-builtin {\n    color: #EEFFFF;\n}\n\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-comment {\n    color: #F78C6C;\n}\n\n\n\n\n\n\n\n\n/* neo theme for codemirror */\n\n/* Color scheme */\n\npre[lang=\u0022yaml\u0022] .cm-s-inner.CodeMirror {\n    background-color:#ffffff;\n    color:#2e383c;\n    line-height:1.4375;\n}\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-comment { color:#F78C6C; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-keyword, pre[lang=\u0022yaml\u0022] .cm-s-inner .cm-property { color:#1d75b3; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-atom,pre[lang=\u0022yaml\u0022] .cm-s-inner .cm-number { color:#75438a; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-node,pre[lang=\u0022yaml\u0022] .cm-s-inner .cm-tag { color:#9c3328; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-string { color:#b35e14; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-variable,pre[lang=\u0022yaml\u0022] .cm-s-inner .cm-qualifier { color:#047d65; }\n\n\n/* Editor styling */\n\npre[lang=\u0022yaml\u0022] .cm-s-inner pre {\n    padding:0;\n}\n\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-gutters {\n    border:none;\n    border-right:10px solid transparent;\n    background-color:transparent;\n}\n\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-linenumber {\n    padding:0;\n    color:#e0e2e5;\n}\n\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-guttermarker { color: #1d75b3; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-guttermarker-subtle { color: #e0e2e5; }\n\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-cursor {\n    width: auto;\n    border: 0;\n    background: rgba(155,157,162,0.37);\n    z-index: 1;\n}\n\n @media print { @page {margin: 0 0 0 0;} body.typora-export {padding-left: 0; padding-right: 0;} #write {padding:0;}}\n\u003C/style\u003E\u003Ctitle\u003Etips\u003C/title\u003E\n\u003C/head\u003E\n\u003Cbody class=\u0027typora-export\u0027\u003E\u003Cdiv class=\u0027typora-export-content\u0027\u003E\n\u003Cdiv id=\u0027write\u0027  class=\u0027\u0027\u003E\u003Ch1 id=\u0027cks-tips-kubernetes-131\u0027\u003E\u003Cspan\u003ECKS Tips Kubernetes 1.31\u003C/span\u003E\u003C/h1\u003E\u003Cp\u003E\u003Cspan\u003EIn this section we\u0026#39;ll provide some tips on how to handle the CKS exam and browser terminal.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027knowledge\u0027\u003E\u003Cspan\u003EKnowledge\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EPre-Knowledge\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EYou should have your CKA knowledge up to date and be fast with kubectl, so we suggest to do:\u003C/span\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EStudy all scenarios on \u003C/span\u003E\u003Ca href=\u0027https://killercoda.com/killer-shell-cka\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://killercoda.com/killer-shell-cka\u003C/a\u003E\u003Cspan\u003E \u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EKnowledge\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EStudy all topics as proposed in the curriculum till you feel comfortable with all.\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EStudy all scenarios on \u003C/span\u003E\u003Ca href=\u0027https://killercoda.com/killer-shell-cks\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://killercoda.com/killer-shell-cks\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ERead the free Sysdig \u003C/span\u003E\u003Ca href=\u0027https://sysdig.com/resources/ebooks/kubernetes-security-guide\u0027\u003E\u003Cspan\u003EKubernetes Security Guide\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EAlso a nice read (though based on outdated k8s version) is the \u003C/span\u003E\u003Ca href=\u0027https://info.aquasec.com/container-security-book\u0027\u003E\u003Cspan\u003EKubernetes Security book\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E by Liz Rice\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ECheck out the \u003C/span\u003E\u003Ca href=\u0027https://github.com/cncf/sig-security/blob/master/security-whitepaper/CNCF_cloud-native-security-whitepaper-Nov2020.pdf\u0027\u003E\u003Cspan\u003ECloud Native Security Whitepaper\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EGreat repository with many tips and sources: \u003C/span\u003E\u003Ca href=\u0027https://github.com/walidshaari/Certified-Kubernetes-Security-Specialist\u0027\u003E\u003Cspan\u003Ewalidshari\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EApproach\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EDo 1 or 2 test session with this CKS Simulator. Understand the solutions and maybe try out other ways to achieve the same thing.\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EBe fast and breath \u003C/span\u003E\u003Ccode\u003Ekubectl\u003C/code\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EContent\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EBe comfortable with changing the kube-apiserver in a kubeadm setup\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EBe able to work with \u003C/span\u003E\u003Ca href=\u0027https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers\u0027\u003E\u003Cspan\u003EAdmissionControllers\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EKnow how to create and use the \u003C/span\u003E\u003Ca href=\u0027https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers/#imagepolicywebhook\u0027\u003E\u003Cspan\u003EImagePolicyWebhook\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EKnow how to use opensource tools \u003C/span\u003E\u003Ca href=\u0027https://falco.org/\u0027\u003E\u003Cspan\u003EFalco\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E, \u003C/span\u003E\u003Ca href=\u0027https://github.com/draios/sysdig\u0027\u003E\u003Cspan\u003ESysdig\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E, \u003C/span\u003E\u003Ca href=\u0027https://github.com/aquasecurity/tracee\u0027\u003E\u003Cspan\u003ETracee\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E, \u003C/span\u003E\u003Ca href=\u0027https://github.com/aquasecurity/trivy\u0027\u003E\u003Cspan\u003ETrivy\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027cks-exam-info\u0027\u003E\u003Cspan\u003ECKS Exam Info\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003ERead the Curriculum\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0027https://github.com/cncf/curriculum\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://github.com/cncf/curriculum\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003ERead the Handbook\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0027https://docs.linuxfoundation.org/tc-docs/certification/lf-handbook2\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://docs.linuxfoundation.org/tc-docs/certification/lf-handbook2\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003ERead the important tips\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0027https://docs.linuxfoundation.org/tc-docs/certification/important-instructions-cks\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://docs.linuxfoundation.org/tc-docs/certification/important-instructions-cks\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003ERead the FAQ\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Ca href=\u0027https://docs.linuxfoundation.org/tc-docs/certification/faq-cka-ckad-cks\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://docs.linuxfoundation.org/tc-docs/certification/faq-cka-ckad-cks\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027kubernetes-documentation\u0027\u003E\u003Cspan\u003EKubernetes documentation\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u003Cspan\u003EGet familiar with the Kubernetes documentation and be able to use the search. Allowed resources are:\u003C/span\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0027https://kubernetes.io/docs\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://kubernetes.io/docs\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0027https://kubernetes.io/blog\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://kubernetes.io/blog\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0027https://falco.org/docs\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://falco.org/docs\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0027https://kubernetes-sigs.github.io/bom/cli-reference\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://kubernetes-sigs.github.io/bom/cli-reference\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0027https://etcd.io/docs\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://etcd.io/docs\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0027https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Ca href=\u0027https://docs.cilium.io/en/stable\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://docs.cilium.io/en/stable\u003C/a\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cblockquote\u003E\u003Cp\u003Eℹ️\u003Cspan\u003E Verify the list \u003C/span\u003E\u003Ca href=\u0027https://docs.linuxfoundation.org/tc-docs/certification/certification-resources-allowed\u0027\u003E\u003Cspan\u003Ehere\u003C/span\u003E\u003C/a\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027cks-clusters\u0027\u003E\u003Cspan\u003ECKS clusters\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u003Cspan\u003EIn the CKS exam you\u0026#39;ll get access to as many clusters as you have questions, each will be solved in its own cluster. This is great because you cannot interfere with other tasks by breaking one. Every cluster will have one controlplane and one worker node.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027the-test-environment--browser-terminal\u0027\u003E\u003Cspan\u003EThe Test Environment / Browser Terminal\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u003Cspan\u003EYou\u0026#39;ll be provided with a browser terminal which uses Ubuntu/Debian. The standard shells included with a minimal install will be available, including bash. \u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003ELaggin\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThere could be some lagging, definitely make sure you are using a good internet connection because your webcam and screen are uploading all the time.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EKubectl autocompletion and commands\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EAutocompletion is configured by default, as well as the \u003C/span\u003E\u003Ccode\u003Ek\u003C/code\u003E\u003Cspan\u003E alias \u003C/span\u003E\u003Ca href=\u0027https://docs.linuxfoundation.org/tc-docs/certification/tips-cka-and-ckad\u0027\u003E\u003Cspan\u003Esource\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E and others:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Ccode\u003Ekubectl\u003C/code\u003E\u003Cspan\u003E with \u003C/span\u003E\u003Ccode\u003Ek\u003C/code\u003E\u003Cspan\u003E alias and Bash autocompletion\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Ccode\u003Eyq\u003C/code\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003Ejq\u003C/code\u003E\u003Cspan\u003Efor YAML/JSON processing\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Ccode\u003Etmux\u003C/code\u003E\u003Cspan\u003E for terminal multiplexing\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Ccode\u003Ecurl\u003C/code\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003Ewget\u003C/code\u003E\u003Cspan\u003E for testing web services\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Ccode\u003Eman\u003C/code\u003E\u003Cspan\u003E and man pages for further documentation\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003ECopy \u0026amp; Paste\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ECopy and pasting will work like normal in a Linux Environment:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EWhat always works: copy+paste using right mouse context menu\u003C/span\u003E\n\u003Cspan\u003EWhat works in Terminal: Ctrl+Shift+c and Ctrl+Shift+v\u003C/span\u003E\n\u003Cspan\u003EWhat works in other apps like Firefox: Ctrl+c and Ctrl+v\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EScore\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThere are 15-20 questions in the exam. Your results will be automatically checked according to the handbook. If you don\u0026#39;t agree with the results you can request a review by contacting the Linux Foundation Support.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003ENotepad \u0026amp; Skipping Questions\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EYou have access to a simple notepad in the browser which can be used for storing any kind of plain text. It might makes sense to use this for saving skipped question numbers. This way it\u0026#39;s possible to move some questions to the end.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EServers\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EEach question needs to be solved on a specific instance other than your main terminal. You\u0026#39;ll need to connect to the correct instance via ssh, the command is provided before each question.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027psi-bridge\u0027\u003E\u003Cspan\u003EPSI Bridge\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u003Cspan\u003EStarting with \u003C/span\u003E\u003Ca href=\u0027https://training.linuxfoundation.org/bridge-migration-2021\u0027\u003E\u003Cspan\u003EPSI Bridge\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EThe exam will now be taken using the PSI Secure Browser, which can be downloaded using the newest versions of Microsoft Edge, Safari, Chrome, or Firefox\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EMultiple monitors will no longer be permitted\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EUse of personal bookmarks will no longer be permitted\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003Cspan\u003EThe new ExamUI includes improved features such as: \u003C/span\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EA remote desktop configured with the tools and software needed to complete the tasks \u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EA timer that displays the actual time remaining (in minutes) and provides an alert with 30, 15, or 5 minute remaining\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EThe content panel remains the same (presented on the Left Hand Side of the ExamUI)\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u003Cspan\u003ERead more \u003C/span\u003E\u003Ca href=\u0027https://training.linuxfoundation.org/bridge-migration-2021\u0027\u003E\u003Cspan\u003Ehere\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027terminal-handling\u0027\u003E\u003Cspan\u003ETerminal Handling\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch3 id=\u0027bash-aliases\u0027\u003E\u003Cspan\u003EBash Aliases\u003C/span\u003E\u003C/h3\u003E\u003Cp\u003E\u003Cspan\u003EIn the real exam, each question has to be solved on a different instance to which you connect via ssh. This means it\u0026#39;s not advised to configure bash aliases because they wouldn\u0026#39;t be available on the instances accessed by ssh.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch3 id=\u0027be-fast\u0027\u003E\u003Cspan\u003EBe fast\u003C/span\u003E\u003C/h3\u003E\u003Cp\u003E\u003Cspan\u003EUse the \u003C/span\u003E\u003Ccode\u003Ehistory\u003C/code\u003E\u003Cspan\u003E command to reuse already entered commands or use even faster history search through \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003ECtrl r \u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EIf a command takes some time to execute, like sometimes \u003C/span\u003E\u003Ccode\u003Ekubectl delete pod x\u003C/code\u003E\u003Cspan\u003E. You can put a task in the background using \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003ECtrl z\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E and pull it back into foreground running command \u003C/span\u003E\u003Ccode\u003Efg\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EYou can delete \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003Epods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E fast with:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek delete pod x \u003Cspan class=\u0022cm-attribute\u0022\u003E--grace-period\u003C/span\u003E \u003Cspan class=\u0022cm-number\u0022\u003E0\u003C/span\u003E \u003Cspan class=\u0022cm-attribute\u0022\u003E--force\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch3 id=\u0027vim\u0027\u003E\u003Cspan\u003EVim\u003C/span\u003E\u003C/h3\u003E\u003Cp\u003E\u003Cspan\u003EBe great with vim.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003ESettings\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EIn case you face a situation where vim is not configured properly and you face for example issues with pasting copied content you should be able to configure via  \u003C/span\u003E\u003Ccode\u003E~/.vimrc\u003C/code\u003E\u003Cspan\u003E or by entering manually in vim settings mode:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eset tabstop=2\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eset expandtab\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eset shiftwidth=2\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThe \u003C/span\u003E\u003Ccode\u003Eexpandtab\u003C/code\u003E\u003Cspan\u003E make sure to use spaces for tabs.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ENote that changes in \u003C/span\u003E\u003Ccode\u003E~/.vimrc\u003C/code\u003E\u003Cspan\u003E will not be transferred when connecting to other instances via ssh.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EToggle vim line numbers\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EWhen in \u003C/span\u003E\u003Ccode\u003Evim\u003C/code\u003E\u003Cspan\u003E you can press \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003EEsc\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E and type \u003C/span\u003E\u003Ccode\u003E:set number\u003C/code\u003E\u003Cspan\u003E or \u003C/span\u003E\u003Ccode\u003E:set nonumber\u003C/code\u003E\u003Cspan\u003E followed by \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003EEnter\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E to toggle line numbers. This can be useful when finding syntax errors based on line - but can be bad when wanting to mark\u0026amp;copy by mouse. You can also just jump to a line number with \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003EEsc\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003E:22\u003C/code\u003E\u003Cspan\u003E + \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003EEnter\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003ECopy\u0026amp;Paste\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EGet used to copy/paste/cut with vim:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EMark lines: Esc+V (then arrow keys)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECopy marked lines: y\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECut marked lines: d\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EPast lines: p or P\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EIndent multiple lines\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003ETo indent multiple lines press \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003EEsc\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E and type \u003C/span\u003E\u003Ccode\u003E:set shiftwidth=2\u003C/code\u003E\u003Cspan\u003E. First mark multiple lines using \u003C/span\u003E\u003Ccode\u003EShift v\u003C/code\u003E\u003Cspan\u003E and the up/down keys. Then to indent the marked lines press \u003C/span\u003E\u003Ccode\u003E\u0026gt;\u003C/code\u003E\u003Cspan\u003E or \u003C/span\u003E\u003Ccode\u003E\u0026lt;\u003C/code\u003E\u003Cspan\u003E. You can then press \u003C/span\u003E\u003Ccode\u003E.\u003C/code\u003E\u003Cspan\u003E to repeat the action.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003C/div\u003E\u003C/div\u003E\n\u003C/body\u003E\n\u003C/html\u003E"
  },
  "previewHtml": {
    "1.31": "\u003C!doctype html\u003E\n\u003Chtml\u003E\n\u003Chead\u003E\u003Cstyle\u003E.input-command {display:block; background-color:#36454b;} blockquote { border-left: none !important; background-color: rgba(236, 236, 255, 0.62); padding: 10px 15px !important; margin: 10px 10px !important; border-radius: 5px; }\u003C/style\u003E\n\u003Cmeta charset=\u0027UTF-8\u0027\u003E\u003Cmeta name=\u0027viewport\u0027 content=\u0027width=device-width initial-scale=1\u0027\u003E\n\n\u003Clink href=\u0027https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400\u0026subset=latin,latin-ext\u0027 rel=\u0027stylesheet\u0027 type=\u0027text/css\u0027 /\u003E\u003Cstyle type=\u0027text/css\u0027\u003Ehtml {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: \u0022Lucida Console\u0022,Consolas,\u0022Courier\u0022,monospace; --title-bar-height: 20px; }\n.mac-os-11 { --title-bar-height: 28px; }\nhtml { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: \u0022Helvetica Neue\u0022, Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }\nh1, h2, h3, h4, h5 { white-space: pre-wrap; }\nbody { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.428571; overflow-x: hidden; background: inherit; }\niframe { margin: auto; }\na.url { word-break: break-all; }\na:active, a:hover { outline: 0px; }\n.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }\n#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }\n#write.first-line-indent p { text-indent: 2em; }\n#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }\n#write.first-line-indent li { margin-left: 2em; }\n.for-image #write { padding-left: 8px; padding-right: 8px; }\nbody.typora-export { padding-left: 30px; padding-right: 30px; }\n.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }\n.typora-export .task-list-item input { pointer-events: none; }\n@media screen and (max-width: 500px) {\n  body.typora-export { padding-left: 0px; padding-right: 0px; }\n  #write { padding-left: 20px; padding-right: 20px; }\n}\n#write li \u003E figure:last-child { margin-bottom: 0.5rem; }\n#write ol, #write ul { position: relative; }\nimg { max-width: 100%; vertical-align: middle; image-orientation: from-image; }\nbutton, input, select, textarea { color: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; font-size-adjust: inherit; font-kerning: inherit; font-variant-alternates: inherit; font-variant-ligatures: inherit; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-variant-position: inherit; font-variant-emoji: inherit; font-feature-settings: inherit; font-optical-sizing: inherit; font-variation-settings: inherit; }\ninput[type=\u0022checkbox\u0022], input[type=\u0022radio\u0022] { line-height: normal; padding: 0px; }\n*, ::after, ::before { box-sizing: border-box; }\n#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }\n#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }\np { line-height: inherit; }\nh1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }\np { orphans: 4; }\nh1 { font-size: 2rem; }\nh2 { font-size: 1.8rem; }\nh3 { font-size: 1.6rem; }\nh4 { font-size: 1.4rem; }\nh5 { font-size: 1.2rem; }\nh6 { font-size: 1rem; }\n.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }\n.hidden { display: none; }\n.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }\na { cursor: pointer; }\nsup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }\nsup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }\n#write input[type=\u0022checkbox\u0022] { cursor: pointer; width: inherit; height: inherit; }\nfigure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }\nfigure \u003E table { margin: 0px; }\nthead, tr { break-inside: avoid; break-after: auto; }\nthead { display: table-header-group; }\ntable { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }\ntable.md-table td { min-width: 32px; }\n.CodeMirror-gutters { border-right-width: 0px; border-right-style: none; border-right-color: currentcolor; background-color: inherit; }\n.CodeMirror-linenumber { -webkit-user-select: none; }\n.CodeMirror { text-align: left; }\n.CodeMirror-placeholder { opacity: 0.3; }\n.CodeMirror pre { padding: 0px 4px; }\n.CodeMirror-lines { padding: 0px; }\ndiv.hr:focus { cursor: none; }\n#write pre { white-space: pre-wrap; }\n#write.fences-no-line-wrapping pre { white-space: pre; }\n#write pre.ty-contain-cm { white-space: normal; }\n.CodeMirror-gutters { margin-right: 4px; }\n.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }\n.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }\n#write .md-fences.mock-cm { white-space: pre-wrap; }\n.md-fences.md-fences-with-lineno { padding-left: 0px; }\n#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }\n.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }\n.CodeMirror-line, twitterwidget { break-inside: avoid; }\nsvg { break-inside: avoid; }\n.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }\n.footnotes + .footnotes { margin-top: 0px; }\n.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }\nli div { padding-top: 0px; }\nblockquote { margin: 1rem 0px; }\nli .mathjax-block, li p { margin: 0.5rem 0px; }\nli blockquote { margin: 1rem 0px; }\nli { margin: 0px; position: relative; }\nblockquote \u003E :last-child { margin-bottom: 0px; }\nblockquote \u003E :first-child, li \u003E :first-child { margin-top: 0px; }\n.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }\n#write .footnote-line { white-space: pre-wrap; }\n@media print {\n  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }\n  #write { margin-top: 0px; border-color: transparent !important; padding-top: 0px !important; padding-bottom: 0px !important; }\n  .typora-export * { print-color-adjust: exact; }\n  .typora-export #write { break-after: avoid; }\n  .typora-export #write::after { height: 0px; }\n  .is-mac table { break-inside: avoid; }\n  #write \u003E p:nth-child(1) { margin-top: 0px; }\n  .typora-export-show-outline .typora-export-sidebar { display: none; }\n  figure { overflow-x: visible; }\n}\n.footnote-line { margin-top: 0.714em; font-size: 0.7em; }\na img, img a { cursor: pointer; }\npre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }\np \u003E .md-image:only-child:not(.md-img-error) img, p \u003E img:only-child { display: block; margin: auto; }\n#write.first-line-indent p \u003E .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }\np \u003E .md-image:only-child { display: inline-block; width: 100%; }\n#write .MathJax_Display { margin: 0.8em 0px 0px; }\n.md-math-block { width: 100%; }\n.md-math-block:not(:empty)::after { display: none; }\n.MathJax_ref { fill: currentcolor; }\n[contenteditable=\u0022true\u0022]:active, [contenteditable=\u0022true\u0022]:focus, [contenteditable=\u0022false\u0022]:active, [contenteditable=\u0022false\u0022]:focus { outline: 0px; box-shadow: none; }\n.md-task-list-item { position: relative; list-style-type: none; }\n.task-list-item.md-task-list-item { padding-left: 0px; }\n.md-task-list-item \u003E input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: medium; }\n.math { font-size: 1rem; }\n.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }\n.md-toc-content { position: relative; margin-left: 0px; }\n.md-toc-content::after, .md-toc::after { display: none; }\n.md-toc-item { display: block; color: rgb(65, 131, 196); }\n.md-toc-item a { text-decoration: none; }\n.md-toc-inner:hover { text-decoration: underline; }\n.md-toc-inner { display: inline-block; cursor: pointer; }\n.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }\n.md-toc-h2 .md-toc-inner { margin-left: 2em; }\n.md-toc-h3 .md-toc-inner { margin-left: 4em; }\n.md-toc-h4 .md-toc-inner { margin-left: 6em; }\n.md-toc-h5 .md-toc-inner { margin-left: 8em; }\n.md-toc-h6 .md-toc-inner { margin-left: 10em; }\n@media screen and (max-width: 48em) {\n  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }\n  .md-toc-h4 .md-toc-inner { margin-left: 5em; }\n  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }\n  .md-toc-h6 .md-toc-inner { margin-left: 8em; }\n}\na.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }\n.footnote-line a:not(.reversefootnote) { color: inherit; }\n.reversefootnote { font-family: ui-monospace, sans-serif; }\n.md-attr { display: none; }\n.md-fn-count::after { content: \u0022.\u0022; }\ncode, pre, samp, tt { font-family: var(--monospace); }\nkbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }\n.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }\ncode { text-align: left; vertical-align: initial; }\na.md-print-anchor { white-space: pre !important; border-width: medium !important; border-style: none !important; border-color: currentcolor !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }\n.os-windows.monocolor-emoji .md-emoji { font-family: \u0022Segoe UI Symbol\u0022, sans-serif; }\n.md-diagram-panel \u003E svg { max-width: 100%; }\n[lang=\u0022flow\u0022] svg, [lang=\u0022mermaid\u0022] svg { max-width: 100%; height: auto; }\n[lang=\u0022mermaid\u0022] .node text { font-size: 1rem; }\ntable tr th { border-bottom-width: 0px; border-bottom-style: none; border-bottom-color: currentcolor; }\nvideo { max-width: 100%; display: block; margin: 0px auto; }\niframe { max-width: 100%; width: 100%; border: medium; }\n.highlight td, .highlight tr { border: 0px; }\nmark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }\n.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }\n.md-expand mark .md-meta { opacity: 0.3 !important; }\nmark .md-meta { color: rgb(0, 0, 0); }\n@media print {\n  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }\n}\n.md-diagram-panel .messageText { stroke: none !important; }\n.md-diagram-panel .start-state { fill: var(--node-fill); }\n.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }\n.md-fences.md-fences-math { font-size: 1em; }\n.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }\n.md-fences-advanced:not(.md-focus) { background: inherit; }\n.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }\n.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }\n.typora-export-show-outline #write { --webkit-flex: 2; flex: 2 1 0%; }\n.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }\n@media screen and (max-width: 1024px) {\n  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }\n}\n@media screen and (max-width: 800px) {\n  .typora-export-sidebar { display: none; }\n}\n.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; overflow-wrap: anywhere; }\n.outline-content ul { margin-top: 0px; margin-bottom: 0px; }\n.outline-content strong { font-weight: 400; }\n.outline-expander { width: 1rem; height: 1.428571rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }\n.outline-expander::before { content: \u0022\u0022; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }\n.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }\n.outline-expander:hover::before { content: \u0022\u0022; }\n.outline-h1 \u003E .outline-item { padding-left: 0px; }\n.outline-h2 \u003E .outline-item { padding-left: 1em; }\n.outline-h3 \u003E .outline-item { padding-left: 2em; }\n.outline-h4 \u003E .outline-item { padding-left: 3em; }\n.outline-h5 \u003E .outline-item { padding-left: 4em; }\n.outline-h6 \u003E .outline-item { padding-left: 5em; }\n.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }\n.outline-label:hover { text-decoration: underline; }\n.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }\n.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left-width: 28px; border-left-style: solid; border-left-color: transparent; border-right-width: 28px; border-right-style: solid; border-right-color: transparent; }\n.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }\n.outline-item-open \u003E .outline-item \u003E .outline-expander::before { content: \u0022\u0022; }\n.outline-children { display: none; }\n.info-panel-tab-wrapper { display: none; }\n.outline-item-open \u003E .outline-children { display: block; }\n.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }\n.typora-export .outline-item:hover { margin-right: -8px; border-right-width: 8px; border-right-style: solid; border-right-color: transparent; }\n.typora-export .outline-expander::before { content: \u0022+\u0022; font-family: inherit; top: -1px; }\n.typora-export .outline-expander:hover::before, .typora-export .outline-item-open \u003E .outline-item \u003E .outline-expander::before { content: \u0022−\u0022; }\n.typora-export-collapse-outline .outline-children { display: none; }\n.typora-export-collapse-outline .outline-item-open \u003E .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }\n.typora-export-no-collapse-outline .outline-expander::before { content: \u0022\u0022 !important; }\n.typora-export-show-outline .outline-item-active \u003E .outline-item .outline-label { font-weight: 700; }\n.md-inline-math-container mjx-container { zoom: 0.95; }\nmjx-container { break-inside: avoid; }\n.md-alert.md-alert-note { border-left-color: rgb(9, 105, 218); }\n.md-alert.md-alert-important { border-left-color: rgb(130, 80, 223); }\n.md-alert.md-alert-warning { border-left-color: rgb(154, 103, 0); }\n.md-alert.md-alert-tip { border-left-color: rgb(31, 136, 61); }\n.md-alert.md-alert-caution { border-left-color: rgb(207, 34, 46); }\n.md-alert { padding: 0px 1em; margin-bottom: 16px; color: inherit; border-left-width: 0.25em; border-left-style: solid; border-left-color: rgb(0, 0, 0); }\n.md-alert-text-note { color: rgb(9, 105, 218); }\n.md-alert-text-important { color: rgb(130, 80, 223); }\n.md-alert-text-warning { color: rgb(154, 103, 0); }\n.md-alert-text-tip { color: rgb(31, 136, 61); }\n.md-alert-text-caution { color: rgb(207, 34, 46); }\n.md-alert-text { font-size: 0.9rem; font-weight: 700; }\n.md-alert-text svg { fill: currentcolor; position: relative; top: 0.125em; margin-right: 1ch; overflow: visible; }\n.md-alert-text-container::after { content: attr(data-text); text-transform: capitalize; pointer-events: none; margin-right: 1ch; }\n\n\n.CodeMirror { height: auto; }\n.CodeMirror.cm-s-inner { background: inherit; }\n.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }\n.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }\n.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background: inherit; white-space: nowrap; }\n.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }\n.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }\n.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }\n.cm-s-inner .cm-number { color: rgb(17, 102, 68); }\n.cm-s-inner .cm-def { color: rgb(0, 0, 255); }\n.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }\n.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }\n.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }\n.cm-s-inner .cm-string { color: rgb(170, 17, 17); }\n.cm-s-inner .cm-property { color: rgb(0, 0, 0); }\n.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }\n.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }\n.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }\n.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }\n.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }\n.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }\n.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }\n.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }\n.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }\n.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }\n.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }\n.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }\n.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }\n.cm-negative { color: rgb(221, 68, 68); }\n.cm-positive { color: rgb(34, 153, 34); }\n.cm-header, .cm-strong { font-weight: 700; }\n.cm-del { text-decoration: line-through; }\n.cm-em { font-style: italic; }\n.cm-link { text-decoration: underline; }\n.cm-error { color: red; }\n.cm-invalidchar { color: red; }\n.cm-constant { color: rgb(38, 139, 210); }\n.cm-defined { color: rgb(181, 137, 0); }\ndiv.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }\n.cm-s-inner .CodeMirror-activeline-background { background: inherit; }\n.CodeMirror { position: relative; overflow: hidden; }\n.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }\n.CodeMirror-sizer { position: relative; }\n.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }\n.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }\n.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }\n.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }\n.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }\n.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }\n.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }\n.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: medium !important; }\n.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }\n.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }\n.CodeMirror-lines { cursor: text; }\n.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }\n.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }\n.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }\n.CodeMirror-wrap .CodeMirror-code pre { border-right-width: medium; border-right-style: none; border-right-color: currentcolor; width: auto; }\n.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }\n.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }\n.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }\n.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }\n.CodeMirror-measure pre { position: static; }\n.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-width: medium; border-right-style: none; border-right-color: currentcolor; width: 0px; }\n.CodeMirror div.CodeMirror-cursor { visibility: hidden; }\n.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }\n.cm-searching { background: rgba(255, 255, 0, 0.4); }\nspan.cm-underlined { text-decoration: underline; }\nspan.cm-strikethrough { text-decoration: line-through; }\n.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }\n.cm-tw-deleted { text-decoration: line-through; }\n.cm-tw-header5 { font-weight: 700; }\n.cm-tw-listitem:first-child { padding-left: 10px; }\n.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }\n.cm-tw-underline { text-decoration: underline; }\n@media print {\n  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }\n}\n\n\n:root {\n    --side-bar-bg-color: #fafafa;\n    --control-text-color: #777;\n}\n\n@include-when-export url(https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400\u0026subset=latin,latin-ext);\n\n/* open-sans-regular - latin-ext_latin */\n  /* open-sans-italic - latin-ext_latin */\n    /* open-sans-700 - latin-ext_latin */\n    /* open-sans-700italic - latin-ext_latin */\n  html {\n    font-size: 16px;\n    -webkit-font-smoothing: antialiased;\n}\n\nbody {\n    font-family: \u0022Open Sans\u0022,\u0022Clear Sans\u0022, \u0022Helvetica Neue\u0022, Helvetica, Arial, \u0027Segoe UI Emoji\u0027, sans-serif;\n    color: rgb(51, 51, 51);\n    line-height: 1.6;\n}\n\n#write {\n    max-width: 860px;\n  \tmargin: 0 auto;\n  \tpadding: 30px;\n    padding-bottom: 100px;\n}\n\n@media only screen and (min-width: 1400px) {\n\t#write {\n\t\tmax-width: 1024px;\n\t}\n}\n\n@media only screen and (min-width: 1800px) {\n\t#write {\n\t\tmax-width: 1200px;\n\t}\n}\n\n#write \u003E ul:first-child,\n#write \u003E ol:first-child{\n    margin-top: 30px;\n}\n\na {\n    color: #4183C4;\n}\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    position: relative;\n    margin-top: 1rem;\n    margin-bottom: 1rem;\n    font-weight: bold;\n    line-height: 1.4;\n    cursor: text;\n}\nh1:hover a.anchor,\nh2:hover a.anchor,\nh3:hover a.anchor,\nh4:hover a.anchor,\nh5:hover a.anchor,\nh6:hover a.anchor {\n    text-decoration: none;\n}\nh1 tt,\nh1 code {\n    font-size: inherit;\n}\nh2 tt,\nh2 code {\n    font-size: inherit;\n}\nh3 tt,\nh3 code {\n    font-size: inherit;\n}\nh4 tt,\nh4 code {\n    font-size: inherit;\n}\nh5 tt,\nh5 code {\n    font-size: inherit;\n}\nh6 tt,\nh6 code {\n    font-size: inherit;\n}\nh1 {\n    font-size: 2.25em;\n    line-height: 1.2;\n    border-bottom: 1px solid #eee;\n}\nh2 {\n    font-size: 1.75em;\n    line-height: 1.225;\n    border-bottom: 1px solid #eee;\n}\n\n/*@media print {\n    .typora-export h1,\n    .typora-export h2 {\n        border-bottom: none;\n        padding-bottom: initial;\n    }\n\n    .typora-export h1::after,\n    .typora-export h2::after {\n        content: \u0022\u0022;\n        display: block;\n        height: 100px;\n        margin-top: -96px;\n        border-top: 1px solid #eee;\n    }\n}*/\n\nh3 {\n    font-size: 1.5em;\n    line-height: 1.43;\n}\nh4 {\n    font-size: 1.25em;\n}\nh5 {\n    font-size: 1em;\n}\nh6 {\n   font-size: 1em;\n    color: #777;\n}\np,\nblockquote,\nul,\nol,\ndl,\ntable{\n    margin: 0.8em 0;\n}\nli\u003Eol,\nli\u003Eul {\n    margin: 0 0;\n}\nhr {\n    height: 2px;\n    padding: 0;\n    margin: 16px 0;\n    background-color: #e7e7e7;\n    border: 0 none;\n    overflow: hidden;\n    box-sizing: content-box;\n}\n\nli p.first {\n    display: inline-block;\n}\nul,\nol {\n    padding-left: 30px;\n}\nul:first-child,\nol:first-child {\n    margin-top: 0;\n}\nul:last-child,\nol:last-child {\n    margin-bottom: 0;\n}\nblockquote {\n    border-left: 4px solid #dfe2e5;\n    padding: 0 15px;\n    color: #777777;\n}\nblockquote blockquote {\n    padding-right: 0;\n}\ntable {\n    padding: 0;\n    word-break: initial;\n}\ntable tr {\n    border: 1px solid #dfe2e5;\n    margin: 0;\n    padding: 0;\n}\ntable tr:nth-child(2n),\nthead {\n    background-color: #f8f8f8;\n}\ntable th {\n    font-weight: bold;\n    border: 1px solid #dfe2e5;\n    border-bottom: 0;\n    margin: 0;\n    padding: 6px 13px;\n}\ntable td {\n    border: 1px solid #dfe2e5;\n    margin: 0;\n    padding: 6px 13px;\n}\ntable th:first-child,\ntable td:first-child {\n    margin-top: 0;\n}\ntable th:last-child,\ntable td:last-child {\n    margin-bottom: 0;\n}\n\n.CodeMirror-lines {\n    padding-left: 4px;\n}\n\n.code-tooltip {\n    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);\n    border-top: 1px solid #eef2f2;\n}\n\n.md-fences,\ncode,\ntt {\n    border: 1px solid #e7eaed;\n    background-color: #f8f8f8;\n    border-radius: 3px;\n    padding: 0;\n    padding: 2px 4px 0px 4px;\n    font-size: 0.9em;\n}\n\ncode {\n    background-color: #f3f4f4;\n    padding: 0 2px 0 2px;\n}\n\n.md-fences {\n    margin-bottom: 15px;\n    margin-top: 15px;\n    padding-top: 8px;\n    padding-bottom: 6px;\n}\n\n\n.md-task-list-item \u003E input {\n  margin-left: -1.3em;\n}\n\n@media print {\n    html {\n        font-size: 13px;\n    }\n    pre {\n        page-break-inside: avoid;\n        word-wrap: break-word;\n    }\n}\n\n.md-fences {\n\tbackground-color: #f8f8f8;\n}\n#write pre.md-meta-block {\n\tpadding: 1rem;\n    font-size: 85%;\n    line-height: 1.45;\n    background-color: #f7f7f7;\n    border: 0;\n    border-radius: 3px;\n    color: #777777;\n    margin-top: 0 !important;\n}\n\n.mathjax-block\u003E.code-tooltip {\n\tbottom: .375rem;\n}\n\n.md-mathjax-midline {\n    background: #fafafa;\n}\n\n#write\u003Eh3.md-focus:before{\n\tleft: -1.5625rem;\n\ttop: .375rem;\n}\n#write\u003Eh4.md-focus:before{\n\tleft: -1.5625rem;\n\ttop: .285714286rem;\n}\n#write\u003Eh5.md-focus:before{\n\tleft: -1.5625rem;\n\ttop: .285714286rem;\n}\n#write\u003Eh6.md-focus:before{\n\tleft: -1.5625rem;\n\ttop: .285714286rem;\n}\n.md-image\u003E.md-meta {\n    /*border: 1px solid #ddd;*/\n    border-radius: 3px;\n    padding: 2px 0px 0px 4px;\n    font-size: 0.9em;\n    color: inherit;\n}\n\n.md-tag {\n    color: #a7a7a7;\n    opacity: 1;\n}\n\n.md-toc { \n    margin-top:20px;\n    padding-bottom:20px;\n}\n\n.sidebar-tabs {\n    border-bottom: none;\n}\n\n#typora-quick-open {\n    border: 1px solid #ddd;\n    background-color: #f8f8f8;\n}\n\n#typora-quick-open-item {\n    background-color: #FAFAFA;\n    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;\n    border-style: solid;\n    border-width: 1px;\n}\n\n/** focus mode */\n.on-focus-mode blockquote {\n    border-left-color: rgba(85, 85, 85, 0.12);\n}\n\nheader, .context-menu, .megamenu-content, footer{\n    font-family: \u0022Segoe UI\u0022, \u0022Arial\u0022, sans-serif;\n}\n\n.file-node-content:hover .file-node-icon,\n.file-node-content:hover .file-node-open-state{\n    visibility: visible;\n}\n\n.mac-seamless-mode #typora-sidebar {\n    background-color: #fafafa;\n    background-color: var(--side-bar-bg-color);\n}\n\n.mac-os #write{\n    caret-color: AccentColor;\n}\n\n.md-lang {\n    color: #b4654d;\n}\n\n/*.html-for-mac {\n    --item-hover-bg-color: #E6F0FE;\n}*/\n\n#md-notification .btn {\n    border: 0;\n}\n\n.dropdown-menu .divider {\n    border-color: #e5e5e5;\n    opacity: 0.4;\n}\n\n.ty-preferences .window-content {\n    background-color: #fafafa;\n}\n\n.ty-preferences .nav-group-item.active {\n    color: white;\n    background: #999;\n}\n\n.menu-item-container a.menu-style-btn {\n    background-color: #f5f8fa;\n    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); \n}\n\n\npre[lang=\u0022bash\u0022] {\n    background-color: #36454b;\n}\n\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror {\n    background-color: #36454b;\n    color: #EEFFFF;\n}\n\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-attribute,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-operator,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-string,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-atom,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-number,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-keyword,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-def,\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-builtin {\n    color: #EEFFFF;\n}\n\npre[lang=\u0022bash\u0022] .cm-s-inner.CodeMirror .cm-comment {\n    color: #F78C6C;\n}\n\n\n\n\n\npre[lang=\u0022term\u0022] {\n    background-color: #1c252b;\n}\n\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror {\n    background-color: #1c252b;\n    color: #EEFFFF;\n}\n\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-attribute,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-operator,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-string,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-atom,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-number,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-keyword,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-def,\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-builtin {\n    color: #EEFFFF;\n}\n\npre[lang=\u0022term\u0022] .cm-s-inner.CodeMirror .cm-comment {\n    color: #F78C6C;\n}\n\n\n\n\n\n\n\n\n/* neo theme for codemirror */\n\n/* Color scheme */\n\npre[lang=\u0022yaml\u0022] .cm-s-inner.CodeMirror {\n    background-color:#ffffff;\n    color:#2e383c;\n    line-height:1.4375;\n}\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-comment { color:#F78C6C; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-keyword, pre[lang=\u0022yaml\u0022] .cm-s-inner .cm-property { color:#1d75b3; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-atom,pre[lang=\u0022yaml\u0022] .cm-s-inner .cm-number { color:#75438a; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-node,pre[lang=\u0022yaml\u0022] .cm-s-inner .cm-tag { color:#9c3328; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-string { color:#b35e14; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .cm-variable,pre[lang=\u0022yaml\u0022] .cm-s-inner .cm-qualifier { color:#047d65; }\n\n\n/* Editor styling */\n\npre[lang=\u0022yaml\u0022] .cm-s-inner pre {\n    padding:0;\n}\n\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-gutters {\n    border:none;\n    border-right:10px solid transparent;\n    background-color:transparent;\n}\n\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-linenumber {\n    padding:0;\n    color:#e0e2e5;\n}\n\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-guttermarker { color: #1d75b3; }\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-guttermarker-subtle { color: #e0e2e5; }\n\npre[lang=\u0022yaml\u0022] .cm-s-inner .CodeMirror-cursor {\n    width: auto;\n    border: 0;\n    background: rgba(155,157,162,0.37);\n    z-index: 1;\n}\n\n @media print { @page {margin: 0 0 0 0;} body.typora-export {padding-left: 0; padding-right: 0;} #write {padding:0;}}\n\u003C/style\u003E\u003Ctitle\u003Epreview\u003C/title\u003E\n\u003C/head\u003E\n\u003Cbody class=\u0027typora-export\u0027\u003E\u003Cdiv class=\u0027typora-export-content\u0027\u003E\n\u003Cdiv id=\u0027write\u0027  class=\u0027\u0027\u003E\u003Ch1 id=\u0027cks-simulator-preview-kubernetes-131\u0027\u003E\u003Cspan\u003ECKS Simulator Preview Kubernetes 1.31\u003C/span\u003E\u003C/h1\u003E\u003Cp\u003E\u003Ca href=\u0027https://killer.sh\u0027 target=\u0027_blank\u0027 class=\u0027url\u0027\u003Ehttps://killer.sh\u003C/a\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThis is a preview of the full CKS Simulator course content.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThe full course contains 22 questions and scenarios which cover all the CKS areas. The course also provides a browser terminal which is a very close replica of the original one. This is great to get used and comfortable before the real exam. After the test session (120 minutes), or if you stop it early, you\u0026#39;ll get access to all questions and their detailed solutions. You\u0026#39;ll have 36 hours cluster access in total which means even after the session, once you have the solutions, you can still play around.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThe following preview will give you an idea of what the full course will provide. These preview questions are not part of the 22 in the full course but in addition to it. But the preview questions are part of the same CKS simulation environment which we setup for you, so with access to the full course you can solve these too.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cspan\u003EThese questions can be solved in the test environment provided through the CKS Simulator\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027preview-question-1\u0027\u003E\u003Cspan\u003EPreview Question 1\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks3477\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EYou\u0026#39;re asked to implement some RBAC for user \u003C/span\u003E\u003Ccode\u003Egianna\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EThere are existing cluster-level RBAC resource in place to, among other things, ensure that user \u003C/span\u003E\u003Ccode\u003Egianna\u003C/code\u003E\u003Cspan\u003E can never read \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E contents cluster-wide. Confirm this is correct or restrict the existing RBAC resources to ensure this.\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EI addition, create more RBAC resources to allow user \u003C/span\u003E\u003Ccode\u003Egianna\u003C/code\u003E\u003Cspan\u003E to create \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployments\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespaces\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Esecurity\u003C/code\u003E\u003Cspan\u003E, \u003C/span\u003E\u003Ccode\u003Erestricted\u003C/code\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003Einternal\u003C/code\u003E\u003Cspan\u003E. It\u0026#39;s likely the user will receive these exact permissions as well for other \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespaces\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in the future.\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u003Cspan\u003ETo test your RBAC your can:\u003C/span\u003E\u003C/p\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003ESwitch to the other context with:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek config use-context gianna@infra-prod\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cspan\u003EAnd afterwards switch back to the default context with:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ek config use-context kubernetes-admin@kubernetes\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003C/li\u003E\u003C/ul\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027part-1---check-existing-rbac-rules\u0027\u003E\u003Cspan\u003EPart 1 - check existing RBAC rules\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003EWe should probably first have a look at the existing RBAC resources for user \u003C/span\u003E\u003Ccode\u003Egianna\u003C/code\u003E\u003Cspan\u003E. We don\u0026#39;t know the resource names but we know these are cluster-level so we can search for a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EClusterRoleBinding\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks3477\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k get clusterrolebinding -oyaml | grep gianna -A10 -B20\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EFrom this we see the binding is also called \u003C/span\u003E\u003Ccode\u003Egianna\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k edit clusterrolebinding gianna\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# kubectl edit clusterrolebinding gianna\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Erbac.authorization.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EClusterRoleBinding\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  creationTimestamp\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u00222020-09-26T13:57:58Z\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  resourceVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u00223049\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  selfLink\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E/apis/rbac.authorization.k8s.io/v1/clusterrolebindings/gianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  uidapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Erbac.authorization.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EClusterRoleBinding\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  annotations\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  resourceVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u00222337\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  uid\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E13fac261-e523-4ea4-a2a3-ca2e6fc455a7\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EroleRef\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  apiGroup\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Erbac.authorization.k8s.io\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  kind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EClusterRole\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Esubjects\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiGroup\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Erbac.authorization.k8s.io\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  kind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EUser\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egianna\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E72b64a3b-5958-4cf8-8078-e5be2c55b25d\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EroleRef\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  apiGroup\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Erbac.authorization.k8s.io\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  kind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EClusterRole\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Esubjects\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiGroup\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Erbac.authorization.k8s.io\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  kind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EUser\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egianna\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 640px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 640px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EIt links user \u003C/span\u003E\u003Ccode\u003Egianna\u003C/code\u003E\u003Cspan\u003E to same named \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EClusterRole\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k edit clusterrole gianna\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# kubectl edit clusterrole gianna\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Erbac.authorization.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EClusterRole\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  annotations\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  resourceVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u00222334\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  uid\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eeaab42d8-817d-4922-98e2-eafb09c8bfbe\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Erules\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiGroups\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  resources\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Esecrets\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Econfigmaps\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Epods\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Enamespaces\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  verbs\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Elist\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 380px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 380px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAccording to the task the user should never be able to read \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E content. They verb \u003C/span\u003E\u003Ccode\u003Elist\u003C/code\u003E\u003Cspan\u003E might indicate on first look that this is correct. We can also check using \u003C/span\u003E\u003Ca href=\u0027https://kubernetes.io/docs/reference/access-authn-authz/authentication/#user-impersonation\u0027\u003E\u003Cspan\u003EK8s User Impersonation\u003C/span\u003E\u003C/a\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k auth can-i list secrets --as gianna\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eyes\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k auth can-i get secrets --as gianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eno\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EBut let\u0026#39;s have a closer look:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k config use-context gianna@infra-prod\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ESwitched to context \u0022gianna@infra-prod\u0022.\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n security get secrets\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  TYPE \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  DATA \u0026nbsp; AGE\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Edefault-token-gn455 \u0026nbsp; kubernetes.io/service-account-token \u0026nbsp; 3 \u0026nbsp; \u0026nbsp;  20m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubeadmin-token \u0026nbsp; \u0026nbsp; \u0026nbsp; Opaque \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  1 \u0026nbsp; \u0026nbsp;  20m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Emysql-admin \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Opaque \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  1 \u0026nbsp; \u0026nbsp;  20m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epostgres001 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Opaque \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  1 \u0026nbsp; \u0026nbsp;  20m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epostgres002 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Opaque \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  1 \u0026nbsp; \u0026nbsp;  20m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Evault-token \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Opaque \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  1 \u0026nbsp; \u0026nbsp;  20m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n security get secret kubeadmin-token\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EError from server (Forbidden): secrets \u0022kubeadmin-token\u0022 is forbidden: User \u0022gianna\u0022 cannot get resource \u0022secrets\u0022 in API group \u0022\u0022 in the namespace \u0022security\u0022\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 345px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 345px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EStill all good. \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003EBut\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E being able to list resources also allows to specify the format:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n security get secrets -oyaml | grep password\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  password: ekhHYW5lQUVTaVVxCg==\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;  {\u0022apiVersion\u0022:\u0022v1\u0022,\u0022data\u0022:{\u0022password\u0022:\u0022ekhHYW5lQUVTaVVxCg==\u0022},\u0022kind\u0022:\u0022Secret\u0022,\u0022metadata\u0022:{\u0022annotations\u0022:{},\u0022name\u0022:\u0022kubeadmin-token\u0022,\u0022namespace\u0022:\u0022security\u0022},\u0022type\u0022:\u0022Opaque\u0022}\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  f:password: {}\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  password: bWdFVlBSdEpEWHBFCg==\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E...\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 184px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 184px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThe user \u003C/span\u003E\u003Ccode\u003Egianna\u003C/code\u003E\u003Cspan\u003E is actually able to read \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecret\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E content. To prevent this we should remove the ability to list these:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k config use-context infra-prod # back to admin context\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k edit clusterrole gianna\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 8px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# kubectl edit clusterrole gianna\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Erbac.authorization.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EClusterRole\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  annotations\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E \u0026nbsp;  kubectl.kubernetes.io/last-applied-configuration\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: |\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-def\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  creationTimestamp\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u00222024-09-08T11:03:26Z\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  resourceVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u00222334\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  uid\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Eeaab42d8-817d-4922-98e2-eafb09c8bfbe\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Erules\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiGroups\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  resources\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-comment\u0022\u003E#- secrets \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; # REMOVE\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Econfigmaps\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Epods\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Enamespaces\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  verbs\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Elist\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 420px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 420px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAnd the result:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k auth can-i list secrets --as gianna\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eno\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k auth can-i get secrets --as gianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eno\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EBetter.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch6 id=\u0027part-2---create-additional-rbac-rules\u0027\u003E\u003Cspan\u003EPart 2 - create additional RBAC rules\u003C/span\u003E\u003C/h6\u003E\u003Cp\u003E\u003Cspan\u003ELet\u0026#39;s talk a little about RBAC resources:\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EA \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EClusterRole\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E|\u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ERole\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E defines a set of permissions and \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003Ewhere it is available\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E, in the whole cluster or just a single \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EA \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EClusterRoleBinding\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E|\u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ERoleBinding\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E connects a set of permissions with an account and defines \u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003Ewhere it is applied\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E, in the whole cluster or just a single \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EBecause of this there are 4 different RBAC combinations and 3 valid ones:\u003C/span\u003E\u003C/p\u003E\u003Col start=\u0027\u0027 \u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003E\u003Cspan\u003ERole\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E + \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ERoleBinding\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E (available in single \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E, applied in single \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E)\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003E\u003Cspan\u003EClusterRole\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E + \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EClusterRoleBinding\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E (available cluster-wide, applied cluster-wide)\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003E\u003Cspan\u003EClusterRole\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E + \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ERoleBinding\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E  (available cluster-wide, applied in single \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E)\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003E\u003Cspan\u003ERole\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E + \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EClusterRoleBinding\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E (\u003C/span\u003E\u003Cstrong\u003E\u003Cspan\u003ENOT POSSIBLE:\u003C/span\u003E\u003C/strong\u003E\u003Cspan\u003E available in single \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E, applied cluster-wide)\u003C/span\u003E\u003C/p\u003E\u003C/li\u003E\u003C/ol\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThe user \u003C/span\u003E\u003Ccode\u003Egianna\u003C/code\u003E\u003Cspan\u003E should be able to create \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployments\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in three \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespaces\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E. We can use number 1 or 3 from the list above. But because the task says: \u0026quot;The user might receive these exact permissions as well for other \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespaces\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in the future\u0026quot;, we choose number 3 as it requires to only create one \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EClusterRole\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E instead of three \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ERoles\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k create clusterrole gianna-additional --verb=create --resource=pods --resource=deployments\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eclusterrole.rbac.authorization.k8s.io/gianna-additional created\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 92px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 92px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThis will create a \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EClusterRole\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E like:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 7.75px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# kubectl create clusterrole gianna-additional --verb=create --resource=pods --resource=deployments\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Erbac.authorization.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EClusterRole\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  creationTimestamp\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enull\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egianna-additional\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Erules\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiGroups\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003E\u003Cspan class=\u0022cm-string\u0022\u003E\u0022\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  resources\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Epods\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  verbs\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Ecreate\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiGroups\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Eapps\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  resources\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Edeployments\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  verbs\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E  - \u003C/span\u003Ecreate\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 400px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 400px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENext the three bindings:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n security create rolebinding gianna-additional \\\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E--clusterrole=gianna-additional --user=gianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Erolebinding.rbac.authorization.k8s.io/gianna-additional created\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n restricted create rolebinding gianna-additional \\\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E--clusterrole=gianna-additional --user=gianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Erolebinding.rbac.authorization.k8s.io/gianna-additional created\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n internal create rolebinding gianna-additional \\\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E--clusterrole=gianna-additional --user=gianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Erolebinding.rbac.authorization.k8s.io/gianna-additional created\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 368px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 368px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EWhich will create \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ERoleBindings\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E like:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022yaml\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022yaml\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 7.75px; left: 4px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-comment\u0022\u003E# k -n security create rolebinding gianna-additional --clusterrole=gianna-additional --user=gianna\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiVersion\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Erbac.authorization.k8s.io/v1\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Ekind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003ERoleBinding\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Emetadata\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  creationTimestamp\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Enull\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egianna-additional\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  namespace\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Esecurity\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EroleRef\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  apiGroup\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Erbac.authorization.k8s.io\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  kind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EClusterRole\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egianna-additional\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003Esubjects\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E:\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E- \u003C/span\u003E\u003Cspan class=\u0022cm-atom\u0022\u003EapiGroup\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Erbac.authorization.k8s.io\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  kind\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003EUser\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-atom\u0022\u003E  name\u003C/span\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E: \u003C/span\u003Egianna\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 320px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 320px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAnd we test:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n default auth can-i create pods --as gianna\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eno\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n security auth can-i create pods --as gianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eyes\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n restricted auth can-i create pods --as gianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eyes\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n internal auth can-i create pods --as gianna\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eyes\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 253px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 253px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EFeel free to verify this as well by actually creating \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPods\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EDeployments\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E as user \u003C/span\u003E\u003Ccode\u003Egianna\u003C/code\u003E\u003Cspan\u003E through context \u003C/span\u003E\u003Ccode\u003Egianna@infra-prod\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027preview-question-2\u0027\u003E\u003Cspan\u003EPreview Question 2\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks3477\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Esecurity\u003C/code\u003E\u003Cspan\u003E contains five \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E of type Opaque which can be considered highly confidential. The latest Incident-Prevention-Investigation revealed that \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EServiceAccount\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Ep.auster\u003C/code\u003E\u003Cspan\u003E had too broad access to the cluster for some time. This \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESA\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E should\u0026#39;ve never had access to any \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in that \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EFind out which \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENamespace\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Esecurity\u003C/code\u003E\u003Cspan\u003E this \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESA\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E did access by looking at the Audit Logs under \u003C/span\u003E\u003Ccode\u003E/opt/course/p2/audit.log\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EChange the password to any new string of only those \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E that were accessed by this \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESA\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cblockquote\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003E\u003Cspan\u003ENOTE:\u003C/span\u003E\u003C/em\u003E\u003C/strong\u003E\u003Cspan\u003E  You can use \u003C/span\u003E\u003Ccode\u003Ejq\u003C/code\u003E\u003Cspan\u003E to render json more readable, like \u003C/span\u003E\u003Ccode\u003Ecat data.json | jq\u003C/code\u003E\u003C/p\u003E\u003C/blockquote\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-2\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003EFirst we look at the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E this is about:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks3477\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# k -n security get secret | grep Opaque\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ekubeadmin-token \u0026nbsp; \u0026nbsp; \u0026nbsp; Opaque \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  1 \u0026nbsp; \u0026nbsp;  37m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Emysql-admin \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Opaque \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  1 \u0026nbsp; \u0026nbsp;  37m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epostgres001 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Opaque \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  1 \u0026nbsp; \u0026nbsp;  37m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Epostgres002 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Opaque \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  1 \u0026nbsp; \u0026nbsp;  37m\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Evault-token \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Opaque \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  1 \u0026nbsp; \u0026nbsp;  37m\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 184px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 184px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENext we investigate the Audit Log file:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:~# cd /opt/course/p2\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/p2$ ls -lh\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Eaudit.log\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/p2$ cat audit.log | wc -l\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E4448\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 161px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 161px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAudit Logs can be huge and it\u0026#39;s common to limit the amount by creating an Audit \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E and to transfer the data in systems like Elasticsearch. In this case we have a simple JSON export, but it already contains 4448 lines.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EWe should try to filter the file down to relevant information:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/p2$ cat audit.log | grep \u0022p.auster\u0022 | wc -l\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E28\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENot too bad, only 28 logs for \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EServiceAccount\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Ep.auster\u003C/code\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/p2$ cat audit.log | grep \u0022p.auster\u0022 | grep Secret | wc -l\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAnd only 2 logs related to \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E...\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/p2$ cat audit.log | grep \u0022p.auster\u0022 | grep Secret | grep list | wc -l\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E0\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/p2$ cat audit.log | grep \u0022p.auster\u0022 | grep Secret | grep get | wc -l\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E2\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 207px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 207px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ENo list actions, which is good, but 2 get actions, so we check these out:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022bash\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-builtin\u0022\u003Ecat\u003C/span\u003E audit.log | \u003Cspan class=\u0022cm-builtin\u0022\u003Egrep\u003C/span\u003E \u003Cspan class=\u0022cm-string\u0022\u003E\u0022p.auster\u0022\u003C/span\u003E | \u003Cspan class=\u0022cm-builtin\u0022\u003Egrep\u003C/span\u003E Secret | \u003Cspan class=\u0022cm-builtin\u0022\u003Egrep\u003C/span\u003E \u003Cspan class=\u0022cm-builtin\u0022\u003Eget\u003C/span\u003E | jq\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 23px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022json\u0022 style=\u0022break-inside: unset;\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022json\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E{\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022kind\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022Event\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022apiVersion\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022audit.k8s.io/v1\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022level\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022RequestResponse\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022auditID\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u002274fd9e03-abea-4df1-b3d0-9cfeff9ad97a\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022stage\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022ResponseComplete\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022requestURI\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022/api/v1/namespaces/security/secrets/vault-token\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022verb\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022get\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022user\u0022\u003C/span\u003E: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022username\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:serviceaccount:security:p.auster\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022uid\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u002229ecb107-c0e8-4f2d-816a-b16f4391999c\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022groups\u0022\u003C/span\u003E: [\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:serviceaccounts\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:serviceaccounts:security\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:authenticated\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  ]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022userAgent\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022curl/7.64.0\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022objectRef\u0022\u003C/span\u003E: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022resource\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022secrets\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022namespace\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022security\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022name\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022vault-token\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022apiVersion\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022v1\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u003Cspan class=\u0022cm-meta\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E{\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022kind\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022Event\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022apiVersion\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022audit.k8s.io/v1\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022level\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022RequestResponse\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022auditID\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022aed6caf9-5af0-4872-8f09-ad55974bb5e0\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022stage\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022ResponseComplete\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022requestURI\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022/api/v1/namespaces/security/secrets/mysql-admin\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022verb\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022get\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022user\u0022\u003C/span\u003E: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022username\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:serviceaccount:security:p.auster\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022uid\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u002229ecb107-c0e8-4f2d-816a-b16f4391999c\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022groups\u0022\u003C/span\u003E: [\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:serviceaccounts\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:serviceaccounts:security\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022system:authenticated\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;  ]\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022userAgent\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022curl/7.64.0\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp;\u003Cspan class=\u0022cm-string\u0022\u003E\u0022objectRef\u0022\u003C/span\u003E: {\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022resource\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022secrets\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022namespace\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022security\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022name\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022mysql-admin\u0022\u003C/span\u003E,\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E \u0026nbsp; \u0026nbsp;\u003Cspan class=\u0022cm-string cm-property\u0022\u003E\u0022apiVersion\u0022\u003C/span\u003E: \u003Cspan class=\u0022cm-string\u0022\u003E\u0022v1\u0022\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E  },\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan class=\u0022cm-meta\u0022\u003E...\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E}\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 1242px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 1242px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThere we see that \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E \u003C/span\u003E\u003Ccode\u003Evault-token\u003C/code\u003E\u003Cspan\u003E and \u003C/span\u003E\u003Ccode\u003Emysql-admin\u003C/code\u003E\u003Cspan\u003E were accessed by \u003C/span\u003E\u003Ccode\u003Ep.auster\u003C/code\u003E\u003Cspan\u003E. Hence we change the passwords for those.\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/p2$ echo new-vault-pass | base64\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EbmV3LXZhdWx0LXBhc3MK\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/p2$ k -n security edit secret vault-token\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/p2$ echo new-mysql-pass | base64\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003EbmV3LW15c3FsLXBhc3MK\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks3477:/opt/course/p2$ k -n security edit secret mysql-admin\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 207px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 207px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EAudit Logs ftw.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EBy running \u003C/span\u003E\u003Ccode\u003Ecat audit.log | grep \u0026quot;p.auster\u0026quot; | grep Secret | grep password\u003C/code\u003E\u003Cspan\u003E we can see that passwords are stored in the Audit Logs, because they store the complete content of \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E. It\u0026#39;s never a good idea to reveal passwords in logs. In this case it would probably be sufficient to only store Metadata level information of \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ESecrets\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E which can be controlled via a Audit \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003EPolicy\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch2 id=\u0027preview-question-3\u0027\u003E\u003Cspan\u003EPreview Question 3\u003C/span\u003E\u003C/h2\u003E\u003Cp\u003E\u003Cspan\u003ESolve this question on: \u003C/span\u003E\u003Ccode\u003Essh cks8930\u003C/code\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EA security scan result shows that there is an unknown miner process running on one of the \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENodes\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E in this cluster.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EThe report states that the process is listening on port 6666.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u003Cspan\u003EKill the process and delete the binary.\u003C/span\u003E\u003C/p\u003E\u003Cp\u003E\u0026nbsp;\u003C/p\u003E\u003Ch5 id=\u0027answer-3\u0027\u003E\u003Cspan\u003EAnswer:\u003C/span\u003E\u003C/h5\u003E\u003Cp\u003E\u003Cspan\u003EWe have a look at existing \u003C/span\u003E\u003Cem\u003E\u003Cspan\u003ENodes\u003C/span\u003E\u003C/em\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ ssh cks8930\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# k get node\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ENAME \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  STATUS \u0026nbsp; ROLES \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; AGE \u0026nbsp; VERSION\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks8930 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; Ready \u0026nbsp;  control-plane \u0026nbsp; 26m \u0026nbsp; v1.29.5\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Ecks8930-node1 \u0026nbsp; Ready \u0026nbsp;  \u0026lt;none\u0026gt; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  26m \u0026nbsp; v1.29.5\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 138px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 138px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EFirst we check the master:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022 style=\u0022\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ candidate@cks8930:~# sudo -i\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# netstat -plnt | grep 6666\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# \u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EDoesn\u0026#39;t look like any process listening on this port. So we check the worker:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930:~# ssh cks8930-node1\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# netstat -plnt | grep 6666\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Etcp6 \u0026nbsp; \u0026nbsp; \u0026nbsp; 0 \u0026nbsp; \u0026nbsp;  0 :::6666 \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; :::* \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp; \u0026nbsp;  LISTEN \u0026nbsp; \u0026nbsp;  8198/system-atm \u0026nbsp; \u0026nbsp;\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 115px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EThere we go! We could also use \u003C/span\u003E\u003Ccode\u003Elsof\u003C/code\u003E\u003Cspan\u003E:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# lsof -i :6666\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003ECOMMAND \u0026nbsp;  PID USER \u0026nbsp; FD \u0026nbsp; TYPE DEVICE SIZE/OFF NODE NAME\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Esystem-at 8198 root \u0026nbsp;  3u  IPv6  39776 \u0026nbsp; \u0026nbsp;  0t0  TCP *:6666 (LISTEN)\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EBefore we kill the process we can check the magic \u003C/span\u003E\u003Ccode\u003E/proc\u003C/code\u003E\u003Cspan\u003E directory for the full process path:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# ls -lh /proc/8198/exe\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003Elrwxrwxrwx 1 root root 0 Sep  8 14:44 /proc/8198/exe -\u0026gt; /usr/bin/system-atm\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 46px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003ESo we finish it:\u003C/span\u003E\u003C/p\u003E\u003Cpre class=\u0022md-fences md-end-block ty-contain-cm modeLoaded\u0022 spellcheck=\u0022false\u0022 lang=\u0022term\u0022\u003E\u003Cdiv class=\u0022CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap\u0022 lang=\u0022term\u0022\u003E\u003Cdiv style=\u0022overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;\u0022\u003E\u003Ctextarea autocorrect=\u0022off\u0022 autocapitalize=\u0022off\u0022 spellcheck=\u0022false\u0022 tabindex=\u00220\u0022 style=\u0022position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;\u0022\u003E\u003C/textarea\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scrollbar-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-filler\u0022 cm-not-content=\u0022true\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-scroll\u0022 tabindex=\u0022-1\u0022\u003E\u003Cdiv class=\u0022CodeMirror-sizer\u0022 style=\u0022margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;\u0022\u003E\u003Cdiv style=\u0022position: relative; top: 0px;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-lines\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv role=\u0022presentation\u0022 style=\u0022position: relative; outline: currentcolor;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003Cpre\u003E\u003Cspan\u003Exxxxxxxxxx\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-measure\u0022\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: relative; z-index: 1;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-code\u0022 role=\u0022presentation\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline\u0022 style=\u0022position: relative;\u0022\u003E\u003Cdiv class=\u0022CodeMirror-activeline-background CodeMirror-linebackground\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutter-background CodeMirror-activeline-gutter\u0022 style=\u0022left: 0px; width: 0px;\u0022\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# kill -9 8198\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022\u003E\u003Cspan cm-text=\u0022\u0022 cm-zwsp=\u0022\u0022\u003E\n\u003C/span\u003E\u003C/span\u003E\u003C/pre\u003E\u003Cpre class=\u0022 CodeMirror-line \u0022 role=\u0022presentation\u0022\u003E\u003Cspan role=\u0022presentation\u0022 style=\u0022padding-right: 0.1px;\u0022 class=\u0022input-command\u0022\u003E➜ root@cks8930-node1:~# rm /usr/bin/system-atm\u003C/span\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv style=\u0022position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 69px;\u0022\u003E\u003C/div\u003E\u003Cdiv class=\u0022CodeMirror-gutters\u0022 style=\u0022display: none; height: 69px;\u0022\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E\u003C/pre\u003E\u003Cp\u003E\u003Cspan\u003EDone.\u003C/span\u003E\u003C/p\u003E\u003C/div\u003E\u003C/div\u003E\n\u003C/body\u003E\n\u003C/html\u003E"
  }
}
